/*

 Copyright (C) 2011-2014 Almende B.V, http://almende.com

 Vis.js is dual licensed under both

 The Apache 2.0 License
   http://www.apache.org/licenses/LICENSE-2.0

 and

 The MIT License
   http://opensource.org/licenses/MIT

 Vis.js may be distributed under either license.
*/
(function(q,g){"object"===typeof exports&&"object"===typeof module?module.exports=g():"function"===typeof define&&define.amd?define(g):"object"===typeof exports?exports.vis=g():q.vis=g()})(this,function(){return function(q){function g(a){if(m[a])return m[a].exports;var d=m[a]={exports:{},id:a,loaded:!1};q[a].call(d.exports,d,d.exports,g);d.loaded=!0;return d.exports}var m={};g.m=q;g.c=m;g.p="";return g(0)}([function(q,g,m){g.util=m(1);g.DOMutil=m(2);g.DataSet=m(3);g.DataView=m(4);g.Queue=m(5);g.Graph3d=
m(6);g.graph3d={Camera:m(7),Filter:m(8),Point2d:m(9),Point3d:m(10),Slider:m(11),StepNumber:m(12)};g.Timeline=m(13);g.Graph2d=m(14);g.timeline={DateUtil:m(15),DataStep:m(16),Range:m(17),stack:m(18),TimeStep:m(19),components:{items:{Item:m(31),BackgroundItem:m(32),BoxItem:m(33),PointItem:m(34),RangeItem:m(35)},Component:m(20),CurrentTime:m(21),CustomTime:m(22),DataAxis:m(23),GraphGroup:m(24),Group:m(25),BackgroundGroup:m(26),ItemSet:m(27),Legend:m(28),LineGraph:m(29),TimeAxis:m(30)}};g.Network=m(36);
g.network={Edge:m(37),Groups:m(38),Images:m(39),Node:m(40),Popup:m(41),dotparser:m(42),gephiParser:m(43)};g.Graph=function(){throw Error("Graph is renamed to Network. Please create a graph as new vis.Network(...)");};g.moment=m(44);g.hammer=m(45)},function(q,g,m){var a=m(44);g.isNumber=function(b){return b instanceof Number||"number"==typeof b};g.isString=function(b){return b instanceof String||"string"==typeof b};g.isDate=function(b){return b instanceof Date||g.isString(b)&&(d.exec(b)||!isNaN(Date.parse(b)))?
!0:!1};g.isDataTable=function(b){return"undefined"!==typeof google&&google.visualization&&google.visualization.DataTable&&b instanceof google.visualization.DataTable};g.randomUUID=function(){var b=function(){return Math.floor(65536*Math.random()).toString(16)};return b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b()};g.extend=function(b,e){for(var c=1,a=arguments.length;c<a;c++){var d=arguments[c],h;for(h in d)d.hasOwnProperty(h)&&(b[h]=d[h])}return b};g.selectiveExtend=function(b,e,c){if(!Array.isArray(b))throw Error("Array with property names expected as first argument");
for(var a=2;a<arguments.length;a++)for(var d=arguments[a],h=0;h<b.length;h++){var n=b[h];d.hasOwnProperty(n)&&(e[n]=d[n])}return e};g.selectiveDeepExtend=function(b,e,c){if(Array.isArray(c))throw new TypeError("Arrays are not supported by deepExtend");for(var a=2;a<arguments.length;a++)for(var d=arguments[a],h=0;h<b.length;h++){var n=b[h];if(d.hasOwnProperty(n))if(c[n]&&c[n].constructor===Object)void 0===e[n]&&(e[n]={}),e[n].constructor===Object?g.deepExtend(e[n],c[n]):e[n]=c[n];else{if(Array.isArray(c[n]))throw new TypeError("Arrays are not supported by deepExtend");
e[n]=c[n]}}return e};g.selectiveNotDeepExtend=function(b,e,c){if(Array.isArray(c))throw new TypeError("Arrays are not supported by deepExtend");for(var a in c)if(c.hasOwnProperty(a)&&-1==b.indexOf(a))if(c[a]&&c[a].constructor===Object)void 0===e[a]&&(e[a]={}),e[a].constructor===Object?g.deepExtend(e[a],c[a]):e[a]=c[a];else{if(Array.isArray(c[a]))throw new TypeError("Arrays are not supported by deepExtend");e[a]=c[a]}return e};g.deepExtend=function(b,e){if(Array.isArray(e))throw new TypeError("Arrays are not supported by deepExtend");
for(var c in e)if(e.hasOwnProperty(c))if(e[c]&&e[c].constructor===Object)void 0===b[c]&&(b[c]={}),b[c].constructor===Object?g.deepExtend(b[c],e[c]):b[c]=e[c];else{if(Array.isArray(e[c]))throw new TypeError("Arrays are not supported by deepExtend");b[c]=e[c]}return b};g.equalArray=function(b,e){if(b.length!=e.length)return!1;for(var c=0,a=b.length;c<a;c++)if(b[c]!=e[c])return!1;return!0};g.convert=function(b,e){var c;if(void 0!==b){if(null===b)return null;if(!e)return b;if("string"!==typeof e&&!(e instanceof
String))throw Error("Type must be a string");switch(e){case "boolean":case "Boolean":return Boolean(b);case "number":case "Number":return Number(b.valueOf());case "string":case "String":return String(b);case "Date":if(g.isNumber(b))return new Date(b);if(b instanceof Date||a.isMoment(b))return new Date(b.valueOf());if(g.isString(b))return(c=d.exec(b))?new Date(Number(c[1])):a(b).toDate();throw Error("Cannot convert object of type "+g.getType(b)+" to type Date");case "Moment":if(g.isNumber(b))return a(b);
if(b instanceof Date)return a(b.valueOf());if(a.isMoment(b))return a(b);if(g.isString(b))return(c=d.exec(b))?a(Number(c[1])):a(b);throw Error("Cannot convert object of type "+g.getType(b)+" to type Date");case "ISODate":if(g.isNumber(b))return new Date(b);if(b instanceof Date)return b.toISOString();if(a.isMoment(b))return b.toDate().toISOString();if(g.isString(b))return(c=d.exec(b))?(new Date(Number(c[1]))).toISOString():(new Date(b)).toISOString();throw Error("Cannot convert object of type "+g.getType(b)+
" to type ISODate");case "ASPDate":if(g.isNumber(b))return"/Date("+b+")/";if(b instanceof Date)return"/Date("+b.valueOf()+")/";if(g.isString(b))return c=d.exec(b),"/Date("+(c?(new Date(Number(c[1]))).valueOf():(new Date(b)).valueOf())+")/";throw Error("Cannot convert object of type "+g.getType(b)+" to type ASPDate");default:throw Error('Unknown type "'+e+'"');}}};var d=/^\/?Date\((\-?\d+)/i;g.getType=function(b){var c=typeof b;return"object"==c?null==b?"null":b instanceof Boolean?"Boolean":b instanceof
Number?"Number":b instanceof String?"String":Array.isArray(b)?"Array":b instanceof Date?"Date":"Object":"number"==c?"Number":"boolean"==c?"Boolean":"string"==c?"String":c};g.getAbsoluteLeft=function(b){return b.getBoundingClientRect().left+window.pageXOffset};g.getAbsoluteTop=function(b){return b.getBoundingClientRect().top+window.pageYOffset};g.addClassName=function(b,c){var a=b.className.split(" ");-1==a.indexOf(c)&&(a.push(c),b.className=a.join(" "))};g.removeClassName=function(b,c){var a=b.className.split(" "),
d=a.indexOf(c);-1!=d&&(a.splice(d,1),b.className=a.join(" "))};g.forEach=function(b,c){var a,d;if(Array.isArray(b))for(a=0,d=b.length;a<d;a++)c(b[a],a,b);else for(a in b)b.hasOwnProperty(a)&&c(b[a],a,b)};g.toArray=function(b){var c=[],a;for(a in b)b.hasOwnProperty(a)&&c.push(b[a]);return c};g.updateProperty=function(b,c,a){return b[c]!==a?(b[c]=a,!0):!1};g.addEventListener=function(b,c,a,d){b.addEventListener?(void 0===d&&(d=!1),"mousewheel"===c&&0<=navigator.userAgent.indexOf("Firefox")&&(c="DOMMouseScroll"),
b.addEventListener(c,a,d)):b.attachEvent("on"+c,a)};g.removeEventListener=function(b,c,a,d){b.removeEventListener?(void 0===d&&(d=!1),"mousewheel"===c&&0<=navigator.userAgent.indexOf("Firefox")&&(c="DOMMouseScroll"),b.removeEventListener(c,a,d)):b.detachEvent("on"+c,a)};g.preventDefault=function(b){b||(b=window.event);b.preventDefault?b.preventDefault():b.returnValue=!1};g.getTarget=function(b){b||(b=window.event);var c;b.target?c=b.target:b.srcElement&&(c=b.srcElement);void 0!=c.nodeType&&3==c.nodeType&&
(c=c.parentNode);return c};g.option={};g.option.asBoolean=function(b,c){"function"==typeof b&&(b=b());return null!=b?0!=b:c||null};g.option.asNumber=function(b,c){"function"==typeof b&&(b=b());return null!=b?Number(b)||c||null:c||null};g.option.asString=function(b,c){"function"==typeof b&&(b=b());return null!=b?String(b):c||null};g.option.asSize=function(b,c){"function"==typeof b&&(b=b());return g.isString(b)?b:g.isNumber(b)?b+"px":c||null};g.option.asElement=function(b,c){"function"==typeof b&&(b=
b());return b||c||null};g.GiveDec=function(b){return"A"==b?10:"B"==b?11:"C"==b?12:"D"==b?13:"E"==b?14:"F"==b?15:eval(b)};g.GiveHex=function(b){return 10==b?"A":11==b?"B":12==b?"C":13==b?"D":14==b?"E":15==b?"F":""+b};g.parseColor=function(b){var c;if(g.isString(b))if(g.isValidRGB(b)&&(b=b.substr(4).substr(0,b.length-5).split(","),b=g.RGBToHex(b[0],b[1],b[2])),g.isValidHex(b)){var a=g.hexToHSV(b);c=a.h;var d=.45*a.s,k=Math.min(1,1.05*a.v),h=a.h;Math.min(1,1.25*a.v);a=g.HSVToHex(h,h,.6*a.v);c=g.HSVToHex(c,
d,k);c={background:b,border:a,highlight:{background:c,border:a},hover:{background:c,border:a}}}else c={background:b,border:b,highlight:{background:b,border:b},hover:{background:b,border:b}};else c={},c.background=b.background||"white",c.border=b.border||c.background,g.isString(b.highlight)?c.highlight={border:b.highlight,background:b.highlight}:(c.highlight={},c.highlight.background=b.highlight&&b.highlight.background||c.background,c.highlight.border=b.highlight&&b.highlight.border||c.border),g.isString(b.hover)?
c.hover={border:b.hover,background:b.hover}:(c.hover={},c.hover.background=b.hover&&b.hover.background||c.background,c.hover.border=b.hover&&b.hover.border||c.border);return c};g.hexToRGB=function(b){b=b.replace("#","").toUpperCase();var c=g.GiveDec(b.substring(0,1)),a=g.GiveDec(b.substring(1,2)),d=g.GiveDec(b.substring(2,3)),k=g.GiveDec(b.substring(3,4)),h=g.GiveDec(b.substring(4,5));b=g.GiveDec(b.substring(5,6));c=16*c+a;return{r:c,g:16*d+k,b:16*h+b}};g.RGBToHex=function(b,c,a){var d=g.GiveHex(Math.floor(b/
16));b=g.GiveHex(b%16);var k=g.GiveHex(Math.floor(c/16));c=g.GiveHex(c%16);var h=g.GiveHex(Math.floor(a/16));a=g.GiveHex(a%16);return"#"+(d+b+k+c+h+a)};g.RGBToHSV=function(b,c,a){b/=255;c/=255;a/=255;var d=Math.min(b,Math.min(c,a)),k=Math.max(b,Math.max(c,a));return d==k?{h:0,s:0,v:d}:{h:60*((b==d?3:a==d?1:5)-(b==d?c-a:a==d?b-c:a-b)/(k-d))/360,s:(k-d)/k,v:k}};var c={split:function(b){var c={};b.split(";").forEach(function(b){if(""!=b.trim()){var a=b.split(":");b=a[0].trim();a=a[1].trim();c[b]=a}});
return c},join:function(b){return Object.keys(b).map(function(c){return c+": "+b[c]}).join("; ")}};g.addCssText=function(b,a){var d=c.split(b.style.cssText),l=c.split(a),d=g.extend(d,l);b.style.cssText=c.join(d)};g.removeCssText=function(b,a){var d=c.split(b.style.cssText),l=c.split(a),k;for(k in l)l.hasOwnProperty(k)&&delete d[k];b.style.cssText=c.join(d)};g.HSVToRGB=function(b,c,a){var d,k,h,n=Math.floor(6*b),p=6*b-n;b=a*(1-c);var r=a*(1-p*c);c=a*(1-(1-p)*c);switch(n%6){case 0:d=a;k=c;h=b;break;
case 1:d=r;k=a;h=b;break;case 2:d=b;k=a;h=c;break;case 3:d=b;k=r;h=a;break;case 4:d=c;k=b;h=a;break;case 5:d=a,k=b,h=r}return{r:Math.floor(255*d),g:Math.floor(255*k),b:Math.floor(255*h)}};g.HSVToHex=function(b,c,a){b=g.HSVToRGB(b,c,a);return g.RGBToHex(b.r,b.g,b.b)};g.hexToHSV=function(b){b=g.hexToRGB(b);return g.RGBToHSV(b.r,b.g,b.b)};g.isValidHex=function(b){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(b)};g.isValidRGB=function(b){b=b.replace(" ","");return/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(b)};
g.selectiveBridgeObject=function(b,c){if("object"==typeof c){for(var a=Object.create(c),d=0;d<b.length;d++)c.hasOwnProperty(b[d])&&"object"==typeof c[b[d]]&&(a[b[d]]=g.bridgeObject(c[b[d]]));return a}return null};g.bridgeObject=function(b){if("object"==typeof b){var c=Object.create(b),a;for(a in b)b.hasOwnProperty(a)&&"object"==typeof b[a]&&(c[a]=g.bridgeObject(b[a]));return c}return null};g.mergeOptions=function(b,c,a){if(void 0!==c[a])if("boolean"==typeof c[a])b[a].enabled=c[a];else{b[a].enabled=
!0;for(var d in c[a])c[a].hasOwnProperty(d)&&(b[a][d]=c[a][d])}};g.binarySearchCustom=function(b,c,a,d){for(var k=0,h=0,n=b.length-1;h<=n&&1E4>k;){var p=Math.floor((h+n)/2),r=b[p],r=c(void 0===d?r[a]:r[a][d]);if(0==r)return p;-1==r?h=p+1:n=p-1;k++}return-1};g.binarySearchValue=function(b,c,a,d){for(var k=0,h=0,n=b.length-1,p,r,u,v;h<=n&&1E4>k;){v=Math.floor(.5*(n+h));p=b[Math.max(0,v-1)][a];r=b[v][a];u=b[Math.min(b.length-1,v+1)][a];if(r==c)return v;if(p<c&&r>c)return"before"==d?Math.max(0,v-1):v;
if(r<c&&u>c)return"before"==d?v:Math.min(b.length-1,v+1);r<c?h=v+1:n=v-1;k++}return-1};g.easeInOutQuad=function(b,c,a,d){a-=c;b/=d/2;if(1>b)return a/2*b*b+c;b--;return-a/2*(b*(b-2)-1)+c};g.easingFunctions={linear:function(b){return b},easeInQuad:function(b){return b*b},easeOutQuad:function(b){return b*(2-b)},easeInOutQuad:function(b){return.5>b?2*b*b:-1+(4-2*b)*b},easeInCubic:function(b){return b*b*b},easeOutCubic:function(b){return--b*b*b+1},easeInOutCubic:function(b){return.5>b?4*b*b*b:(b-1)*(2*
b-2)*(2*b-2)+1},easeInQuart:function(b){return b*b*b*b},easeOutQuart:function(b){return 1- --b*b*b*b},easeInOutQuart:function(b){return.5>b?8*b*b*b*b:1-8*--b*b*b*b},easeInQuint:function(b){return b*b*b*b*b},easeOutQuint:function(b){return 1+--b*b*b*b*b},easeInOutQuint:function(b){return.5>b?16*b*b*b*b*b:1+16*--b*b*b*b*b}}},function(q,g,m){g.prepareElements=function(a){for(var d in a)a.hasOwnProperty(d)&&(a[d].redundant=a[d].used,a[d].used=[])};g.cleanupElements=function(a){for(var d in a)if(a.hasOwnProperty(d)&&
a[d].redundant){for(var c=0;c<a[d].redundant.length;c++)a[d].redundant[c].parentNode.removeChild(a[d].redundant[c]);a[d].redundant=[]}};g.getSVGElement=function(a,d,c){var b;d.hasOwnProperty(a)?0<d[a].redundant.length?(b=d[a].redundant[0],d[a].redundant.shift()):(b=document.createElementNS("http://www.w3.org/2000/svg",a),c.appendChild(b)):(b=document.createElementNS("http://www.w3.org/2000/svg",a),d[a]={used:[],redundant:[]},c.appendChild(b));d[a].used.push(b);return b};g.getDOMElement=function(a,
d,c,b){var e;d.hasOwnProperty(a)?0<d[a].redundant.length?(e=d[a].redundant[0],d[a].redundant.shift()):(e=document.createElement(a),void 0!==b?c.insertBefore(e,b):c.appendChild(e)):(e=document.createElement(a),d[a]={used:[],redundant:[]},void 0!==b?c.insertBefore(e,b):c.appendChild(e));d[a].used.push(e);return e};g.drawPoint=function(a,d,c,b,e){"circle"==c.options.drawPoints.style?(b=g.getSVGElement("circle",b,e),b.setAttributeNS(null,"cx",a),b.setAttributeNS(null,"cy",d),b.setAttributeNS(null,"r",
.5*c.options.drawPoints.size)):(b=g.getSVGElement("rect",b,e),b.setAttributeNS(null,"x",a-.5*c.options.drawPoints.size),b.setAttributeNS(null,"y",d-.5*c.options.drawPoints.size),b.setAttributeNS(null,"width",c.options.drawPoints.size),b.setAttributeNS(null,"height",c.options.drawPoints.size));void 0!==c.options.drawPoints.styles&&b.setAttributeNS(null,"style",c.group.options.drawPoints.styles);b.setAttributeNS(null,"class",c.className+" point");return b};g.drawBar=function(a,d,c,b,e,f,l){0!=b&&(0>
b&&(b*=-1,d-=b),f=g.getSVGElement("rect",f,l),f.setAttributeNS(null,"x",a-.5*c),f.setAttributeNS(null,"y",d),f.setAttributeNS(null,"width",c),f.setAttributeNS(null,"height",b),f.setAttributeNS(null,"class",e))}},function(q,g,m){function a(b,c){!b||Array.isArray(b)||d.isDataTable(b)||(c=b,b=null);this._options=c||{};this._data={};this._fieldId=this._options.fieldId||"id";this._type={};if(this._options.type)for(var a in this._options.type)if(this._options.type.hasOwnProperty(a)){var l=this._options.type[a];
this._type[a]="Date"==l||"ISODate"==l||"ASPDate"==l?"Date":l}if(this._options.convert)throw Error('Option "convert" is deprecated. Use "type" instead.');this._subscribers={};b&&this.add(b);this.setOptions(c)}var d=m(1),c=m(5);a.prototype.setOptions=function(b){b&&void 0!==b.queue&&(!1===b.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=c.extend(this,{replace:["add","update","remove"]})),"object"===typeof b.queue&&this._queue.setOptions(b.queue)))};a.prototype.on=
function(b,c){var a=this._subscribers[b];a||(a=[],this._subscribers[b]=a);a.push({callback:c})};a.prototype.subscribe=a.prototype.on;a.prototype.off=function(b,c){var a=this._subscribers[b];a&&(this._subscribers[b]=a.filter(function(b){return b.callback!=c}))};a.prototype.unsubscribe=a.prototype.off;a.prototype._trigger=function(b,c,a){if("*"==b)throw Error("Cannot trigger event *");var d=[];b in this._subscribers&&(d=d.concat(this._subscribers[b]));"*"in this._subscribers&&(d=d.concat(this._subscribers["*"]));
for(var k=0;k<d.length;k++){var h=d[k];h.callback&&h.callback(b,c,a||null)}};a.prototype.add=function(b,c){var a=[],l;if(Array.isArray(b))for(var k=0,h=b.length;k<h;k++)l=this._addItem(b[k]),a.push(l);else if(d.isDataTable(b))for(var k=this._getColumnNames(b),h=0,n=b.getNumberOfRows();h<n;h++){l={};for(var p=0,r=k.length;p<r;p++)l[k[p]]=b.getValue(h,p);l=this._addItem(l);a.push(l)}else if(b instanceof Object)l=this._addItem(b),a.push(l);else throw Error("Unknown dataType");a.length&&this._trigger("add",
{items:a},c);return a};a.prototype.update=function(b,c){var a=[],l=[],k=[],h=this,n=h._fieldId,p=function(b){var c=b[n];h._data[c]?(c=h._updateItem(b),l.push(c),k.push(b)):(c=h._addItem(b),a.push(c))};if(Array.isArray(b))for(var r=0,u=b.length;r<u;r++)p(b[r]);else if(d.isDataTable(b))for(var r=this._getColumnNames(b),u=0,v=b.getNumberOfRows();u<v;u++){for(var B={},g=0,m=r.length;g<m;g++)B[r[g]]=b.getValue(u,g);p(B)}else if(b instanceof Object)p(b);else throw Error("Unknown dataType");a.length&&this._trigger("add",
{items:a},c);l.length&&this._trigger("update",{items:l,data:k},c);return a.concat(l)};a.prototype.get=function(b,c,a){var l,k,h=d.getType(b);"String"==h||"Number"==h?(l=b,b=c):"Array"==h?(k=b,b=c):a=c;if(b&&b.returnType){h=-1==["DataTable","Array","Object"].indexOf(b.returnType)?"Array":b.returnType;if(a&&h!=d.getType(a))throw Error('Type of parameter "data" ('+d.getType(a)+") does not correspond with specified options.type ("+b.type+")");if("DataTable"==h&&!d.isDataTable(a))throw Error('Parameter "data" must be a DataTable when options.type is "DataTable"');
}else h=a?"DataTable"==d.getType(a)?"DataTable":"Array":"Array";var n=b&&b.type||this._options.type,p=b&&b.filter;c=[];var r,u,v;if(void 0!=l)r=this._getItem(l,n),p&&!p(r)&&(r=null);else if(void 0!=k)for(u=0,v=k.length;u<v;u++)r=this._getItem(k[u],n),p&&!p(r)||c.push(r);else for(u in this._data)this._data.hasOwnProperty(u)&&(r=this._getItem(u,n),p&&!p(r)||c.push(r));b&&b.order&&void 0==l&&this._sort(c,b.order);if(b&&b.fields)if(k=b.fields,void 0!=l)r=this._filterFields(r,k);else for(u=0,v=c.length;u<
v;u++)c[u]=this._filterFields(c[u],k);if("DataTable"==h){k=this._getColumnNames(a);if(void 0!=l)this._appendRow(a,k,r);else for(u=0;u<c.length;u++)this._appendRow(a,k,c[u]);return a}if("Object"==h){l={};for(u=0;u<c.length;u++)l[c[u].id]=c[u];return l}if(void 0!=l)return r;if(a){u=0;for(v=c.length;u<v;u++)a.push(c[u]);return a}return c};a.prototype.getIds=function(b){var c=this._data,a=b&&b.filter,d=b&&b.order,k=b&&b.type||this._options.type,h,n,p=[];if(a)if(d){b=[];for(h in c)c.hasOwnProperty(h)&&
(n=this._getItem(h,k),a(n)&&b.push(n));this._sort(b,d);c=0;for(a=b.length;c<a;c++)p[c]=b[c][this._fieldId]}else for(h in c)c.hasOwnProperty(h)&&(n=this._getItem(h,k),a(n)&&p.push(n[this._fieldId]));else if(d){b=[];for(h in c)c.hasOwnProperty(h)&&b.push(c[h]);this._sort(b,d);c=0;for(a=b.length;c<a;c++)p[c]=b[c][this._fieldId]}else for(h in c)c.hasOwnProperty(h)&&(n=c[h],p.push(n[this._fieldId]));return p};a.prototype.getDataSet=function(){return this};a.prototype.forEach=function(b,c){var a=c&&c.filter,
d=c&&c.type||this._options.type,k=this._data,h,n;if(c&&c.order)for(a=this.get(c),d=0,k=a.length;d<k;d++)h=a[d],n=h[this._fieldId],b(h,n);else for(n in k)k.hasOwnProperty(n)&&(h=this._getItem(n,d),a&&!a(h)||b(h,n))};a.prototype.map=function(b,c){var a=c&&c.filter,d=c&&c.type||this._options.type,k=[],h=this._data,n,p;for(p in h)h.hasOwnProperty(p)&&(n=this._getItem(p,d),a&&!a(n)||k.push(b(n,p)));c&&c.order&&this._sort(k,c.order);return k};a.prototype._filterFields=function(b,c){var a={},d;for(d in b)b.hasOwnProperty(d)&&
-1!=c.indexOf(d)&&(a[d]=b[d]);return a};a.prototype._sort=function(b,c){if(d.isString(c))b.sort(function(b,a){var d=b[c],h=a[c];return d>h?1:d<h?-1:0});else if("function"===typeof c)b.sort(c);else throw new TypeError("Order must be a function or a string");};a.prototype.remove=function(b,c){var a=[],d,k,h;if(Array.isArray(b))for(d=0,k=b.length;d<k;d++)h=this._remove(b[d]),null!=h&&a.push(h);else h=this._remove(b),null!=h&&a.push(h);a.length&&this._trigger("remove",{items:a},c);return a};a.prototype._remove=
function(b){if(d.isNumber(b)||d.isString(b)){if(this._data[b])return delete this._data[b],b}else if(b instanceof Object&&(b=b[this._fieldId])&&this._data[b])return delete this._data[b],b;return null};a.prototype.clear=function(b){var c=Object.keys(this._data);this._data={};this._trigger("remove",{items:c},b);return c};a.prototype.max=function(b){var c=this._data,a=null,d=null,k;for(k in c)if(c.hasOwnProperty(k)){var h=c[k],n=h[b];null!=n&&(!a||n>d)&&(a=h,d=n)}return a};a.prototype.min=function(b){var c=
this._data,a=null,d=null,k;for(k in c)if(c.hasOwnProperty(k)){var h=c[k],n=h[b];null!=n&&(!a||n<d)&&(a=h,d=n)}return a};a.prototype.distinct=function(b){var c=this._data,a=[],l=this._options.type&&this._options.type[b]||null,k=0,h,n;for(n in c)if(c.hasOwnProperty(n)){var p=c[n][b],r=!1;for(h=0;h<k;h++)if(a[h]==p){r=!0;break}r||void 0===p||(a[k]=p,k++)}if(l)for(h=0;h<a.length;h++)a[h]=d.convert(a[h],l);return a};a.prototype._addItem=function(b){var c=b[this._fieldId];if(void 0!=c){if(this._data[c])throw Error("Cannot add item: item with id "+
c+" already exists");}else c=d.randomUUID(),b[this._fieldId]=c;var a={},l;for(l in b)b.hasOwnProperty(l)&&(a[l]=d.convert(b[l],this._type[l]));this._data[c]=a;return c};a.prototype._getItem=function(b,c){var a,l,k=this._data[b];if(!k)return null;var h={};if(c)for(a in k)k.hasOwnProperty(a)&&(l=k[a],h[a]=d.convert(l,c[a]));else for(a in k)k.hasOwnProperty(a)&&(l=k[a],h[a]=l);return h};a.prototype._updateItem=function(b){var c=b[this._fieldId];if(void 0==c)throw Error("Cannot update item: item has no id (item: "+
JSON.stringify(b)+")");var a=this._data[c];if(!a)throw Error("Cannot update item: no item with id "+c+" found");for(var l in b)b.hasOwnProperty(l)&&(a[l]=d.convert(b[l],this._type[l]));return c};a.prototype._getColumnNames=function(b){for(var c=[],a=0,d=b.getNumberOfColumns();a<d;a++)c[a]=b.getColumnId(a)||b.getColumnLabel(a);return c};a.prototype._appendRow=function(b,c,a){for(var d=b.addRow(),k=0,h=c.length;k<h;k++)b.setValue(d,k,a[c[k]])};q.exports=a},function(q,g,m){function a(c,b){this._data=
null;this._ids={};this._options=b||{};this._fieldId="id";this._subscribers={};var a=this;this.listener=function(){a._onEvent.apply(a,arguments)};this.setData(c)}var d=m(1);g=m(3);a.prototype.setData=function(c){var b,a;if(this._data){this._data.unsubscribe&&this._data.unsubscribe("*",this.listener);b=[];for(var d in this._ids)this._ids.hasOwnProperty(d)&&b.push(d);this._ids={};this._trigger("remove",{items:b})}if(this._data=c){this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||
"id";b=this._data.getIds({filter:this._options&&this._options.filter});c=0;for(a=b.length;c<a;c++)d=b[c],this._ids[d]=!0;this._trigger("add",{items:b});if(this._data.on)this._data.on("*",this.listener)}};a.prototype.get=function(c,b,a){var f=this,l,k,h=d.getType(c);"String"==h||"Number"==h||"Array"==h?(l=c,k=b,c=a):(k=c,c=b);b=d.extend({},this._options,k);this._options.filter&&k&&k.filter&&(b.filter=function(b){return f._options.filter(b)&&k.filter(b)});a=[];void 0!=l&&a.push(l);a.push(b);a.push(c);
return this._data&&this._data.get.apply(this._data,a)};a.prototype.getIds=function(c){var b;if(this._data){var a=this._options.filter;b=this._data.getIds({filter:c&&c.filter?a?function(b){return a(b)&&c.filter(b)}:c.filter:a,order:c&&c.order})}else b=[];return b};a.prototype.getDataSet=function(){for(var c=this;c instanceof a;)c=c._data;return c||null};a.prototype._onEvent=function(c,b,a){var d,l,k;b=b&&b.items;d=this._data;var h=[],n=[],p=[];if(b&&d){switch(c){case "add":c=0;for(d=b.length;c<d;c++)if(l=
b[c],k=this.get(l))this._ids[l]=!0,h.push(l);break;case "update":c=0;for(d=b.length;c<d;c++)l=b[c],(k=this.get(l))?this._ids[l]?n.push(l):(this._ids[l]=!0,h.push(l)):this._ids[l]&&(delete this._ids[l],p.push(l));break;case "remove":for(c=0,d=b.length;c<d;c++)l=b[c],this._ids[l]&&(delete this._ids[l],p.push(l))}h.length&&this._trigger("add",{items:h},a);n.length&&this._trigger("update",{items:n},a);p.length&&this._trigger("remove",{items:p},a)}};a.prototype.on=g.prototype.on;a.prototype.off=g.prototype.off;
a.prototype._trigger=g.prototype._trigger;a.prototype.subscribe=a.prototype.on;a.prototype.unsubscribe=a.prototype.off;q.exports=a},function(q,g,m){function a(a){this.delay=null;this.max=Infinity;this._queue=[];this._extended=this._timeout=null;this.setOptions(a)}a.prototype.setOptions=function(a){a&&"undefined"!==typeof a.delay&&(this.delay=a.delay);a&&"undefined"!==typeof a.max&&(this.max=a.max);this._flushIfNeeded()};a.extend=function(d,c){var b=new a(c);if(void 0!==d.flush)throw Error("Target object already has a property flush");
d.flush=function(){b.flush()};var e=[{name:"flush",original:void 0}];if(c&&c.replace)for(var f=0;f<c.replace.length;f++){var l=c.replace[f];e.push({name:l,original:d[l]});b.replace(d,l)}b._extended={object:d,methods:e};return b};a.prototype.destroy=function(){this.flush();if(this._extended){for(var a=this._extended.object,c=this._extended.methods,b=0;b<c.length;b++){var e=c[b];e.original?a[e.name]=e.original:delete a[e.name]}this._extended=null}};a.prototype.replace=function(a,c){var b=this,e=a[c];
if(!e)throw Error("Method "+c+" undefined");a[c]=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];b.queue({args:c,fn:e,context:this})}};a.prototype.queue=function(a){"function"===typeof a?this._queue.push({fn:a}):this._queue.push(a);this._flushIfNeeded()};a.prototype._flushIfNeeded=function(){this._queue.length>this.max&&this.flush();clearTimeout(this._timeout);if(0<this.queue.length&&"number"===typeof this.delay){var a=this;this._timeout=setTimeout(function(){a.flush()},this.delay)}};
a.prototype.flush=function(){for(;0<this._queue.length;){var a=this._queue.shift();a.fn.apply(a.context||a.fn,a.args||[])}};q.exports=a},function(q,g,m){function a(b,c,e){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=b;this.height=this.width="400px";this.margin=10;this.defaultXCenter="55%";this.defaultYCenter="50%";this.xLabel="x";this.yLabel="y";this.zLabel="z";this.zValueLabel=this.yValueLabel=this.xValueLabel=b=function(b){return b};
this.filterLabel="time";this.legendLabel="value";this.style=a.STYLE.DOT;this.keepAspectRatio=this.showGrid=this.showPerspective=!0;this.showTooltip=this.showGrayBottom=this.showShadow=!1;this.verticalRatio=.5;this.animationInterval=1E3;this.animationPreload=!1;this.camera=new h;this.eye=new l(0,0,-1);this.dataPoints=this.dataTable=null;this.colFilter=this.colValue=this.colZ=this.colY=this.colX=void 0;this.xMin=0;this.xStep=void 0;this.xMax=1;this.yMin=0;this.yStep=void 0;this.yMax=1;this.zMin=0;this.zStep=
void 0;this.zMax=1;this.valueMin=0;this.yBarWidth=this.xBarWidth=this.valueMax=1;this.colorAxis="#4D4D4D";this.colorGrid="#D3D3D3";this.colorDot="#7DC1FF";this.colorDotBorder="#3267D2";this.create();this.setOptions(e);c&&this.setData(c)}function d(b){return"clientX"in b?b.clientX:b.targetTouches[0]&&b.targetTouches[0].clientX||0}function c(b){return"clientY"in b?b.clientY:b.targetTouches[0]&&b.targetTouches[0].clientY||0}g=m(56);var b=m(3),e=m(4),f=m(1),l=m(10),k=m(9),h=m(7),n=m(8),p=m(11),r=m(12);
g(a.prototype);a.prototype._setScale=function(){this.scale=new l(1/(this.xMax-this.xMin),1/(this.yMax-this.yMin),1/(this.zMax-this.zMin));this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y);this.scale.z*=this.verticalRatio;this.scale.value=1/(this.valueMax-this.valueMin);this.camera.setArmLocation((this.xMax+this.xMin)/2*this.scale.x,(this.yMax+this.yMin)/2*this.scale.y,(this.zMax+this.zMin)/2*this.scale.z)};a.prototype._convert3Dto2D=function(b){b=
this._convertPointToTranslation(b);return this._convertTranslationToScreen(b)};a.prototype._convertPointToTranslation=function(b){var c=b.x*this.scale.x,a=b.y*this.scale.y;b=b.z*this.scale.z;var e=this.camera.getCameraLocation().x,d=this.camera.getCameraLocation().y,f=this.camera.getCameraLocation().z,n=Math.sin(this.camera.getCameraRotation().x),p=Math.cos(this.camera.getCameraRotation().x),h=Math.sin(this.camera.getCameraRotation().y),k=Math.cos(this.camera.getCameraRotation().y),r=Math.sin(this.camera.getCameraRotation().z),
g=Math.cos(this.camera.getCameraRotation().z);return new l(k*(r*(a-d)+g*(c-e))-h*(b-f),n*(k*(b-f)+h*(r*(a-d)+g*(c-e)))+p*(g*(a-d)-r*(c-e)),p*(k*(b-f)+h*(r*(a-d)+g*(c-e)))-n*(g*(a-d)-r*(c-e)))};a.prototype._convertTranslationToScreen=function(b){var c=this.eye.x,a=this.eye.y,e=this.eye.z,d=b.x,f=b.y;b=b.z;this.showPerspective?(c=e/b*(d-c),a=e/b*(f-a)):(c=d*-(e/this.camera.getArmLength()),a=f*-(e/this.camera.getArmLength()));return new k(this.xcenter+c*this.frame.canvas.clientWidth,this.ycenter-a*this.frame.canvas.clientWidth)};
a.prototype._setBackgroundColor=function(b){var c="white",a="gray",e=1;if("string"===typeof b)c=b,a="none",e=0;else if("object"===typeof b)void 0!==b.fill&&(c=b.fill),void 0!==b.stroke&&(a=b.stroke),void 0!==b.strokeWidth&&(e=b.strokeWidth);else if(void 0!==b)throw"Unsupported type of backgroundColor";this.frame.style.backgroundColor=c;this.frame.style.borderColor=a;this.frame.style.borderWidth=e+"px";this.frame.style.borderStyle="solid"};a.STYLE={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,
DOTSIZE:6,GRID:7,LINE:8,SURFACE:9};a.prototype._getStyleNumber=function(b){switch(b){case "dot":return a.STYLE.DOT;case "dot-line":return a.STYLE.DOTLINE;case "dot-color":return a.STYLE.DOTCOLOR;case "dot-size":return a.STYLE.DOTSIZE;case "line":return a.STYLE.LINE;case "grid":return a.STYLE.GRID;case "surface":return a.STYLE.SURFACE;case "bar":return a.STYLE.BAR;case "bar-color":return a.STYLE.BARCOLOR;case "bar-size":return a.STYLE.BARSIZE}return-1};a.prototype._determineColumnIndexes=function(b,
c){if(this.style===a.STYLE.DOT||this.style===a.STYLE.DOTLINE||this.style===a.STYLE.LINE||this.style===a.STYLE.GRID||this.style===a.STYLE.SURFACE||this.style===a.STYLE.BAR)this.colX=0,this.colY=1,this.colZ=2,this.colValue=void 0,3<b.getNumberOfColumns()&&(this.colFilter=3);else if(this.style===a.STYLE.DOTCOLOR||this.style===a.STYLE.DOTSIZE||this.style===a.STYLE.BARCOLOR||this.style===a.STYLE.BARSIZE)this.colX=0,this.colY=1,this.colZ=2,this.colValue=3,4<b.getNumberOfColumns()&&(this.colFilter=4);else throw'Unknown style "'+
this.style+'"';};a.prototype.getNumberOfRows=function(b){return b.length};a.prototype.getNumberOfColumns=function(b){var c=0,a;for(a in b[0])b[0].hasOwnProperty(a)&&c++;return c};a.prototype.getDistinctValues=function(b,c){for(var a=[],e=0;e<b.length;e++)-1==a.indexOf(b[e][c])&&a.push(b[e][c]);return a};a.prototype.getColumnRange=function(b,c){for(var a={min:b[0][c],max:b[0][c]},e=0;e<b.length;e++)a.min>b[e][c]&&(a.min=b[e][c]),a.max<b[e][c]&&(a.max=b[e][c]);return a};a.prototype._dataInitialize=
function(c,d){var f=this;this.dataSet&&this.dataSet.off("*",this._onChange);if(void 0!==c){Array.isArray(c)&&(c=new b(c));var l;if(c instanceof b||c instanceof e)l=c.get();else throw Error("Array, DataSet, or DataView expected");if(0!=l.length){this.dataSet=c;this.dataTable=l;this._onChange=function(){f.setData(f.dataSet)};this.dataSet.on("*",this._onChange);this.colX="x";this.colY="y";this.colZ="z";this.colValue="style";this.colFilter="filter";l[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&
(this.dataFilter=new n(c,this.colFilter,this),this.dataFilter.setOnLoadCallback(function(){f.redraw()}));var p=this.style==a.STYLE.BAR||this.style==a.STYLE.BARCOLOR||this.style==a.STYLE.BARSIZE;if(p){if(void 0!==this.defaultXBarWidth)this.xBarWidth=this.defaultXBarWidth;else{var h=this.getDistinctValues(l,this.colX);this.xBarWidth=h[1]-h[0]||1}void 0!==this.defaultYBarWidth?this.yBarWidth=this.defaultYBarWidth:(h=this.getDistinctValues(l,this.colY),this.yBarWidth=h[1]-h[0]||1)}h=this.getColumnRange(l,
this.colX);p&&(h.min-=this.xBarWidth/2,h.max+=this.xBarWidth/2);this.xMin=void 0!==this.defaultXMin?this.defaultXMin:h.min;this.xMax=void 0!==this.defaultXMax?this.defaultXMax:h.max;this.xMax<=this.xMin&&(this.xMax=this.xMin+1);this.xStep=void 0!==this.defaultXStep?this.defaultXStep:(this.xMax-this.xMin)/5;h=this.getColumnRange(l,this.colY);p&&(h.min-=this.yBarWidth/2,h.max+=this.yBarWidth/2);this.yMin=void 0!==this.defaultYMin?this.defaultYMin:h.min;this.yMax=void 0!==this.defaultYMax?this.defaultYMax:
h.max;this.yMax<=this.yMin&&(this.yMax=this.yMin+1);this.yStep=void 0!==this.defaultYStep?this.defaultYStep:(this.yMax-this.yMin)/5;p=this.getColumnRange(l,this.colZ);this.zMin=void 0!==this.defaultZMin?this.defaultZMin:p.min;this.zMax=void 0!==this.defaultZMax?this.defaultZMax:p.max;this.zMax<=this.zMin&&(this.zMax=this.zMin+1);this.zStep=void 0!==this.defaultZStep?this.defaultZStep:(this.zMax-this.zMin)/5;void 0!==this.colValue&&(l=this.getColumnRange(l,this.colValue),this.valueMin=void 0!==this.defaultValueMin?
this.defaultValueMin:l.min,this.valueMax=void 0!==this.defaultValueMax?this.defaultValueMax:l.max,this.valueMax<=this.valueMin&&(this.valueMax=this.valueMin+1));this._setScale()}}};a.prototype._getDataPoints=function(b){var c,e,d,f,p,n=[];if(this.style===a.STYLE.GRID||this.style===a.STYLE.SURFACE){p=[];var h=[];for(d=0;d<this.getNumberOfRows(b);d++)c=b[d][this.colX]||0,e=b[d][this.colY]||0,-1===p.indexOf(c)&&p.push(c),-1===h.indexOf(e)&&h.push(e);d=function(b,c){return b-c};p.sort(d);h.sort(d);var k=
[];for(d=0;d<b.length;d++){c=b[d][this.colX]||0;e=b[d][this.colY]||0;f=b[d][this.colZ]||0;var r=p.indexOf(c),g=h.indexOf(e);void 0===k[r]&&(k[r]=[]);var G=new l;G.x=c;G.y=e;G.z=f;f={};f.point=G;f.trans=void 0;f.screen=void 0;f.bottom=new l(c,e,this.zMin);k[r][g]=f;n.push(f)}for(c=0;c<k.length;c++)for(e=0;e<k[c].length;e++)k[c][e]&&(k[c][e].pointRight=c<k.length-1?k[c+1][e]:void 0,k[c][e].pointTop=e<k[c].length-1?k[c][e+1]:void 0,k[c][e].pointCross=c<k.length-1&&e<k[c].length-1?k[c+1][e+1]:void 0)}else for(d=
0;d<b.length;d++)p=new l,p.x=b[d][this.colX]||0,p.y=b[d][this.colY]||0,p.z=b[d][this.colZ]||0,void 0!==this.colValue&&(p.value=b[d][this.colValue]||0),f={},f.point=p,f.bottom=new l(p.x,p.y,this.zMin),f.trans=void 0,f.screen=void 0,n.push(f);return n};a.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div");this.frame.style.position="relative";this.frame.style.overflow="hidden";
this.frame.canvas=document.createElement("canvas");this.frame.canvas.style.position="relative";this.frame.appendChild(this.frame.canvas);var b=document.createElement("DIV");b.style.color="red";b.style.fontWeight="bold";b.style.padding="10px";b.innerHTML="Error: your browser does not support HTML canvas";this.frame.canvas.appendChild(b);this.frame.filter=document.createElement("div");this.frame.filter.style.position="absolute";this.frame.filter.style.bottom="0px";this.frame.filter.style.left="0px";
this.frame.filter.style.width="100%";this.frame.appendChild(this.frame.filter);var c=this;f.addEventListener(this.frame.canvas,"keydown",onkeydown);f.addEventListener(this.frame.canvas,"mousedown",function(b){c._onMouseDown(b)});f.addEventListener(this.frame.canvas,"touchstart",function(b){c._onTouchStart(b)});f.addEventListener(this.frame.canvas,"mousewheel",function(b){c._onWheel(b)});f.addEventListener(this.frame.canvas,"mousemove",function(b){c._onTooltip(b)});this.containerElement.appendChild(this.frame)};
a.prototype.setSize=function(b,c){this.frame.style.width=b;this.frame.style.height=c;this._resizeCanvas()};a.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%";this.frame.canvas.style.height="100%";this.frame.canvas.width=this.frame.canvas.clientWidth;this.frame.canvas.height=this.frame.canvas.clientHeight;this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"};a.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider)throw"No animation available";
this.frame.filter.slider.play()};a.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()};a.prototype._resizeCenter=function(){"%"===this.defaultXCenter.charAt(this.defaultXCenter.length-1)?this.xcenter=parseFloat(this.defaultXCenter)/100*this.frame.canvas.clientWidth:this.xcenter=parseFloat(this.defaultXCenter);"%"===this.defaultYCenter.charAt(this.defaultYCenter.length-1)?this.ycenter=parseFloat(this.defaultYCenter)/100*(this.frame.canvas.clientHeight-
this.frame.filter.clientHeight):this.ycenter=parseFloat(this.defaultYCenter)};a.prototype.setCameraPosition=function(b){void 0!==b&&(void 0!==b.horizontal&&void 0!==b.vertical&&this.camera.setArmRotation(b.horizontal,b.vertical),void 0!==b.distance&&this.camera.setArmLength(b.distance),this.redraw())};a.prototype.getCameraPosition=function(){var b=this.camera.getArmRotation();b.distance=this.camera.getArmLength();return b};a.prototype._readData=function(b){this._dataInitialize(b,this.style);this.dataPoints=
this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.dataTable);this._redrawFilter()};a.prototype.setData=function(b){this._readData(b);this.redraw();this.animationAutoStart&&this.dataFilter&&this.animationStart()};a.prototype.setOptions=function(b){var c=void 0;this.animationStop();if(void 0!==b){void 0!==b.width&&(this.width=b.width);void 0!==b.height&&(this.height=b.height);void 0!==b.xCenter&&(this.defaultXCenter=b.xCenter);void 0!==b.yCenter&&(this.defaultYCenter=b.yCenter);
void 0!==b.filterLabel&&(this.filterLabel=b.filterLabel);void 0!==b.legendLabel&&(this.legendLabel=b.legendLabel);void 0!==b.xLabel&&(this.xLabel=b.xLabel);void 0!==b.yLabel&&(this.yLabel=b.yLabel);void 0!==b.zLabel&&(this.zLabel=b.zLabel);void 0!==b.xValueLabel&&(this.xValueLabel=b.xValueLabel);void 0!==b.yValueLabel&&(this.yValueLabel=b.yValueLabel);void 0!==b.zValueLabel&&(this.zValueLabel=b.zValueLabel);if(void 0!==b.style){var a=this._getStyleNumber(b.style);-1!==a&&(this.style=a)}void 0!==b.showGrid&&
(this.showGrid=b.showGrid);void 0!==b.showPerspective&&(this.showPerspective=b.showPerspective);void 0!==b.showShadow&&(this.showShadow=b.showShadow);void 0!==b.tooltip&&(this.showTooltip=b.tooltip);void 0!==b.showAnimationControls&&(this.showAnimationControls=b.showAnimationControls);void 0!==b.keepAspectRatio&&(this.keepAspectRatio=b.keepAspectRatio);void 0!==b.verticalRatio&&(this.verticalRatio=b.verticalRatio);void 0!==b.animationInterval&&(this.animationInterval=b.animationInterval);void 0!==
b.animationPreload&&(this.animationPreload=b.animationPreload);void 0!==b.animationAutoStart&&(this.animationAutoStart=b.animationAutoStart);void 0!==b.xBarWidth&&(this.defaultXBarWidth=b.xBarWidth);void 0!==b.yBarWidth&&(this.defaultYBarWidth=b.yBarWidth);void 0!==b.xMin&&(this.defaultXMin=b.xMin);void 0!==b.xStep&&(this.defaultXStep=b.xStep);void 0!==b.xMax&&(this.defaultXMax=b.xMax);void 0!==b.yMin&&(this.defaultYMin=b.yMin);void 0!==b.yStep&&(this.defaultYStep=b.yStep);void 0!==b.yMax&&(this.defaultYMax=
b.yMax);void 0!==b.zMin&&(this.defaultZMin=b.zMin);void 0!==b.zStep&&(this.defaultZStep=b.zStep);void 0!==b.zMax&&(this.defaultZMax=b.zMax);void 0!==b.valueMin&&(this.defaultValueMin=b.valueMin);void 0!==b.valueMax&&(this.defaultValueMax=b.valueMax);void 0!==b.cameraPosition&&(c=b.cameraPosition);void 0!==c?(this.camera.setArmRotation(c.horizontal,c.vertical),this.camera.setArmLength(c.distance)):(this.camera.setArmRotation(1,.5),this.camera.setArmLength(1.7))}this._setBackgroundColor(b&&b.backgroundColor);
this.setSize(this.width,this.height);this.dataTable&&this.setData(this.dataTable);this.animationAutoStart&&this.dataFilter&&this.animationStart()};a.prototype.redraw=function(){if(void 0===this.dataPoints)throw"Error: graph data not initialized";this._resizeCanvas();this._resizeCenter();this._redrawSlider();this._redrawClear();this._redrawAxis();this.style===a.STYLE.GRID||this.style===a.STYLE.SURFACE?this._redrawDataGrid():this.style===a.STYLE.LINE?this._redrawDataLine():this.style===a.STYLE.BAR||
this.style===a.STYLE.BARCOLOR||this.style===a.STYLE.BARSIZE?this._redrawDataBar():this._redrawDataDot();this._redrawInfo();this._redrawLegend()};a.prototype._redrawClear=function(){var b=this.frame.canvas;b.getContext("2d").clearRect(0,0,b.width,b.height)};a.prototype._redrawLegend=function(){var b;if(this.style===a.STYLE.DOTCOLOR||this.style===a.STYLE.DOTSIZE){b=.02*this.frame.clientWidth;var c,e;this.style===a.STYLE.DOTSIZE?(c=b/2,e=b/2+2*b):e=c=20;var d=Math.max(.25*this.frame.clientHeight,100),
f=this.margin,l=this.frame.clientWidth-this.margin,p=l-e,n=f+d}var h=this.frame.canvas.getContext("2d");h.lineWidth=1;h.font="14px arial";if(this.style===a.STYLE.DOTCOLOR){var k=d;for(b=0;b<k;b++){var g=this._hsv2rgb((b-0)/(k-0)*240,1,1);h.strokeStyle=g;h.beginPath();h.moveTo(p,f+b);h.lineTo(l,f+b);h.stroke()}h.strokeStyle=this.colorAxis;h.strokeRect(p,f,e,d)}this.style===a.STYLE.DOTSIZE&&(h.strokeStyle=this.colorAxis,h.fillStyle=this.colorDot,h.beginPath(),h.moveTo(p,f),h.lineTo(l,f),h.lineTo(l-
e+c,n),h.lineTo(p,n),h.closePath(),h.fill(),h.stroke());if(this.style===a.STYLE.DOTCOLOR||this.style===a.STYLE.DOTSIZE){c=new r(this.valueMin,this.valueMax,(this.valueMax-this.valueMin)/5,!0);c.start();for(c.getCurrent()<this.valueMin&&c.next();!c.end();)b=n-(c.getCurrent()-this.valueMin)/(this.valueMax-this.valueMin)*d,h.beginPath(),h.moveTo(p-5,b),h.lineTo(p,b),h.stroke(),h.textAlign="right",h.textBaseline="middle",h.fillStyle=this.colorAxis,h.fillText(c.getCurrent(),p-10,b),c.next();h.textAlign=
"right";h.textBaseline="top";h.fillText(this.legendLabel,l,n+this.margin)}};a.prototype._redrawFilter=function(){this.frame.filter.innerHTML="";if(this.dataFilter){var b=new p(this.frame.filter,{visible:this.showAnimationControls});this.frame.filter.slider=b;this.frame.filter.style.padding="10px";b.setValues(this.dataFilter.values);b.setPlayInterval(this.animationInterval);var c=this;b.setOnChangeCallback(function(){var a=b.getIndex();c.dataFilter.selectValue(a);c.dataPoints=c.dataFilter._getDataPoints();
c.redraw()})}else this.frame.filter.slider=void 0};a.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()};a.prototype._redrawInfo=function(){if(this.dataFilter){var b=this.frame.canvas.getContext("2d");b.font="14px arial";b.lineStyle="gray";b.fillStyle="gray";b.textAlign="left";b.textBaseline="top";var c=this.margin,a=this.margin;b.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),c,a)}};a.prototype._redrawAxis=function(){var b=
this.frame.canvas.getContext("2d"),c,a,e,d,f;b.font=24/this.camera.getArmLength()+"px arial";d=.025/this.scale.x;var p=.025/this.scale.y,h=5/this.camera.getArmLength();f=this.camera.getArmRotation().horizontal;b.lineWidth=1;a=void 0===this.defaultXStep;e=new r(this.xMin,this.xMax,this.xStep,a);e.start();for(e.getCurrent()<this.xMin&&e.next();!e.end();){var n=e.getCurrent();this.showGrid?(c=this._convert3Dto2D(new l(n,this.yMin,this.zMin)),a=this._convert3Dto2D(new l(n,this.yMax,this.zMin)),b.strokeStyle=
this.colorGrid):(c=this._convert3Dto2D(new l(n,this.yMin,this.zMin)),a=this._convert3Dto2D(new l(n,this.yMin+d,this.zMin)),b.strokeStyle=this.colorAxis,b.beginPath(),b.moveTo(c.x,c.y),b.lineTo(a.x,a.y),b.stroke(),c=this._convert3Dto2D(new l(n,this.yMax,this.zMin)),a=this._convert3Dto2D(new l(n,this.yMax-d,this.zMin)),b.strokeStyle=this.colorAxis);b.beginPath();b.moveTo(c.x,c.y);b.lineTo(a.x,a.y);b.stroke();a=0<Math.cos(f)?this.yMin:this.yMax;a=this._convert3Dto2D(new l(n,a,this.zMin));0<Math.cos(2*
f)?(b.textAlign="center",b.textBaseline="top",a.y+=h):(0>Math.sin(2*f)?b.textAlign="right":b.textAlign="left",b.textBaseline="middle");b.fillStyle=this.colorAxis;b.fillText("  "+this.xValueLabel(e.getCurrent())+"  ",a.x,a.y);e.next()}b.lineWidth=1;a=void 0===this.defaultYStep;e=new r(this.yMin,this.yMax,this.yStep,a);e.start();for(e.getCurrent()<this.yMin&&e.next();!e.end();)this.showGrid?(c=this._convert3Dto2D(new l(this.xMin,e.getCurrent(),this.zMin)),a=this._convert3Dto2D(new l(this.xMax,e.getCurrent(),
this.zMin)),b.strokeStyle=this.colorGrid):(c=this._convert3Dto2D(new l(this.xMin,e.getCurrent(),this.zMin)),a=this._convert3Dto2D(new l(this.xMin+p,e.getCurrent(),this.zMin)),b.strokeStyle=this.colorAxis,b.beginPath(),b.moveTo(c.x,c.y),b.lineTo(a.x,a.y),b.stroke(),c=this._convert3Dto2D(new l(this.xMax,e.getCurrent(),this.zMin)),a=this._convert3Dto2D(new l(this.xMax-p,e.getCurrent(),this.zMin)),b.strokeStyle=this.colorAxis),b.beginPath(),b.moveTo(c.x,c.y),b.lineTo(a.x,a.y),b.stroke(),d=0<Math.sin(f)?
this.xMin:this.xMax,a=this._convert3Dto2D(new l(d,e.getCurrent(),this.zMin)),0>Math.cos(2*f)?(b.textAlign="center",b.textBaseline="top",a.y+=h):(0<Math.sin(2*f)?b.textAlign="right":b.textAlign="left",b.textBaseline="middle"),b.fillStyle=this.colorAxis,b.fillText("  "+this.yValueLabel(e.getCurrent())+"  ",a.x,a.y),e.next();b.lineWidth=1;a=void 0===this.defaultZStep;e=new r(this.zMin,this.zMax,this.zStep,a);e.start();e.getCurrent()<this.zMin&&e.next();d=0<Math.cos(f)?this.xMin:this.xMax;for(a=0>Math.sin(f)?
this.yMin:this.yMax;!e.end();)c=this._convert3Dto2D(new l(d,a,e.getCurrent())),b.strokeStyle=this.colorAxis,b.beginPath(),b.moveTo(c.x,c.y),b.lineTo(c.x-h,c.y),b.stroke(),b.textAlign="right",b.textBaseline="middle",b.fillStyle=this.colorAxis,b.fillText(this.zValueLabel(e.getCurrent())+" ",c.x-5,c.y),e.next();b.lineWidth=1;c=this._convert3Dto2D(new l(d,a,this.zMin));a=this._convert3Dto2D(new l(d,a,this.zMax));b.strokeStyle=this.colorAxis;b.beginPath();b.moveTo(c.x,c.y);b.lineTo(a.x,a.y);b.stroke();
b.lineWidth=1;a=this._convert3Dto2D(new l(this.xMin,this.yMin,this.zMin));d=this._convert3Dto2D(new l(this.xMax,this.yMin,this.zMin));b.strokeStyle=this.colorAxis;b.beginPath();b.moveTo(a.x,a.y);b.lineTo(d.x,d.y);b.stroke();a=this._convert3Dto2D(new l(this.xMin,this.yMax,this.zMin));d=this._convert3Dto2D(new l(this.xMax,this.yMax,this.zMin));b.strokeStyle=this.colorAxis;b.beginPath();b.moveTo(a.x,a.y);b.lineTo(d.x,d.y);b.stroke();b.lineWidth=1;c=this._convert3Dto2D(new l(this.xMin,this.yMin,this.zMin));
a=this._convert3Dto2D(new l(this.xMin,this.yMax,this.zMin));b.strokeStyle=this.colorAxis;b.beginPath();b.moveTo(c.x,c.y);b.lineTo(a.x,a.y);b.stroke();c=this._convert3Dto2D(new l(this.xMax,this.yMin,this.zMin));a=this._convert3Dto2D(new l(this.xMax,this.yMax,this.zMin));b.strokeStyle=this.colorAxis;b.beginPath();b.moveTo(c.x,c.y);b.lineTo(a.x,a.y);b.stroke();p=this.xLabel;0<p.length&&(a=.1/this.scale.y,d=(this.xMin+this.xMax)/2,a=0<Math.cos(f)?this.yMin-a:this.yMax+a,a=this._convert3Dto2D(new l(d,
a,this.zMin)),0<Math.cos(2*f)?(b.textAlign="center",b.textBaseline="top"):(0>Math.sin(2*f)?b.textAlign="right":b.textAlign="left",b.textBaseline="middle"),b.fillStyle=this.colorAxis,b.fillText(p,a.x,a.y));p=this.yLabel;0<p.length&&(a=.1/this.scale.x,d=0<Math.sin(f)?this.xMin-a:this.xMax+a,a=(this.yMin+this.yMax)/2,a=this._convert3Dto2D(new l(d,a,this.zMin)),0>Math.cos(2*f)?(b.textAlign="center",b.textBaseline="top"):(0<Math.sin(2*f)?b.textAlign="right":b.textAlign="left",b.textBaseline="middle"),
b.fillStyle=this.colorAxis,b.fillText(p,a.x,a.y));p=this.zLabel;0<p.length&&(d=0<Math.cos(f)?this.xMin:this.xMax,a=0>Math.sin(f)?this.yMin:this.yMax,f=(this.zMin+this.zMax)/2,a=this._convert3Dto2D(new l(d,a,f)),b.textAlign="right",b.textBaseline="middle",b.fillStyle=this.colorAxis,b.fillText(p,a.x-30,a.y))};a.prototype._hsv2rgb=function(b,c,a){var e;c*=a;a=Math.floor(b/60);e=c*(1-Math.abs(b/60%2-1));switch(a){case 0:b=c;a=e;c=0;break;case 1:b=e;a=c;c=0;break;case 2:b=0;a=c;c=e;break;case 3:b=0;a=
e;break;case 4:b=e;a=0;break;case 5:b=c;a=0;c=e;break;default:c=a=b=0}return"RGB("+parseInt(255*b)+","+parseInt(255*a)+","+parseInt(255*c)+")"};a.prototype._redrawDataGrid=function(){var b=this.frame.canvas.getContext("2d"),c,e,d,f,p,h,n,k;if(!(void 0===this.dataPoints||0>=this.dataPoints.length)){for(p=0;p<this.dataPoints.length;p++)c=this._convertPointToTranslation(this.dataPoints[p].point),e=this._convertTranslationToScreen(c),this.dataPoints[p].trans=c,this.dataPoints[p].screen=e,c=this._convertPointToTranslation(this.dataPoints[p].bottom),
this.dataPoints[p].dist=this.showPerspective?c.length():-c.z;this.dataPoints.sort(function(b,c){return c.dist-b.dist});if(this.style===a.STYLE.SURFACE)for(p=0;p<this.dataPoints.length;p++){if(c=this.dataPoints[p],e=this.dataPoints[p].pointRight,d=this.dataPoints[p].pointTop,f=this.dataPoints[p].pointCross,void 0!==c&&void 0!==e&&void 0!==d&&void 0!==f){if(this.showGrayBottom||this.showShadow){var r=l.subtract(f.trans,c.trans),g=l.subtract(d.trans,e.trans),r=l.crossProduct(r,g),g=r.length();h=0<r.z}else h=
!0;h?(n=(c.point.z+e.point.z+d.point.z+f.point.z)/4,n=240*(1-(n-this.zMin)*this.scale.z/this.verticalRatio),this.showShadow?(h=Math.min(1+r.x/g/2,1),k=n=this._hsv2rgb(n,1,h)):(h=1,n=this._hsv2rgb(n,1,h),k=this.colorAxis)):(n="gray",k=this.colorAxis);h=.5;b.lineWidth=h;b.fillStyle=n;b.strokeStyle=k;b.beginPath();b.moveTo(c.screen.x,c.screen.y);b.lineTo(e.screen.x,e.screen.y);b.lineTo(f.screen.x,f.screen.y);b.lineTo(d.screen.x,d.screen.y);b.closePath();b.fill();b.stroke()}}else for(p=0;p<this.dataPoints.length;p++)c=
this.dataPoints[p],e=this.dataPoints[p].pointRight,d=this.dataPoints[p].pointTop,void 0!==c&&(h=this.showPerspective?2/-c.trans.z:2*-(this.eye.z/this.camera.getArmLength())),void 0!==c&&void 0!==e&&(n=(c.point.z+e.point.z)/2,n=240*(1-(n-this.zMin)*this.scale.z/this.verticalRatio),b.lineWidth=h,b.strokeStyle=this._hsv2rgb(n,1,1),b.beginPath(),b.moveTo(c.screen.x,c.screen.y),b.lineTo(e.screen.x,e.screen.y),b.stroke()),void 0!==c&&void 0!==d&&(n=(c.point.z+d.point.z)/2,n=240*(1-(n-this.zMin)*this.scale.z/
this.verticalRatio),b.lineWidth=h,b.strokeStyle=this._hsv2rgb(n,1,1),b.beginPath(),b.moveTo(c.screen.x,c.screen.y),b.lineTo(d.screen.x,d.screen.y),b.stroke())}};a.prototype._redrawDataDot=function(){var b=this.frame.canvas.getContext("2d"),c;if(!(void 0===this.dataPoints||0>=this.dataPoints.length)){for(c=0;c<this.dataPoints.length;c++){var e=this._convertPointToTranslation(this.dataPoints[c].point),d=this._convertTranslationToScreen(e);this.dataPoints[c].trans=e;this.dataPoints[c].screen=d;e=this._convertPointToTranslation(this.dataPoints[c].bottom);
this.dataPoints[c].dist=this.showPerspective?e.length():-e.z}this.dataPoints.sort(function(b,c){return c.dist-b.dist});e=.02*this.frame.clientWidth;for(c=0;c<this.dataPoints.length;c++){d=this.dataPoints[c];if(this.style===a.STYLE.DOTLINE){var f=this._convert3Dto2D(d.bottom);b.lineWidth=1;b.strokeStyle=this.colorGrid;b.beginPath();b.moveTo(f.x,f.y);b.lineTo(d.screen.x,d.screen.y);b.stroke()}f=this.style===a.STYLE.DOTSIZE?e/2+2*e*(d.point.value-this.valueMin)/(this.valueMax-this.valueMin):e;f=this.showPerspective?
f/-d.trans.z:f*-(this.eye.z/this.camera.getArmLength());0>f&&(f=0);var l,p;this.style===a.STYLE.DOTCOLOR?(l=240*(1-(d.point.value-this.valueMin)*this.scale.value),p=this._hsv2rgb(l,1,1),l=this._hsv2rgb(l,1,.8)):this.style===a.STYLE.DOTSIZE?(p=this.colorDot,l=this.colorDotBorder):(l=240*(1-(d.point.z-this.zMin)*this.scale.z/this.verticalRatio),p=this._hsv2rgb(l,1,1),l=this._hsv2rgb(l,1,.8));b.lineWidth=1;b.strokeStyle=l;b.fillStyle=p;b.beginPath();b.arc(d.screen.x,d.screen.y,f,0,2*Math.PI,!0);b.fill();
b.stroke()}}};a.prototype._redrawDataBar=function(){var b=this.frame.canvas.getContext("2d"),c,e,d,f;if(!(void 0===this.dataPoints||0>=this.dataPoints.length)){for(c=0;c<this.dataPoints.length;c++){var p=this._convertPointToTranslation(this.dataPoints[c].point),n=this._convertTranslationToScreen(p);this.dataPoints[c].trans=p;this.dataPoints[c].screen=n;p=this._convertPointToTranslation(this.dataPoints[c].bottom);this.dataPoints[c].dist=this.showPerspective?p.length():-p.z}this.dataPoints.sort(function(b,
c){return c.dist-b.dist});p=this.xBarWidth/2;n=this.yBarWidth/2;for(c=0;c<this.dataPoints.length;c++){e=this.dataPoints[c];var h;this.style===a.STYLE.BARCOLOR?(h=240*(1-(e.point.value-this.valueMin)*this.scale.value),f=this._hsv2rgb(h,1,1),h=this._hsv2rgb(h,1,.8)):this.style===a.STYLE.BARSIZE?(f=this.colorDot,h=this.colorDotBorder):(h=240*(1-(e.point.z-this.zMin)*this.scale.z/this.verticalRatio),f=this._hsv2rgb(h,1,1),h=this._hsv2rgb(h,1,.8));this.style===a.STYLE.BARSIZE&&(p=this.xBarWidth/2*((e.point.value-
this.valueMin)/(this.valueMax-this.valueMin)*.8+.2),n=this.yBarWidth/2*((e.point.value-this.valueMin)/(this.valueMax-this.valueMin)*.8+.2));var k=this,r=e.point,g=[{point:new l(r.x-p,r.y-n,r.z)},{point:new l(r.x+p,r.y-n,r.z)},{point:new l(r.x+p,r.y+n,r.z)},{point:new l(r.x-p,r.y+n,r.z)}],r=[{point:new l(r.x-p,r.y-n,this.zMin)},{point:new l(r.x+p,r.y-n,this.zMin)},{point:new l(r.x+p,r.y+n,this.zMin)},{point:new l(r.x-p,r.y+n,this.zMin)}];g.forEach(function(b){b.screen=k._convert3Dto2D(b.point)});r.forEach(function(b){b.screen=
k._convert3Dto2D(b.point)});r=[{corners:g,center:l.avg(r[0].point,r[2].point)},{corners:[g[0],g[1],r[1],r[0]],center:l.avg(r[1].point,r[0].point)},{corners:[g[1],g[2],r[2],r[1]],center:l.avg(r[2].point,r[1].point)},{corners:[g[2],g[3],r[3],r[2]],center:l.avg(r[3].point,r[2].point)},{corners:[g[3],g[0],r[0],r[3]],center:l.avg(r[0].point,r[3].point)}];e.surfaces=r;for(e=0;e<r.length;e++){d=r[e];var G=this._convertPointToTranslation(d.center);d.dist=this.showPerspective?G.length():-G.z}r.sort(function(b,
c){var a=c.dist-b.dist;return a?a:b.corners===g?1:c.corners===g?-1:0});b.lineWidth=1;b.strokeStyle=h;b.fillStyle=f;for(e=2;e<r.length;e++)d=r[e],f=d.corners,b.beginPath(),b.moveTo(f[3].screen.x,f[3].screen.y),b.lineTo(f[0].screen.x,f[0].screen.y),b.lineTo(f[1].screen.x,f[1].screen.y),b.lineTo(f[2].screen.x,f[2].screen.y),b.lineTo(f[3].screen.x,f[3].screen.y),b.fill(),b.stroke()}}};a.prototype._redrawDataLine=function(){var b=this.frame.canvas.getContext("2d"),c,a;if(!(void 0===this.dataPoints||0>=
this.dataPoints.length)){for(a=0;a<this.dataPoints.length;a++){c=this._convertPointToTranslation(this.dataPoints[a].point);var e=this._convertTranslationToScreen(c);this.dataPoints[a].trans=c;this.dataPoints[a].screen=e}0<this.dataPoints.length&&(c=this.dataPoints[0],b.lineWidth=1,b.strokeStyle="blue",b.beginPath(),b.moveTo(c.screen.x,c.screen.y));for(a=1;a<this.dataPoints.length;a++)c=this.dataPoints[a],b.lineTo(c.screen.x,c.screen.y);0<this.dataPoints.length&&b.stroke()}};a.prototype._onMouseDown=
function(b){b=b||window.event;this.leftButtonDown&&this._onMouseUp(b);if((this.leftButtonDown=b.which?1===b.which:1===b.button)||this.touchDown){this.startMouseX=d(b);this.startMouseY=c(b);this.startStart=new Date(this.start);this.startEnd=new Date(this.end);this.startArmRotation=this.camera.getArmRotation();this.frame.style.cursor="move";var a=this;this.onmousemove=function(b){a._onMouseMove(b)};this.onmouseup=function(b){a._onMouseUp(b)};f.addEventListener(document,"mousemove",a.onmousemove);f.addEventListener(document,
"mouseup",a.onmouseup);f.preventDefault(b)}};a.prototype._onMouseMove=function(b){b=b||window.event;var a=parseFloat(d(b))-this.startMouseX,e=parseFloat(c(b))-this.startMouseY,a=this.startArmRotation.horizontal+a/200,e=this.startArmRotation.vertical+e/200,p=Math.sin(4/360*2*Math.PI);Math.abs(Math.sin(a))<p&&(a=Math.round(a/Math.PI)*Math.PI-.001);Math.abs(Math.cos(a))<p&&(a=(Math.round(a/Math.PI-.5)+.5)*Math.PI-.001);Math.abs(Math.sin(e))<p&&(e=Math.round(e/Math.PI)*Math.PI);Math.abs(Math.cos(e))<
p&&(e=(Math.round(e/Math.PI-.5)+.5)*Math.PI);this.camera.setArmRotation(a,e);this.redraw();a=this.getCameraPosition();this.emit("cameraPositionChange",a);f.preventDefault(b)};a.prototype._onMouseUp=function(b){this.frame.style.cursor="auto";this.leftButtonDown=!1;f.removeEventListener(document,"mousemove",this.onmousemove);f.removeEventListener(document,"mouseup",this.onmouseup);f.preventDefault(b)};a.prototype._onTooltip=function(b){var a=this.frame.getBoundingClientRect(),e=d(b)-a.left,f=c(b)-a.top;
if(this.showTooltip)if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)this._hideTooltip();else if(this.tooltip&&this.tooltip.dataPoint)b=this._dataPointFromXY(e,f),b!==this.tooltip.dataPoint&&(b?this._showTooltip(b):this._hideTooltip());else{var p=this;this.tooltipTimeout=setTimeout(function(){p.tooltipTimeout=null;var b=p._dataPointFromXY(e,f);b&&p._showTooltip(b)},300)}};a.prototype._onTouchStart=function(b){this.touchDown=!0;var c=this;this.ontouchmove=function(b){c._onTouchMove(b)};
this.ontouchend=function(b){c._onTouchEnd(b)};f.addEventListener(document,"touchmove",c.ontouchmove);f.addEventListener(document,"touchend",c.ontouchend);this._onMouseDown(b)};a.prototype._onTouchMove=function(b){this._onMouseMove(b)};a.prototype._onTouchEnd=function(b){this.touchDown=!1;f.removeEventListener(document,"touchmove",this.ontouchmove);f.removeEventListener(document,"touchend",this.ontouchend);this._onMouseUp(b)};a.prototype._onWheel=function(b){b||(b=window.event);var c=0;b.wheelDelta?
c=b.wheelDelta/120:b.detail&&(c=-b.detail/3);c&&(c=this.camera.getArmLength()*(1-c/10),this.camera.setArmLength(c),this.redraw(),this._hideTooltip());c=this.getCameraPosition();this.emit("cameraPositionChange",c);f.preventDefault(b)};a.prototype._insideTriangle=function(b,c){function a(b){return 0<b?1:0>b?-1:0}var e=c[0],d=c[1],f=c[2],p=a((d.x-e.x)*(b.y-e.y)-(d.y-e.y)*(b.x-e.x)),d=a((f.x-d.x)*(b.y-d.y)-(f.y-d.y)*(b.x-d.x)),e=a((e.x-f.x)*(b.y-f.y)-(e.y-f.y)*(b.x-f.x));return(0==p||0==d||p==d)&&(0==
d||0==e||d==e)&&(0==p||0==e||p==e)};a.prototype._dataPointFromXY=function(b,c){var e,d=null,f=null,p=null,l=new k(b,c);if(this.style===a.STYLE.BAR||this.style===a.STYLE.BARCOLOR||this.style===a.STYLE.BARSIZE)for(e=this.dataPoints.length-1;0<=e;e--){if(d=this.dataPoints[e],p=d.surfaces)for(var n=p.length-1;0<=n;n--){var h=p[n].corners,r=[h[2].screen,h[3].screen,h[0].screen];if(this._insideTriangle(l,[h[0].screen,h[1].screen,h[2].screen])||this._insideTriangle(l,r))return d}}else for(e=0;e<this.dataPoints.length;e++)if(d=
this.dataPoints[e],n=d.screen)l=Math.abs(b-n.x),n=Math.abs(c-n.y),l=Math.sqrt(l*l+n*n),(null===p||l<p)&&100>l&&(p=l,f=d);return f};a.prototype._showTooltip=function(b){var c,a,e;this.tooltip?(c=this.tooltip.dom.content,a=this.tooltip.dom.line,e=this.tooltip.dom.dot):(c=document.createElement("div"),c.style.position="absolute",c.style.padding="10px",c.style.border="1px solid #4d4d4d",c.style.color="#1a1a1a",c.style.background="rgba(255,255,255,0.7)",c.style.borderRadius="2px",c.style.boxShadow="5px 5px 10px rgba(128,128,128,0.5)",
a=document.createElement("div"),a.style.position="absolute",a.style.height="40px",a.style.width="0",a.style.borderLeft="1px solid #4d4d4d",e=document.createElement("div"),e.style.position="absolute",e.style.height="0",e.style.width="0",e.style.border="5px solid #4d4d4d",e.style.borderRadius="5px",this.tooltip={dataPoint:null,dom:{content:c,line:a,dot:e}});this._hideTooltip();this.tooltip.dataPoint=b;c.innerHTML="function"===typeof this.showTooltip?this.showTooltip(b.point):"<table><tr><td>x:</td><td>"+
b.point.x+"</td></tr><tr><td>y:</td><td>"+b.point.y+"</td></tr><tr><td>z:</td><td>"+b.point.z+"</td></tr></table>";c.style.left="0";c.style.top="0";this.frame.appendChild(c);this.frame.appendChild(a);this.frame.appendChild(e);var d=c.offsetWidth,f=c.offsetHeight,p=a.offsetHeight,l=e.offsetWidth,n=e.offsetHeight,h=b.screen.x-d/2,h=Math.min(Math.max(h,10),this.frame.clientWidth-10-d);a.style.left=b.screen.x+"px";a.style.top=b.screen.y-p+"px";c.style.left=h+"px";c.style.top=b.screen.y-p-f+"px";e.style.left=
b.screen.x-l/2+"px";e.style.top=b.screen.y-n/2+"px"};a.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(var b in this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(b)){var c=this.tooltip.dom[b];c&&c.parentNode&&c.parentNode.removeChild(c)}}};q.exports=a},function(q,g,m){function a(){this.armLocation=new d;this.armRotation={};this.armRotation.horizontal=0;this.armRotation.vertical=0;this.armLength=1.7;this.cameraLocation=new d;this.cameraRotation=new d(.5*Math.PI,
0,0);this.calculateCameraOrientation()}var d=m(10);a.prototype.setArmLocation=function(c,b,a){this.armLocation.x=c;this.armLocation.y=b;this.armLocation.z=a;this.calculateCameraOrientation()};a.prototype.setArmRotation=function(c,b){void 0!==c&&(this.armRotation.horizontal=c);void 0!==b&&(this.armRotation.vertical=b,0>this.armRotation.vertical&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI));void 0===c&&void 0===b||this.calculateCameraOrientation()};
a.prototype.getArmRotation=function(){var c={};c.horizontal=this.armRotation.horizontal;c.vertical=this.armRotation.vertical;return c};a.prototype.setArmLength=function(c){void 0!==c&&(this.armLength=c,.71>this.armLength&&(this.armLength=.71),5<this.armLength&&(this.armLength=5),this.calculateCameraOrientation())};a.prototype.getArmLength=function(){return this.armLength};a.prototype.getCameraLocation=function(){return this.cameraLocation};a.prototype.getCameraRotation=function(){return this.cameraRotation};
a.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical);this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical);this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical);this.cameraRotation.x=Math.PI/2-this.armRotation.vertical;this.cameraRotation.y=0;this.cameraRotation.z=
-this.armRotation.horizontal};q.exports=a},function(q,g,m){function a(c,b,a){this.data=c;this.column=b;this.graph=a;this.value=this.index=void 0;this.values=a.getDistinctValues(c.get(),this.column);this.values.sort(function(b,c){return b>c?1:b<c?-1:0});0<this.values.length&&this.selectValue(0);this.dataPoints=[];this.loaded=!1;this.onLoadCallback=void 0;a.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}var d=m(4);a.prototype.isLoaded=function(){return this.loaded};a.prototype.getLoadedProgress=
function(){for(var c=this.values.length,b=0;this.dataPoints[b];)b++;return Math.round(b/c*100)};a.prototype.getLabel=function(){return this.graph.filterLabel};a.prototype.getColumn=function(){return this.column};a.prototype.getSelectedValue=function(){return void 0===this.index?void 0:this.values[this.index]};a.prototype.getValues=function(){return this.values};a.prototype.getValue=function(c){if(c>=this.values.length)throw"Error: index out of range";return this.values[c]};a.prototype._getDataPoints=
function(c){void 0===c&&(c=this.index);if(void 0===c)return[];var b;if(this.dataPoints[c])b=this.dataPoints[c];else{var a,f;a=this.column;f=this.values[c];b=(new d(this.data,{filter:function(b){return b[a]==f}})).get();b=this.graph._getDataPoints(b);this.dataPoints[c]=b}return b};a.prototype.setOnLoadCallback=function(c){this.onLoadCallback=c};a.prototype.selectValue=function(c){if(c>=this.values.length)throw"Error: index out of range";this.index=c;this.value=this.values[c]};a.prototype.loadInBackground=
function(c){void 0===c&&(c=0);var b=this.graph.frame;if(c<this.values.length){this._getDataPoints(c);void 0===b.progress&&(b.progress=document.createElement("DIV"),b.progress.style.position="absolute",b.progress.style.color="gray",b.appendChild(b.progress));var a=this.getLoadedProgress();b.progress.innerHTML="Loading animation... "+a+"%";b.progress.style.bottom="60px";b.progress.style.left="10px";var d=this;setTimeout(function(){d.loadInBackground(c+1)},10);this.loaded=!1}else if(this.loaded=!0,void 0!==
b.progress&&(b.removeChild(b.progress),b.progress=void 0),this.onLoadCallback)this.onLoadCallback()};q.exports=a},function(q,g,m){q.exports=function(a,d){this.x=void 0!==a?a:0;this.y=void 0!==d?d:0}},function(q,g,m){function a(a,c,b){this.x=void 0!==a?a:0;this.y=void 0!==c?c:0;this.z=void 0!==b?b:0}a.subtract=function(d,c){var b=new a;b.x=d.x-c.x;b.y=d.y-c.y;b.z=d.z-c.z;return b};a.add=function(d,c){var b=new a;b.x=d.x+c.x;b.y=d.y+c.y;b.z=d.z+c.z;return b};a.avg=function(d,c){return new a((d.x+c.x)/
2,(d.y+c.y)/2,(d.z+c.z)/2)};a.crossProduct=function(d,c){var b=new a;b.x=d.y*c.z-d.z*c.y;b.y=d.z*c.x-d.x*c.z;b.z=d.x*c.y-d.y*c.x;return b};a.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};q.exports=a},function(q,g,m){function a(c,b){if(void 0===c)throw"Error: No container element defined";this.container=c;if(this.visible=b&&void 0!=b.visible?b.visible:!0){this.frame=document.createElement("DIV");this.frame.style.width="100%";this.frame.style.position="relative";
this.container.appendChild(this.frame);this.frame.prev=document.createElement("INPUT");this.frame.prev.type="BUTTON";this.frame.prev.value="Prev";this.frame.appendChild(this.frame.prev);this.frame.play=document.createElement("INPUT");this.frame.play.type="BUTTON";this.frame.play.value="Play";this.frame.appendChild(this.frame.play);this.frame.next=document.createElement("INPUT");this.frame.next.type="BUTTON";this.frame.next.value="Next";this.frame.appendChild(this.frame.next);this.frame.bar=document.createElement("INPUT");
this.frame.bar.type="BUTTON";this.frame.bar.style.position="absolute";this.frame.bar.style.border="1px solid red";this.frame.bar.style.width="100px";this.frame.bar.style.height="6px";this.frame.bar.style.borderRadius="2px";this.frame.bar.style.MozBorderRadius="2px";this.frame.bar.style.border="1px solid #7F7F7F";this.frame.bar.style.backgroundColor="#E5E5E5";this.frame.appendChild(this.frame.bar);this.frame.slide=document.createElement("INPUT");this.frame.slide.type="BUTTON";this.frame.slide.style.margin=
"0px";this.frame.slide.value=" ";this.frame.slide.style.position="relative";this.frame.slide.style.left="-100px";this.frame.appendChild(this.frame.slide);var a=this;this.frame.slide.onmousedown=function(b){a._onMouseDown(b)};this.frame.prev.onclick=function(b){a.prev(b)};this.frame.play.onclick=function(b){a.togglePlay(b)};this.frame.next.onclick=function(b){a.next(b)}}this.onChangeCallback=void 0;this.values=[];this.playTimeout=this.index=void 0;this.playInterval=1E3;this.playLoop=!0}var d=m(1);
a.prototype.prev=function(){var c=this.getIndex();0<c&&(c--,this.setIndex(c))};a.prototype.next=function(){var c=this.getIndex();c<this.values.length-1&&(c++,this.setIndex(c))};a.prototype.playNext=function(){var c=new Date,b=this.getIndex();b<this.values.length-1?(b++,this.setIndex(b)):this.playLoop&&this.setIndex(0);var c=Math.max(this.playInterval-(new Date-c),0),a=this;this.playTimeout=setTimeout(function(){a.playNext()},c)};a.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():
this.stop()};a.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))};a.prototype.stop=function(){clearInterval(this.playTimeout);this.playTimeout=void 0;this.frame&&(this.frame.play.value="Play")};a.prototype.setOnChangeCallback=function(c){this.onChangeCallback=c};a.prototype.setPlayInterval=function(c){this.playInterval=c};a.prototype.getPlayInterval=function(c){return this.playInterval};a.prototype.setPlayLoop=function(c){this.playLoop=c};a.prototype.onChange=
function(){if(void 0!==this.onChangeCallback)this.onChangeCallback()};a.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px";this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var c=this.indexToLeft(this.index);this.frame.slide.style.left=c+"px"}};a.prototype.setValues=function(c){this.values=c;0<this.values.length?this.setIndex(0):
this.index=void 0};a.prototype.setIndex=function(c){if(c<this.values.length)this.index=c,this.redraw(),this.onChange();else throw"Error: index out of range";};a.prototype.getIndex=function(){return this.index};a.prototype.get=function(){return this.values[this.index]};a.prototype._onMouseDown=function(c){if(c.which?1===c.which:1===c.button){this.startClientX=c.clientX;this.startSlideX=parseFloat(this.frame.slide.style.left);this.frame.style.cursor="move";var b=this;this.onmousemove=function(c){b._onMouseMove(c)};
this.onmouseup=function(c){b._onMouseUp(c)};d.addEventListener(document,"mousemove",this.onmousemove);d.addEventListener(document,"mouseup",this.onmouseup);d.preventDefault(c)}};a.prototype.leftToIndex=function(c){var b=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;c=Math.round((c-3)/b*(this.values.length-1));0>c&&(c=0);c>this.values.length-1&&(c=this.values.length-1);return c};a.prototype.indexToLeft=function(c){var b=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-
10;return c/(this.values.length-1)*b+3};a.prototype._onMouseMove=function(c){c=this.leftToIndex(this.startSlideX+(c.clientX-this.startClientX));this.setIndex(c);d.preventDefault()};a.prototype._onMouseUp=function(c){this.frame.style.cursor="auto";d.removeEventListener(document,"mousemove",this.onmousemove);d.removeEventListener(document,"mouseup",this.onmouseup);d.preventDefault()};q.exports=a},function(q,g,m){function a(a,c,b,e){this._end=this._start=0;this._step=1;this.prettyStep=!0;this.precision=
5;this._current=0;this.setRange(a,c,b,e)}a.prototype.setRange=function(a,c,b,e){this._start=a?a:0;this._end=c?c:0;this.setStep(b,e)};a.prototype.setStep=function(d,c){void 0===d||0>=d||(void 0!==c&&(this.prettyStep=c),this._step=!0===this.prettyStep?a.calculatePrettyStep(d):d)};a.calculatePrettyStep=function(a){var c=Math.pow(10,Math.round(Math.log(a)/Math.LN10)),b=2*Math.pow(10,Math.round(Math.log(a/2)/Math.LN10)),e=5*Math.pow(10,Math.round(Math.log(a/5)/Math.LN10));Math.abs(b-a)<=Math.abs(c-a)&&
(c=b);Math.abs(e-a)<=Math.abs(c-a)&&(c=e);0>=c&&(c=1);return c};a.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))};a.prototype.getStep=function(){return this._step};a.prototype.start=function(){this._current=this._start-this._start%this._step};a.prototype.next=function(){this._current+=this._step};a.prototype.end=function(){return this._current>this._end};q.exports=a},function(q,g,m){function a(b,p,r,g){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");
if(!(Array.isArray(r)||r instanceof c)&&r instanceof Object){var v=g;g=r;r=v}this.defaultOptions={start:null,end:null,autoResize:!0,orientation:"bottom",width:null,height:null,maxHeight:null,minHeight:null};this.options=d.deepExtend({},this.defaultOptions);this._create(b);this.components=[];this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{snap:null,toScreen:this._toScreen.bind(this),toGlobalScreen:this._toGlobalScreen.bind(this),
toTime:this._toTime.bind(this),toGlobalTime:this._toGlobalTime.bind(this)}};this.range=new e(this.body);this.components.push(this.range);this.body.range=this.range;this.timeAxis=new f(this.body);this.components.push(this.timeAxis);this.body.util.snap=this.timeAxis.snap.bind(this.timeAxis);this.currentTime=new l(this.body);this.components.push(this.currentTime);this.customTime=new k(this.body);this.components.push(this.customTime);this.itemSet=new h(this.body);this.components.push(this.itemSet);this.groupsData=
this.itemsData=null;g&&this.setOptions(g);r&&this.setGroups(r);p?this.setItems(p):this.redraw()}m(56);m(45);var d=m(1),c=m(3),b=m(4),e=m(17);g=m(46);var f=m(30),l=m(21),k=m(22),h=m(27);a.prototype=new g;a.prototype.setItems=function(a){var e=null==this.itemsData;this.itemsData=a=a?a instanceof c||a instanceof b?a:new c(a,{type:{start:"Date",end:"Date"}}):null;this.itemSet&&this.itemSet.setItems(a);if(e)if(void 0!=this.options.start||void 0!=this.options.end){if(void 0==this.options.start||void 0==
this.options.end)var d=this._getDataRange();this.setWindow(void 0!=this.options.start?this.options.start:d.start,void 0!=this.options.end?this.options.end:d.end,{animate:!1})}else this.fit({animate:!1})};a.prototype.setGroups=function(a){this.groupsData=a=a?a instanceof c||a instanceof b?a:new c(a):null;this.itemSet.setGroups(a)};a.prototype.setSelection=function(b,c){this.itemSet&&this.itemSet.setSelection(b);c&&c.focus&&this.focus(b,c)};a.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||
[]};a.prototype.focus=function(b,c){if(this.itemsData&&void 0!=b){var a=Array.isArray(b)?b:[b],e=null,d=null;this.itemsData.getDataSet().get(a,{type:{start:"Date",end:"Date"}}).forEach(function(b){var c=b.start.valueOf();b="end"in b?b.end.valueOf():b.start.valueOf();if(null===e||c<e)e=c;if(null===d||b>d)d=b});if(null!==e&&null!==d){var a=(e+d)/2,f=Math.max(this.range.end-this.range.start,1.1*(d-e));this.range.setRange(a-f/2,a+f/2,c&&void 0!==c.animate?c.animate:!0)}}};a.prototype.getItemRange=function(){var b=
this.itemsData.getDataSet(),c=null,a=null;if(b){var c=(c=b.min("start"))?d.convert(c.start,"Date").valueOf():null,e=b.max("start");e&&(a=d.convert(e.start,"Date").valueOf());(b=b.max("end"))&&(a=null==a?d.convert(b.end,"Date").valueOf():Math.max(a,d.convert(b.end,"Date").valueOf()))}return{min:null!=c?new Date(c):null,max:null!=a?new Date(a):null}};q.exports=a},function(q,g,m){function a(b,a,r,g){if(!(Array.isArray(r)||r instanceof c)&&r instanceof Object){var v=g;g=r;r=v}this.defaultOptions={start:null,
end:null,autoResize:!0,orientation:"bottom",width:null,height:null,maxHeight:null,minHeight:null};this.options=d.deepExtend({},this.defaultOptions);this._create(b);this.components=[];this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{snap:null,toScreen:this._toScreen.bind(this),toGlobalScreen:this._toGlobalScreen.bind(this),toTime:this._toTime.bind(this),toGlobalTime:this._toGlobalTime.bind(this)}};this.range=
new e(this.body);this.components.push(this.range);this.body.range=this.range;this.timeAxis=new f(this.body);this.components.push(this.timeAxis);this.body.util.snap=this.timeAxis.snap.bind(this.timeAxis);this.currentTime=new l(this.body);this.components.push(this.currentTime);this.customTime=new k(this.body);this.components.push(this.customTime);this.linegraph=new h(this.body);this.components.push(this.linegraph);this.groupsData=this.itemsData=null;g&&this.setOptions(g);r&&this.setGroups(r);a?this.setItems(a):
this.redraw()}m(56);m(45);var d=m(1),c=m(3),b=m(4),e=m(17);g=m(46);var f=m(30),l=m(21),k=m(22),h=m(29);a.prototype=new g;a.prototype.setItems=function(a){var e=null==this.itemsData;this.itemsData=a=a?a instanceof c||a instanceof b?a:new c(a,{type:{start:"Date",end:"Date"}}):null;this.linegraph&&this.linegraph.setItems(a);e&&(void 0!=this.options.start||void 0!=this.options.end?this.setWindow(void 0!=this.options.start?this.options.start:null,void 0!=this.options.end?this.options.end:null,{animate:!1}):
this.fit({animate:!1}))};a.prototype.setGroups=function(a){this.groupsData=a=a?a instanceof c||a instanceof b?a:new c(a):null;this.linegraph.setGroups(a)};a.prototype.getLegend=function(b,c,a){void 0===c&&(c=15);void 0===a&&(a=15);return void 0!==this.linegraph.groups[b]?this.linegraph.groups[b].getLegend(c,a):"cannot find group:"+b};a.prototype.isGroupVisible=function(b){return void 0!==this.linegraph.groups[b]?this.linegraph.groups[b].visible&&(void 0===this.linegraph.options.groups.visibility[b]||
1==this.linegraph.options.groups.visibility[b]):!1};a.prototype.getItemRange=function(){var b=null,c=null,a;for(a in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(a)&&1==this.linegraph.groups[a].visible)for(var e=0;e<this.linegraph.groups[a].itemsData.length;e++)var f=d.convert(this.linegraph.groups[a].itemsData[e].x,"Date").valueOf(),b=null==b?f:b>f?f:b,c=null==c?f:c<f?f:c;return{min:null!=b?new Date(b):null,max:null!=c?new Date(c):null}};q.exports=a},function(q,g,m){var a=m(44);
g.convertHiddenOptions=function(d,c){d.hiddenDates=[];if(c&&1==Array.isArray(c)){for(var b=0;b<c.length;b++)if(void 0===c[b].repeat){var e={};e.start=a(c[b].start).toDate().valueOf();e.end=a(c[b].end).toDate().valueOf();d.hiddenDates.push(e)}d.hiddenDates.sort(function(b,c){return b.start-c.start})}};g.updateHiddenDates=function(d,c){if(c&&void 0!==d.domProps.centerContainer.width){g.convertHiddenOptions(d,c);for(var b=a(d.range.start),e=a(d.range.end),f=(d.range.end-d.range.start)/d.domProps.centerContainer.width,
l=0;l<c.length;l++)if(void 0!==c[l].repeat){var k=a(c[l].start),h=a(c[l].end);if("Invalid Date"==k._d)throw Error("Supplied start date is not valid: "+c[l].start);if("Invalid Date"==h._d)throw Error("Supplied end date is not valid: "+c[l].end);if(h-k>=4*f){var n=0,p=e.clone();switch(c[l].repeat){case "daily":k.day()!=h.day()&&(n=1);k.dayOfYear(b.dayOfYear());k.year(b.year());k.subtract(7,"days");h.dayOfYear(b.dayOfYear());h.year(b.year());h.subtract(7-n,"days");p.add(1,"weeks");break;case "weekly":var n=
h.diff(k,"days"),r=k.day();k.date(b.date());k.month(b.month());k.year(b.year());h=k.clone();k.day(r);h.day(r);h.add(n,"days");k.subtract(1,"weeks");h.subtract(1,"weeks");p.add(1,"weeks");break;case "monthly":k.month()!=h.month()&&(n=1);k.month(b.month());k.year(b.year());k.subtract(1,"months");h.month(b.month());h.year(b.year());h.subtract(1,"months");h.add(n,"months");p.add(1,"months");break;case "yearly":k.year()!=h.year()&&(n=1);k.year(b.year());k.subtract(1,"years");h.year(b.year());h.subtract(1,
"years");h.add(n,"years");p.add(1,"years");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",c[l].repeat);return}for(;k<p;)switch(d.hiddenDates.push({start:k.valueOf(),end:h.valueOf()}),c[l].repeat){case "daily":k.add(1,"days");h.add(1,"days");break;case "weekly":k.add(1,"weeks");h.add(1,"weeks");break;case "monthly":k.add(1,"months");h.add(1,"months");break;case "yearly":k.add(1,"y");h.add(1,"y");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",
c[l].repeat);return}d.hiddenDates.push({start:k.valueOf(),end:h.valueOf()})}}g.removeDuplicates(d);b=g.isHidden(d.range.start,d.hiddenDates);e=g.isHidden(d.range.end,d.hiddenDates);f=d.range.start;l=d.range.end;1==b.hidden&&(f=1==d.range.startToFront?b.startDate-1:b.endDate+1);1==e.hidden&&(l=1==d.range.endToFront?e.startDate-1:e.endDate+1);1!=b.hidden&&1!=e.hidden||d.range._applyRange(f,l)}};g.removeDuplicates=function(a){for(var c=a.hiddenDates,b=[],e=0;e<c.length;e++)for(var f=0;f<c.length;f++)e!=
f&&1!=c[f].remove&&1!=c[e].remove&&(c[f].start>=c[e].start&&c[f].end<=c[e].end?c[f].remove=!0:c[f].start>=c[e].start&&c[f].start<=c[e].end?(c[e].end=c[f].end,c[f].remove=!0):c[f].end>=c[e].start&&c[f].end<=c[e].end&&(c[e].start=c[f].start,c[f].remove=!0));for(e=0;e<c.length;e++)!0!==c[e].remove&&b.push(c[e]);a.hiddenDates=b;a.hiddenDates.sort(function(b,c){return b.start-c.start})};g.printDates=function(a){for(var c=0;c<a.length;c++)console.log(c,new Date(a[c].start),new Date(a[c].end),a[c].start,
a[c].end,a[c].remove)};g.stepOverHiddenDates=function(d,c){for(var b=!1,e=d.current.valueOf(),f=0;f<d.hiddenDates.length;f++){var l=d.hiddenDates[f].end;if(e>=d.hiddenDates[f].start&&e<l){b=!0;break}}1==b&&e<d._end.valueOf()&&e!=c&&(b=a(c),l=a(l),b.year()!=l.year()?d.switchedYear=!0:b.month()!=l.month()?d.switchedMonth=!0:b.dayOfYear()!=l.dayOfYear()&&(d.switchedDay=!0),d.current=l.toDate())};g.toScreen=function(a,c,b){if(0==a.body.hiddenDates.length)a=a.range.conversion(b);else{var e=g.isHidden(c,
a.body.hiddenDates);1==e.hidden&&(c=e.startDate);e=g.getHiddenDurationBetween(a.body.hiddenDates,a.range.start,a.range.end);c=g.correctTimeForHidden(a.body.hiddenDates,a.range,c);a=a.range.conversion(b,e)}return(c.valueOf()-a.offset)*a.scale};g.toTime=function(a,c,b){if(0==a.body.hiddenDates.length)return a=a.range.conversion(b),new Date(c/a.scale+a.offset);var e=g.getHiddenDurationBetween(a.body.hiddenDates,a.range.start,a.range.end);c=(a.range.end-a.range.start-e)*c/b;b=g.getAccumulatedHiddenDuration(a.body.hiddenDates,
a.range,c);return new Date(b+c+a.range.start)};g.getHiddenDurationBetween=function(a,c,b){for(var e=0,f=0;f<a.length;f++){var l=a[f].start,k=a[f].end;l>=c&&k<b&&(e+=k-l)}return e};g.correctTimeForHidden=function(d,c,b){b=a(b).toDate().valueOf();return b-=g.getHiddenDurationBefore(d,c,b)};g.getHiddenDurationBefore=function(d,c,b){var e=0;b=a(b).toDate().valueOf();for(var f=0;f<d.length;f++){var l=d[f].start,k=d[f].end;l>=c.start&&k<c.end&&b>=k&&(e+=k-l)}return e};g.getAccumulatedHiddenDuration=function(a,
c,b){for(var e=0,f=0,l=c.start,k=0;k<a.length;k++){var h=a[k].start,n=a[k].end;if(h>=c.start&&n<c.end)if(f+=h-l,l=n,f>=b)break;else e+=n-h}return e};g.snapAwayFromHidden=function(a,c,b,e){a=g.isHidden(c,a);return 1==a.hidden?0>b?1==e?a.startDate-(a.endDate-c)-1:a.startDate-1:1==e?a.endDate+(c-a.startDate)+1:a.endDate+1:c};g.isHidden=function(a,c){for(var b=0;b<c.length;b++){var e=c[b].start,f=c[b].end;if(a>=e&&a<f)return{hidden:!0,startDate:e,endDate:f}}return{hidden:!1,startDate:e,endDate:f}}},function(q,
g,m){function a(a,c,b,e,f,l){this.current=0;this.autoScale=!0;this.stepIndex=0;this.scale=this.step=1;this.marginStart;this.marginEnd;this.deadSpace=0;this.majorSteps=[1,2,5,10];this.minorSteps=[.25,.5,1,2];this.alignZeros=l;this.setRange(a,c,b,e,f)}a.prototype.setRange=function(a,c,b,e,f){this._start=void 0===f.min?a:f.min;this._end=void 0===f.max?c:f.max;this._start==this._end&&(this._start-=.75,this._end+=1);1==this.autoScale&&this.setMinimumStep(b,e);this.setFirst(f)};a.prototype.setMinimumStep=
function(a,c){var b=1.2*(this._end-this._start),e=b/c*a,b=Math.round(Math.log(b)/Math.LN10),f=-1,l=Math.pow(10,b),k=0;0>b&&(k=b);for(var h=!1;Math.abs(k)<=Math.abs(b);k++){for(var l=Math.pow(10,k),n=0;n<this.minorSteps.length;n++)if(l*this.minorSteps[n]>=e){h=!0;f=n;break}if(1==h)break}this.stepIndex=f;this.scale=l;this.step=l*this.minorSteps[f]};a.prototype.setFirst=function(a){void 0===a&&(a={});var c=void 0===a.min?this._start-2*this.scale*this.minorSteps[this.stepIndex]:a.min,b=void 0===a.max?
this._end+this.scale*this.minorSteps[this.stepIndex]:a.max;this.marginEnd=void 0===a.max?this.roundToMinor(b):a.max;this.marginStart=void 0===a.min?this.roundToMinor(c):a.min;1==this.alignZeros&&0!=(this.marginEnd-this.marginStart)%this.step&&(this.marginEnd+=this.marginEnd%this.step);this.deadSpace=this.roundToMinor(b)-b+this.roundToMinor(c)-c;this.marginRange=this.marginEnd-this.marginStart;this.current=this.marginEnd};a.prototype.roundToMinor=function(a){var c=a-a%(this.scale*this.minorSteps[this.stepIndex]);
return a%(this.scale*this.minorSteps[this.stepIndex])>.5*this.scale*this.minorSteps[this.stepIndex]?c+this.scale*this.minorSteps[this.stepIndex]:c};a.prototype.hasNext=function(){return this.current>=this.marginStart};a.prototype.next=function(){var a=this.current;this.current-=this.step;this.current==a&&(this.current=this._end)};a.prototype.previous=function(){this.current+=this.step;this.marginEnd+=this.step;this.marginRange=this.marginEnd-this.marginStart};a.prototype.getCurrent=function(a){var c=
Math.abs(this.current)<this.step/2?0:this.current,c=""+Number(c).toPrecision(5);if(void 0!==a&&!isNaN(Number(a))){var b="",e=c.indexOf("e");-1!=e&&(b=c.slice(e),c=c.slice(0,e));e=Math.max(c.indexOf(","),c.indexOf("."));-1===e?(0!==a&&(c+="."),e=c.length+a):0!==a&&(e+=a+1);if(e>c.length)for(a=e-c.length;0<a;a--)c+="0";else c=c.slice(0,e);c+=b}else if(-1!=c.indexOf(",")||-1!=c.indexOf("."))for(a=c.length-1;0<a;a--)if("0"==c[a])c=c.slice(0,a);else{if("."==c[a]||","==c[a])c=c.slice(0,a);break}return c};
a.prototype.snap=function(a){};a.prototype.isMajor=function(){return 0==this.current%(this.scale*this.majorSteps[this.stepIndex])};q.exports=a},function(q,g,m){function a(c,a){var e=f().hours(0).minutes(0).seconds(0).milliseconds(0);this.start=e.clone().add(-3,"days").valueOf();this.end=e.clone().add(4,"days").valueOf();this.body=c;this.scaleOffset=this.deltaDifference=0;this.startToFront=!1;this.endToFront=!0;this.defaultOptions={start:null,end:null,direction:"horizontal",moveable:!0,zoomable:!0,
min:null,max:null,zoomMin:10,zoomMax:31536E10};this.options=b.extend({},this.defaultOptions);this.props={touch:{}};this.animateTimer=null;this.body.emitter.on("dragstart",this._onDragStart.bind(this));this.body.emitter.on("drag",this._onDrag.bind(this));this.body.emitter.on("dragend",this._onDragEnd.bind(this));this.body.emitter.on("hold",this._onHold.bind(this));this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this));this.body.emitter.on("DOMMouseScroll",this._onMouseWheel.bind(this));this.body.emitter.on("touch",
this._onTouch.bind(this));this.body.emitter.on("pinch",this._onPinch.bind(this));this.setOptions(a)}function d(b){if("horizontal"!=b&&"vertical"!=b)throw new TypeError('Unknown direction "'+b+'". Choose "horizontal" or "vertical".');}function c(c,a){return{x:c.pageX-b.getAbsoluteLeft(a),y:c.pageY-b.getAbsoluteTop(a)}}var b=m(1),e=m(47),f=m(44);g=m(20);var l=m(15);a.prototype=new g;a.prototype.setOptions=function(c){c&&(b.selectiveExtend("direction min max zoomMin zoomMax moveable zoomable activate hiddenDates".split(" "),
this.options,c),("start"in c||"end"in c)&&this.setRange(c.start,c.end))};a.prototype.setRange=function(c,a,e){var d=void 0!=c?b.convert(c,"Date").valueOf():null,f=void 0!=a?b.convert(a,"Date").valueOf():null;this._cancelAnimation();if(e){var g=this,v=this.start,m=this.end,y="number"===typeof e?e:500,q=(new Date).valueOf(),D=!1,w=function(){if(!g.props.touch.dragging){var c=(new Date).valueOf()-q,a=c>y,e=a||null===d?d:b.easeInOutQuad(c,v,d,y),c=a||null===f?f:b.easeInOutQuad(c,m,f,y);x=g._applyRange(e,
c);l.updateHiddenDates(g.body,g.options.hiddenDates);D=D||x;x&&g.body.emitter.emit("rangechange",{start:new Date(g.start),end:new Date(g.end)});a?D&&g.body.emitter.emit("rangechanged",{start:new Date(g.start),end:new Date(g.end)}):g.animateTimer=setTimeout(w,20)}};return w()}var x=this._applyRange(d,f);l.updateHiddenDates(this.body,this.options.hiddenDates);x&&(c={start:new Date(this.start),end:new Date(this.end)},this.body.emitter.emit("rangechange",c),this.body.emitter.emit("rangechanged",c))};
a.prototype._cancelAnimation=function(){this.animateTimer&&(clearTimeout(this.animateTimer),this.animateTimer=null)};a.prototype._applyRange=function(c,a){var e=null!=c?b.convert(c,"Date").valueOf():this.start,d=null!=a?b.convert(a,"Date").valueOf():this.end,f=null!=this.options.max?b.convert(this.options.max,"Date").valueOf():null,l=null!=this.options.min?b.convert(this.options.min,"Date").valueOf():null,g;if(isNaN(e)||null===e)throw Error('Invalid start "'+c+'"');if(isNaN(d)||null===d)throw Error('Invalid end "'+
a+'"');d<e&&(d=e);null!==l&&e<l&&(g=l-e,e+=g,d+=g,null!=f&&d>f&&(d=f));null!==f&&d>f&&(g=d-f,e-=g,d-=g,null!=l&&e<l&&(e=l));null!==this.options.zoomMin&&(f=parseFloat(this.options.zoomMin),0>f&&(f=0),d-e<f&&(this.end-this.start===f?(e=this.start,d=this.end):(g=f-(d-e),e-=g/2,d+=g/2)));null!==this.options.zoomMax&&(f=parseFloat(this.options.zoomMax),0>f&&(f=0),d-e>f&&(this.end-this.start===f?(e=this.start,d=this.end):(g=d-e-f,e+=g/2,d-=g/2)));f=this.start!=e||this.end!=d;e>=this.start&&e<=this.end||
d>=this.start&&d<=this.end||this.start>=e&&this.start<=d||this.end>=e&&this.end<=d||this.body.emitter.emit("checkRangedItems");this.start=e;this.end=d;return f};a.prototype.getRange=function(){return{start:this.start,end:this.end}};a.prototype.conversion=function(b,c){return a.conversion(this.start,this.end,b,c)};a.conversion=function(b,c,a,e){void 0===e&&(e=0);return 0!=a&&0!=c-b?{offset:b,scale:a/(c-b-e)}:{offset:0,scale:1}};a.prototype._onDragStart=function(b){this.previousDelta=this.deltaDifference=
0;this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))};a.prototype._onDrag=function(b){if(this.options.moveable&&this.props.touch.allowDragging){var c=this.options.direction;d(c);var a="horizontal"==c?b.gesture.deltaX:b.gesture.deltaY,a=a-this.deltaDifference,e=this.props.touch.end-this.props.touch.start,f=l.getHiddenDurationBetween(this.body.hiddenDates,
this.start,this.end),e=-a/("horizontal"==c?this.body.domProps.center.width:this.body.domProps.center.height)*(e-f),c=this.props.touch.start+e,e=this.props.touch.end+e,f=l.snapAwayFromHidden(this.body.hiddenDates,c,this.previousDelta-a,!0),g=l.snapAwayFromHidden(this.body.hiddenDates,e,this.previousDelta-a,!0);f!=c||g!=e?(this.deltaDifference+=a,this.props.touch.start=f,this.props.touch.end=g,this._onDrag(b)):(this.previousDelta=a,this._applyRange(c,e),this.body.emitter.emit("rangechange",{start:new Date(this.start),
end:new Date(this.end)}))}};a.prototype._onDragEnd=function(b){this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end)}))};a.prototype._onMouseWheel=function(b){if(this.options.zoomable&&this.options.moveable){var a=0;b.wheelDelta?a=b.wheelDelta/120:b.detail&&(a=-b.detail/3);if(a){var d;d=0>a?1-a/5:1/(1+a/5);var f=e.fakeGesture(this,
b),f=c(f.center,this.body.dom.center),f=this._pointerToDate(f);this.zoom(d,f,a)}b.preventDefault()}};a.prototype._onTouch=function(b){this.props.touch.start=this.start;this.props.touch.end=this.end;this.props.touch.allowDragging=!0;this.props.touch.center=null;this.deltaDifference=this.scaleOffset=0};a.prototype._onHold=function(){this.props.touch.allowDragging=!1};a.prototype._onPinch=function(b){if(this.options.zoomable&&this.options.moveable&&(this.props.touch.allowDragging=!1,1<b.gesture.touches.length)){this.props.touch.center||
(this.props.touch.center=c(b.gesture.center,this.body.dom.center));var a=1/(b.gesture.scale+this.scaleOffset),e=this._pointerToDate(this.props.touch.center),d=l.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),f=l.getHiddenDurationBefore(this.body.hiddenDates,this,e),d=d-f,f=e-f+(this.props.touch.start-(e-f))*a,e=e+d+(this.props.touch.end-(e+d))*a;this.startToFront=0<1-a?!1:!0;this.endToFront=0<a-1?!1:!0;d=l.snapAwayFromHidden(this.body.hiddenDates,f,1-a,!0);a=l.snapAwayFromHidden(this.body.hiddenDates,
e,a-1,!0);if(d!=f||a!=e)this.props.touch.start=d,this.props.touch.end=a,this.scaleOffset=1-b.gesture.scale,f=d,e=a;this.setRange(f,e);this.startToFront=!1;this.endToFront=!0}};a.prototype._pointerToDate=function(b){var a;a=this.options.direction;d(a);if("horizontal"==a)return this.body.util.toTime(b.x).valueOf();a=this.conversion(this.body.domProps.center.height);return b.y/a.scale+a.offset};a.prototype.zoom=function(b,a,c){null==a&&(a=(this.start+this.end)/2);var e=l.getHiddenDurationBetween(this.body.hiddenDates,
this.start,this.end),d=l.getHiddenDurationBefore(this.body.hiddenDates,this,a),e=e-d,d=a-d+(this.start-(a-d))*b;b=a+e+(this.end-(a+e))*b;this.startToFront=0<c?!1:!0;this.endToFront=0<-c?!1:!0;a=l.snapAwayFromHidden(this.body.hiddenDates,d,c,!0);c=l.snapAwayFromHidden(this.body.hiddenDates,b,-c,!0);if(a!=d||c!=b)d=a,b=c;this.setRange(d,b);this.startToFront=!1;this.endToFront=!0};a.prototype.move=function(b){var a=this.end-this.start,c=this.end+a*b;this.start+=a*b;this.end=c};a.prototype.moveTo=function(b){b=
(this.start+this.end)/2-b;this.setRange(this.start-b,this.end-b)};q.exports=a},function(q,g,m){g.orderByStart=function(a){a.sort(function(a,c){return a.data.start-c.data.start})};g.orderByEnd=function(a){a.sort(function(a,c){return("end"in a.data?a.data.end:a.data.start)-("end"in c.data?c.data.end:c.data.start)})};g.stack=function(a,d,c){var b;if(c)for(c=0,b=a.length;c<b;c++)a[c].top=null;c=0;for(b=a.length;c<b;c++){var e=a[c];if(e.stack&&null===e.top){e.top=d.axis;do{for(var f=null,l=0,k=a.length;l<
k;l++){var h=a[l];if(null!==h.top&&h!==e&&h.stack&&g.collision(e,h,d.item)){f=h;break}}null!=f&&(e.top=f.top+f.height+d.item.vertical)}while(f)}}};g.nostack=function(a,d,c){var b,e,f;b=0;for(e=a.length;b<e;b++)if(void 0!==a[b].data.subgroup){f=d.axis;for(var l in c)c.hasOwnProperty(l)&&1==c[l].visible&&c[l].index<c[a[b].data.subgroup].index&&(f+=c[l].height+d.item.vertical);a[b].top=f}else a[b].top=d.axis};g.collision=function(a,d,c){return a.left-c.horizontal+.001<d.left+d.width&&a.left+a.width+
c.horizontal-.001>d.left&&a.top-c.vertical+.001<d.top+d.height&&a.top+a.height+c.vertical-.001>d.top}},function(q,g,m){function a(b,c,d,k){this.current=new Date;this._start=new Date;this._end=new Date;this.autoScale=!0;this.scale="day";this.step=1;this.setRange(b,c,d);this.switchedYear=this.switchedMonth=this.switchedDay=!1;this.hiddenDates=k;void 0===k&&(this.hiddenDates=[]);this.format=a.FORMAT}var d=m(44),c=m(15),b=m(1);a.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",
weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}};a.prototype.setFormat=function(c){var d=b.deepExtend({},a.FORMAT);this.format=b.deepExtend(d,c)};a.prototype.setRange=function(b,a,c){if(!(b instanceof Date&&a instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=b?new Date(b.valueOf()):new Date;this._end=void 0!=
a?new Date(a.valueOf()):new Date;this.autoScale&&this.setMinimumStep(c)};a.prototype.first=function(){this.current=new Date(this._start.valueOf());this.roundToMinor()};a.prototype.roundToMinor=function(){switch(this.scale){case "year":this.current.setFullYear(this.step*Math.floor(this.current.getFullYear()/this.step)),this.current.setMonth(0);case "month":this.current.setDate(1);case "day":case "weekday":this.current.setHours(0);case "hour":this.current.setMinutes(0);case "minute":this.current.setSeconds(0);
case "second":this.current.setMilliseconds(0)}if(1!=this.step)switch(this.scale){case "millisecond":this.current.setMilliseconds(this.current.getMilliseconds()-this.current.getMilliseconds()%this.step);break;case "second":this.current.setSeconds(this.current.getSeconds()-this.current.getSeconds()%this.step);break;case "minute":this.current.setMinutes(this.current.getMinutes()-this.current.getMinutes()%this.step);break;case "hour":this.current.setHours(this.current.getHours()-this.current.getHours()%
this.step);break;case "weekday":case "day":this.current.setDate(this.current.getDate()-1-(this.current.getDate()-1)%this.step+1);break;case "month":this.current.setMonth(this.current.getMonth()-this.current.getMonth()%this.step);break;case "year":this.current.setFullYear(this.current.getFullYear()-this.current.getFullYear()%this.step)}};a.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()};a.prototype.next=function(){var b=this.current.valueOf();if(6>this.current.getMonth())switch(this.scale){case "millisecond":this.current=
new Date(this.current.valueOf()+this.step);break;case "second":this.current=new Date(this.current.valueOf()+1E3*this.step);break;case "minute":this.current=new Date(this.current.valueOf()+6E4*this.step);break;case "hour":this.current=new Date(this.current.valueOf()+36E5*this.step);var a=this.current.getHours();this.current.setHours(a-a%this.step);break;case "weekday":case "day":this.current.setDate(this.current.getDate()+this.step);break;case "month":this.current.setMonth(this.current.getMonth()+
this.step);break;case "year":this.current.setFullYear(this.current.getFullYear()+this.step)}else switch(this.scale){case "millisecond":this.current=new Date(this.current.valueOf()+this.step);break;case "second":this.current.setSeconds(this.current.getSeconds()+this.step);break;case "minute":this.current.setMinutes(this.current.getMinutes()+this.step);break;case "hour":this.current.setHours(this.current.getHours()+this.step);break;case "weekday":case "day":this.current.setDate(this.current.getDate()+
this.step);break;case "month":this.current.setMonth(this.current.getMonth()+this.step);break;case "year":this.current.setFullYear(this.current.getFullYear()+this.step)}if(1!=this.step)switch(this.scale){case "millisecond":this.current.getMilliseconds()<this.step&&this.current.setMilliseconds(0);break;case "second":this.current.getSeconds()<this.step&&this.current.setSeconds(0);break;case "minute":this.current.getMinutes()<this.step&&this.current.setMinutes(0);break;case "hour":this.current.getHours()<
this.step&&this.current.setHours(0);break;case "weekday":case "day":this.current.getDate()<this.step+1&&this.current.setDate(1);break;case "month":this.current.getMonth()<this.step&&this.current.setMonth(0)}this.current.valueOf()==b&&(this.current=new Date(this._end.valueOf()));c.stepOverHiddenDates(this,b)};a.prototype.getCurrent=function(){return this.current};a.prototype.setScale=function(b,a){this.scale=b;0<a&&(this.step=a);this.autoScale=!1};a.prototype.setAutoScale=function(b){this.autoScale=
b};a.prototype.setMinimumStep=function(b){void 0!=b&&(31104E9>b&&(this.scale="year",this.step=1E3),15552E9>b&&(this.scale="year",this.step=500),31104E8>b&&(this.scale="year",this.step=100),15552E8>b&&(this.scale="year",this.step=50),31104E7>b&&(this.scale="year",this.step=10),15552E7>b&&(this.scale="year",this.step=5),31104E6>b&&(this.scale="year",this.step=1),7776E6>b&&(this.scale="month",this.step=3),2592E6>b&&(this.scale="month",this.step=1),432E6>b&&(this.scale="day",this.step=5),1728E5>b&&(this.scale=
"day",this.step=2),864E5>b&&(this.scale="day",this.step=1),432E5>b&&(this.scale="weekday",this.step=1),144E5>b&&(this.scale="hour",this.step=4),36E5>b&&(this.scale="hour",this.step=1),9E5>b&&(this.scale="minute",this.step=15),6E5>b&&(this.scale="minute",this.step=10),3E5>b&&(this.scale="minute",this.step=5),6E4>b&&(this.scale="minute",this.step=1),15E3>b&&(this.scale="second",this.step=15),1E4>b&&(this.scale="second",this.step=10),5E3>b&&(this.scale="second",this.step=5),1E3>b&&(this.scale="second",
this.step=1),200>b&&(this.scale="millisecond",this.step=200),100>b&&(this.scale="millisecond",this.step=100),50>b&&(this.scale="millisecond",this.step=50),10>b&&(this.scale="millisecond",this.step=10),5>b&&(this.scale="millisecond",this.step=5),1>b&&(this.scale="millisecond",this.step=1))};a.prototype.snap=function(b){b=new Date(b.valueOf());if("year"==this.scale){var a=b.getFullYear()+Math.round(b.getMonth()/12);b.setFullYear(Math.round(a/this.step)*this.step);b.setMonth(0);b.setDate(0);b.setHours(0);
b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0)}else if("month"==this.scale)15<b.getDate()?(b.setDate(1),b.setMonth(b.getMonth()+1)):b.setDate(1),b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0);else if("day"==this.scale){switch(this.step){case 5:case 2:b.setHours(24*Math.round(b.getHours()/24));break;default:b.setHours(12*Math.round(b.getHours()/12))}b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0)}else if("weekday"==this.scale){switch(this.step){case 5:case 2:b.setHours(12*
Math.round(b.getHours()/12));break;default:b.setHours(6*Math.round(b.getHours()/6))}b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0)}else if("hour"==this.scale){switch(this.step){case 4:b.setMinutes(60*Math.round(b.getMinutes()/60));break;default:b.setMinutes(30*Math.round(b.getMinutes()/30))}b.setSeconds(0);b.setMilliseconds(0)}else if("minute"==this.scale){switch(this.step){case 15:case 10:b.setMinutes(5*Math.round(b.getMinutes()/5));b.setSeconds(0);break;case 5:b.setSeconds(60*Math.round(b.getSeconds()/
60));break;default:b.setSeconds(30*Math.round(b.getSeconds()/30))}b.setMilliseconds(0)}else if("second"==this.scale)switch(this.step){case 15:case 10:b.setSeconds(5*Math.round(b.getSeconds()/5));b.setMilliseconds(0);break;case 5:b.setMilliseconds(1E3*Math.round(b.getMilliseconds()/1E3));break;default:b.setMilliseconds(500*Math.round(b.getMilliseconds()/500))}else"millisecond"==this.scale&&(a=5<this.step?this.step/2:1,b.setMilliseconds(Math.round(b.getMilliseconds()/a)*a));return b};a.prototype.isMajor=
function(){if(1==this.switchedYear)switch(this.switchedYear=!1,this.scale){case "year":case "month":case "weekday":case "day":case "hour":case "minute":case "second":case "millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.switchedMonth=!1,this.scale){case "weekday":case "day":case "hour":case "minute":case "second":case "millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.switchedDay=!1,this.scale){case "millisecond":case "second":case "minute":case "hour":return!0;
default:return!1}switch(this.scale){case "millisecond":return 0==this.current.getMilliseconds();case "second":return 0==this.current.getSeconds();case "minute":return 0==this.current.getHours()&&0==this.current.getMinutes();case "hour":return 0==this.current.getHours();case "weekday":case "day":return 1==this.current.getDate();case "month":return 0==this.current.getMonth();case "year":return!1;default:return!1}};a.prototype.getLabelMinor=function(b){void 0==b&&(b=this.current);var a=this.format.minorLabels[this.scale];
return a&&0<a.length?d(b).format(a):""};a.prototype.getLabelMajor=function(b){void 0==b&&(b=this.current);var a=this.format.majorLabels[this.scale];return a&&0<a.length?d(b).format(a):""};a.prototype.getClassName=function(){function b(a){return 0==a/h%2?" even":" odd"}function a(b){return b.isSame(new Date,"day")?" today":b.isSame(d().add(1,"day"),"day")?" tomorrow":b.isSame(d().add(-1,"day"),"day")?" yesterday":""}function c(b){return b.isSame(new Date,"month")?" current-month":""}var k=d(this.current),
k=k.locale?k.locale("en"):k.lang("en"),h=this.step;switch(this.scale){case "millisecond":return b(k.milliseconds()).trim();case "second":return b(k.seconds()).trim();case "minute":return b(k.minutes()).trim();case "hour":var n=k.hours();4==this.step&&(n=n+"-"+(n+4));return n+"h"+a(k)+b(k.hours());case "weekday":return k.format("dddd").toLowerCase()+a(k)+(k.isSame(new Date,"week")?" current-week":"")+b(k.date());case "day":var n=k.date(),p=k.format("MMMM").toLowerCase();return"day"+n+" "+p+c(k)+b(n-
1);case "month":return k.format("MMMM").toLowerCase()+c(k)+b(k.month());case "year":return n=k.year(),"year"+n+(k.isSame(new Date,"year")?" current-year":"")+b(n);default:return""}};q.exports=a},function(q,g,m){function a(a,c){this.props=this.options=null}a.prototype.setOptions=function(a){a&&util.extend(this.options,a)};a.prototype.redraw=function(){return!1};a.prototype.destroy=function(){};a.prototype._isResized=function(){var a=this.props._previousWidth!==this.props.width||this.props._previousHeight!==
this.props.height;this.props._previousWidth=this.props.width;this.props._previousHeight=this.props.height;return a};q.exports=a},function(q,g,m){function a(a,c){this.body=a;this.defaultOptions={showCurrentTime:!0,locales:b,locale:"en"};this.options=d.extend({},this.defaultOptions);this.offset=0;this._create();this.setOptions(c)}var d=m(1);g=m(20);var c=m(44),b=m(48);a.prototype=new g;a.prototype._create=function(){var b=document.createElement("div");b.className="currenttime";b.style.position="absolute";
b.style.top="0px";b.style.height="100%";this.bar=b};a.prototype.destroy=function(){this.options.showCurrentTime=!1;this.redraw();this.body=null};a.prototype.setOptions=function(b){b&&d.selectiveExtend(["showCurrentTime","locale","locales"],this.options,b)};a.prototype.redraw=function(){if(this.options.showCurrentTime){var b=this.body.dom.backgroundVertical;this.bar.parentNode!=b&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),b.appendChild(this.bar),this.start());var a=new Date((new Date).valueOf()+
this.offset),b=this.body.util.toScreen(a),d=this.options.locales[this.options.locale],a=d.current+" "+d.time+": "+c(a).format("dddd, MMMM Do YYYY, H:mm:ss"),a=a.charAt(0).toUpperCase()+a.substring(1);this.bar.style.left=b+"px";this.bar.title=a}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1};a.prototype.start=function(){function b(){a.stop();var c=1/a.body.range.conversion(a.body.domProps.center.width).scale/10;30>c&&(c=30);1E3<c&&(c=1E3);a.redraw();a.currentTimeTimer=
setTimeout(b,c)}var a=this;b()};a.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)};a.prototype.setCurrentTime=function(b){this.offset=d.convert(b,"Date").valueOf()-(new Date).valueOf();this.redraw()};a.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)};q.exports=a},function(q,g,m){function a(b,a){this.body=b;this.defaultOptions={showCustomTime:!1,locales:e,locale:"en"};this.options=c.extend({},
this.defaultOptions);this.customTime=new Date;this.eventParams={};this._create();this.setOptions(a)}var d=m(45),c=m(1);g=m(20);var b=m(44),e=m(48);a.prototype=new g;a.prototype.setOptions=function(b){b&&c.selectiveExtend(["showCustomTime","locale","locales"],this.options,b)};a.prototype._create=function(){var b=document.createElement("div");b.className="customtime";b.style.position="absolute";b.style.top="0px";b.style.height="100%";this.bar=b;var a=document.createElement("div");a.style.position="relative";
a.style.top="0px";a.style.left="-10px";a.style.height="100%";a.style.width="20px";b.appendChild(a);this.hammer=d(b,{prevent_default:!0});this.hammer.on("dragstart",this._onDragStart.bind(this));this.hammer.on("drag",this._onDrag.bind(this));this.hammer.on("dragend",this._onDragEnd.bind(this))};a.prototype.destroy=function(){this.options.showCustomTime=!1;this.redraw();this.hammer.enable(!1);this.body=this.hammer=null};a.prototype.redraw=function(){if(this.options.showCustomTime){var a=this.body.dom.backgroundVertical;
this.bar.parentNode!=a&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),a.appendChild(this.bar));var a=this.body.util.toScreen(this.customTime),c=this.options.locales[this.options.locale].time+": "+b(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss"),c=c.charAt(0).toUpperCase()+c.substring(1);this.bar.style.left=a+"px";this.bar.title=c}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar);return!1};a.prototype.setCustomTime=function(b){this.customTime=c.convert(b,
"Date");this.redraw()};a.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())};a.prototype._onDragStart=function(b){this.eventParams.dragging=!0;this.eventParams.customTime=this.customTime;b.stopPropagation();b.preventDefault()};a.prototype._onDrag=function(b){if(this.eventParams.dragging){var a=b.gesture.deltaX,a=this.body.util.toScreen(this.eventParams.customTime)+a,a=this.body.util.toTime(a);this.setCustomTime(a);this.body.emitter.emit("timechange",{time:new Date(this.customTime.valueOf())});
b.stopPropagation();b.preventDefault()}};a.prototype._onDragEnd=function(b){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{time:new Date(this.customTime.valueOf())}),b.stopPropagation(),b.preventDefault())};q.exports=a},function(q,g,m){function a(b,a,c,k){this.id=d.randomUUID();this.body=b;this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!0,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,
alignZeros:!0,customRange:{left:{min:void 0,max:void 0},right:{min:void 0,max:void 0}},title:{left:{text:void 0},right:{text:void 0}},format:{left:{decimals:void 0},right:{decimals:void 0}}};this.linegraphOptions=k;this.linegraphSVG=c;this.props={};this.DOMelements={lines:{},labels:{},title:{}};this.dom={};this.range={start:0,end:0};this.options=d.extend({},this.defaultOptions);this.conversionFactor=1;this.setOptions(a);this.minWidth=this.width=Number((""+this.options.width).replace("px",""));this.height=
this.linegraphSVG.offsetHeight;this.hidden=!1;this.stepPixelsForced=this.stepPixels=25;this.zeroCrossing=-1;this.lineOffset=0;this.master=!0;this.svgElements={};this.iconsRemoved=!1;this.groups={};this.amountOfGroups=0;this._create();var h=this;this.body.emitter.on("verticalDrag",function(){h.dom.lineContainer.style.top=h.body.domProps.scrollTop+"px"})}var d=m(1),c=m(2);g=m(20);var b=m(16);a.prototype=new g;a.prototype.addGroup=function(b,a){this.groups.hasOwnProperty(b)||(this.groups[b]=a);this.amountOfGroups+=
1};a.prototype.updateGroup=function(b,a){this.groups[b]=a};a.prototype.removeGroup=function(b){this.groups.hasOwnProperty(b)&&(delete this.groups[b],--this.amountOfGroups)};a.prototype.setOptions=function(b){if(b){var a=!1;this.options.orientation!=b.orientation&&void 0!==b.orientation&&(a=!0);d.selectiveExtend("orientation showMinorLabels showMajorLabels icons majorLinesOffset minorLinesOffset labelOffsetX labelOffsetY iconWidth width visible customRange title format alignZeros".split(" "),this.options,
b);this.minWidth=Number((""+this.options.width).replace("px",""));1==a&&this.dom.frame&&(this.hide(),this.show())}};a.prototype._create=function(){this.dom.frame=document.createElement("div");this.dom.frame.style.width=this.options.width;this.dom.frame.style.height=this.height;this.dom.lineContainer=document.createElement("div");this.dom.lineContainer.style.width="100%";this.dom.lineContainer.style.height=this.height;this.dom.lineContainer.style.position="relative";this.svg=document.createElementNS("http://www.w3.org/2000/svg",
"svg");this.svg.style.position="absolute";this.svg.style.top="0px";this.svg.style.height="100%";this.svg.style.width="100%";this.svg.style.display="block";this.dom.frame.appendChild(this.svg)};a.prototype._redrawGroupIcons=function(){c.prepareElements(this.svgElements);var b,a=this.options.iconWidth,d=11.5;b="left"==this.options.orientation?4:this.width-a-4;for(var k in this.groups)!this.groups.hasOwnProperty(k)||1!=this.groups[k].visible||void 0!==this.linegraphOptions.visibility[k]&&1!=this.linegraphOptions.visibility[k]||
(this.groups[k].drawIcon(b,d,this.svgElements,this.svg,a,15),d+=19);c.cleanupElements(this.svgElements);this.iconsRemoved=!1};a.prototype._cleanupIcons=function(){0==this.iconsRemoved&&(c.prepareElements(this.svgElements),c.cleanupElements(this.svgElements),this.iconsRemoved=!0)};a.prototype.show=function(){this.hidden=!1;this.dom.frame.parentNode||("left"==this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame));this.dom.lineContainer.parentNode||
this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)};a.prototype.hide=function(){this.hidden=!0;this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame);this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)};a.prototype.setRange=function(b,a){0==this.master&&1==this.options.alignZeros&&-1!=this.zeroCrossing&&0<b&&(b=0);this.range.start=b;this.range.end=a};a.prototype.redraw=function(){var b=!1,a=0;this.dom.lineContainer.style.top=
this.body.domProps.scrollTop+"px";for(var c in this.groups)this.groups.hasOwnProperty(c)&&(1!=this.groups[c].visible||void 0!==this.linegraphOptions.visibility[c]&&1!=this.linegraphOptions.visibility[c]||a++);if(0==this.amountOfGroups||0==a)this.hide();else{this.show();this.height=Number(this.linegraphSVG.style.height.replace("px",""));this.dom.lineContainer.style.height=this.height+"px";this.width=1==this.options.visible?Number((""+this.options.width).replace("px","")):0;b=this.props;c=this.dom.frame;
c.className="dataaxis";this._calculateCharSize();var a=this.options.orientation,d=this.options.showMajorLabels;b.minorLabelHeight=this.options.showMinorLabels?b.minorCharHeight:0;b.majorLabelHeight=d?b.majorCharHeight:0;b.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset;b.minorLineHeight=1;b.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset;b.majorLineHeight=
1;"left"==a?(c.style.top="0",c.style.left="0",c.style.bottom="",c.style.width=this.width+"px",c.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(c.style.top="",c.style.bottom="0",c.style.left="0",c.style.width=this.width+"px",c.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height);b=this._redrawLabels();b=this._isResized()||b;1==this.options.icons?
this._redrawGroupIcons():this._cleanupIcons();this._redrawTitle(a)}return b};a.prototype._redrawLabels=function(){var a=!1;c.prepareElements(this.DOMelements.lines);c.prepareElements(this.DOMelements.labels);var a=this.options.orientation,d=new b(this.range.start,this.range.end,this.master?this.props.majorCharHeight||10:this.stepPixelsForced,this.dom.frame.offsetHeight,this.options.customRange[this.options.orientation],0==this.master&&this.options.alignZeros);this.step=d;var l=(this.dom.frame.offsetHeight-
this.dom.frame.offsetHeight/d.marginRange*d.deadSpace)/((d.marginRange-d.deadSpace)/d.step);this.stepPixels=l;var k=this.height/l,h=0;if(0==this.master){for(var l=this.stepPixelsForced,h=Math.round(this.dom.frame.offsetHeight/l-k),n=0;n<.5*h;n++)d.previous();k=this.height/l;if(-1!=this.zeroCrossing&&1==this.options.alignZeros)if(h=d.marginEnd/d.step-this.zeroCrossing,0<h)for(n=0;n<h;n++)d.next();else if(0>h)for(n=0;n<-h;n++)d.previous()}else k+=.25;this.valueAtZero=d.marginEnd;var n=1,p;void 0!==
this.options.format[a]&&(p=this.options.format[a].decimals);for(h=this.maxLabelSize=0;n<Math.round(k);){d.next();var h=Math.round(n*l),g=d.isMajor();(this.options.showMinorLabels&&0==g||0==this.master&&1==this.options.showMinorLabels)&&this._redrawLabel(h-2,d.getCurrent(p),a,"yAxis minor",this.props.minorCharHeight);g&&this.options.showMajorLabels&&1==this.master||0==this.options.showMinorLabels&&0==this.master&&1==g?(0<=h&&this._redrawLabel(h-2,d.getCurrent(p),a,"yAxis major",this.props.majorCharHeight),
this._redrawLine(h,a,"grid horizontal major",this.options.majorLinesOffset,this.props.majorLineWidth)):this._redrawLine(h,a,"grid horizontal minor",this.options.minorLinesOffset,this.props.minorLineWidth);1==this.master&&0==d.current&&(this.zeroCrossing=n);n++}this.conversionFactor=0==this.master?h/(this.valueAtZero-d.current):this.dom.frame.offsetHeight/d.marginRange;p=0;void 0!==this.options.title[a]&&void 0!==this.options.title[a].text&&(p=this.props.titleCharHeight);a=1==this.options.icons?Math.max(this.options.iconWidth,
p)+this.options.labelOffsetX+15:p+this.options.labelOffsetX+15;this.maxLabelSize>this.width-a&&1==this.options.visible?(this.width=this.maxLabelSize+a,this.options.width=this.width+"px",c.cleanupElements(this.DOMelements.lines),c.cleanupElements(this.DOMelements.labels),this.redraw(),a=!0):this.maxLabelSize<this.width-a&&1==this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+a),this.options.width=this.width+"px",c.cleanupElements(this.DOMelements.lines),
c.cleanupElements(this.DOMelements.labels),this.redraw(),a=!0):(c.cleanupElements(this.DOMelements.lines),c.cleanupElements(this.DOMelements.labels),a=!1);return a};a.prototype.convertValue=function(b){return(this.valueAtZero-b)*this.conversionFactor};a.prototype._redrawLabel=function(b,a,d,k,h){var n=c.getDOMElement("div",this.DOMelements.labels,this.dom.frame);n.className=k;n.innerHTML=a;"left"==d?(n.style.left="-"+this.options.labelOffsetX+"px",n.style.textAlign="right"):(n.style.right="-"+this.options.labelOffsetX+
"px",n.style.textAlign="left");n.style.top=b-.5*h+this.options.labelOffsetY+"px";a+="";b=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<a.length*b&&(this.maxLabelSize=a.length*b)};a.prototype._redrawLine=function(b,a,d,k,h){if(1==this.master){var n=c.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);n.className=d;n.innerHTML="";"left"==a?n.style.left=this.width-k+"px":n.style.right=this.width-k+"px";n.style.width=h+"px";n.style.top=b+"px"}};a.prototype._redrawTitle=
function(b){c.prepareElements(this.DOMelements.title);if(void 0!==this.options.title[b]&&void 0!==this.options.title[b].text){var a=c.getDOMElement("div",this.DOMelements.title,this.dom.frame);a.className="yAxis title "+b;a.innerHTML=this.options.title[b].text;void 0!==this.options.title[b].style&&d.addCssText(a,this.options.title[b].style);"left"==b?a.style.left=this.props.titleCharHeight+"px":a.style.right=this.props.titleCharHeight+"px";a.style.width=this.height+"px"}c.cleanupElements(this.DOMelements.title)};
a.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var b=document.createTextNode("0"),a=document.createElement("div");a.className="yAxis minor measure";a.appendChild(b);this.dom.frame.appendChild(a);this.props.minorCharHeight=a.clientHeight;this.props.minorCharWidth=a.clientWidth;this.dom.frame.removeChild(a)}"majorCharHeight"in this.props||(b=document.createTextNode("0"),a=document.createElement("div"),a.className="yAxis major measure",a.appendChild(b),this.dom.frame.appendChild(a),
this.props.majorCharHeight=a.clientHeight,this.props.majorCharWidth=a.clientWidth,this.dom.frame.removeChild(a));"titleCharHeight"in this.props||(b=document.createTextNode("0"),a=document.createElement("div"),a.className="yAxis title measure",a.appendChild(b),this.dom.frame.appendChild(a),this.props.titleCharHeight=a.clientHeight,this.props.titleCharWidth=a.clientWidth,this.dom.frame.removeChild(a))};a.prototype.snap=function(b){return this.step.snap(b)};q.exports=a},function(q,g,m){function a(b,
a,c,e){this.id=a;this.options=d.selectiveBridgeObject("sampling style sort yAxisOrientation barChart drawPoints shaded catmullRom".split(" "),c);this.usingDefaultStyle=void 0===b.className;this.groupsUsingDefaultStyles=e;this.zeroPosition=0;this.update(b);1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1);this.itemsData=[];this.visible=void 0===b.visible?!0:b.visible}var d=m(1),c=m(2),b=m(51),e=m(52),f=m(53);a.prototype.setItems=function(b){null!=b?(this.itemsData=b,1==this.options.sort&&
this.itemsData.sort(function(b,a){return b.x-a.x})):this.itemsData=[]};a.prototype.setZeroPosition=function(b){this.zeroPosition=b};a.prototype.setOptions=function(a){void 0!==a&&(d.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart"],this.options,a),d.mergeOptions(this.options,a,"catmullRom"),d.mergeOptions(this.options,a,"drawPoints"),d.mergeOptions(this.options,a,"shaded"),a.catmullRom&&"object"==typeof a.catmullRom&&a.catmullRom.parametrization&&("uniform"==a.catmullRom.parametrization?
this.options.catmullRom.alpha=0:"chordal"==a.catmullRom.parametrization?this.options.catmullRom.alpha=1:(this.options.catmullRom.parametrization="centripetal",this.options.catmullRom.alpha=.5)));"line"==this.options.style?this.type=new b(this.id,this.options):"bar"==this.options.style?this.type=new e(this.id,this.options):"points"==this.options.style&&(this.type=new f(this.id,this.options))};a.prototype.update=function(b){this.group=b;this.content=b.content||"graph";this.className=b.className||this.className||
"graphGroup"+this.groupsUsingDefaultStyles[0]%10;this.visible=void 0===b.visible?!0:b.visible;this.style=b.style;this.setOptions(b.options)};a.prototype.drawIcon=function(b,a,d,e,f,g){var u=.5*g,v;v=c.getSVGElement("rect",d,e);v.setAttributeNS(null,"x",b);v.setAttributeNS(null,"y",a-u);v.setAttributeNS(null,"width",f);v.setAttributeNS(null,"height",2*u);v.setAttributeNS(null,"class","outline");if("line"==this.options.style)v=c.getSVGElement("path",d,e),v.setAttributeNS(null,"class",this.className),
void 0!==this.style&&v.setAttributeNS(null,"style",this.style),v.setAttributeNS(null,"d","M"+b+","+a+" L"+(b+f)+","+a+""),1==this.options.shaded.enabled&&(v=c.getSVGElement("path",d,e),"top"==this.options.shaded.orientation?v.setAttributeNS(null,"d","M"+b+", "+(a-u)+"L"+b+","+a+" L"+(b+f)+","+a+" L"+(b+f)+","+(a-u)):v.setAttributeNS(null,"d","M"+b+","+a+" L"+b+","+(a+u)+" L"+(b+f)+","+(a+u)+"L"+(b+f)+","+a),v.setAttributeNS(null,"class",this.className+" iconFill")),1==this.options.drawPoints.enabled&&
c.drawPoint(b+.5*f,a,this,d,e);else{v=Math.round(.3*f);var m=Math.round(.4*g);g=Math.round(.75*g);f=Math.round((f-2*v)/3);c.drawBar(b+.5*v+f,a+u-m-1,v,m,this.className+" bar",d,e);c.drawBar(b+1.5*v+f+2,a+u-g-1,v,g,this.className+" bar",d,e)}};a.prototype.getLegend=function(b,a){var c=document.createElementNS("http://www.w3.org/2000/svg","svg");this.drawIcon(0,.5*a,[],c,b,a);return{icon:c,label:this.content,orientation:this.options.yAxisOrientation}};a.prototype.getYRange=function(b){return this.type.getYRange(b)};
a.prototype.draw=function(b,a,c){this.type.draw(b,a,c)};q.exports=a},function(q,g,m){function a(b,a,c){this.groupId=b;this.subgroups={};this.subgroupIndex=0;this.subgroupOrderer=a&&a.subgroupOrder;this.itemSet=c;this.dom={};this.props={label:{width:0,height:0}};this.className=null;this.items={};this.visibleItems=[];this.orderedItems={byStart:[],byEnd:[]};this.checkRangedItems=!1;var d=this;this.itemSet.body.emitter.on("checkRangedItems",function(){d.checkRangedItems=!0});this._create();this.setData(a)}
var d=m(1),c=m(18);m(35);a.prototype._create=function(){var b=document.createElement("div");b.className="vlabel";this.dom.label=b;var a=document.createElement("div");a.className="inner";b.appendChild(a);this.dom.inner=a;b=document.createElement("div");b.className="group";b["timeline-group"]=this;this.dom.foreground=b;this.dom.background=document.createElement("div");this.dom.background.className="group";this.dom.axis=document.createElement("div");this.dom.axis.className="group";this.dom.marker=document.createElement("div");
this.dom.marker.style.visibility="hidden";this.dom.marker.innerHTML="?";this.dom.background.appendChild(this.dom.marker)};a.prototype.setData=function(b){var a=b&&b.content;a instanceof Element?this.dom.inner.appendChild(a):this.dom.inner.innerHTML=void 0!==a&&null!==a?a:this.groupId||"";this.dom.label.title=b&&b.title||"";this.dom.inner.firstChild?d.removeClassName(this.dom.inner,"hidden"):d.addClassName(this.dom.inner,"hidden");a=b&&b.className||null;a!=this.className&&(this.className&&(d.removeClassName(this.dom.label,
this.className),d.removeClassName(this.dom.foreground,this.className),d.removeClassName(this.dom.background,this.className),d.removeClassName(this.dom.axis,this.className)),d.addClassName(this.dom.label,a),d.addClassName(this.dom.foreground,a),d.addClassName(this.dom.background,a),d.addClassName(this.dom.axis,a),this.className=a);this.style&&(d.removeCssText(this.dom.label,this.style),this.style=null);b&&b.style&&(d.addCssText(this.dom.label,b.style),this.style=b.style)};a.prototype.getLabelWidth=
function(){return this.props.label.width};a.prototype.redraw=function(b,a,f){var l=!1;this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,b);b=this.dom.marker.clientHeight;b!=this.lastMarkerHeight&&(this.lastMarkerHeight=b,d.forEach(this.items,function(b){b.dirty=!0;b.displayed&&b.redraw()}),f=!0);this.itemSet.options.stack?c.stack(this.visibleItems,a,f):c.nostack(this.visibleItems,a,this.subgroups);f=this._calculateHeight(a);b=this.dom.foreground;this.top=b.offsetTop;this.left=
b.offsetLeft;this.width=b.offsetWidth;l=d.updateProperty(this,"height",f)||l;l=d.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||l;l=d.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||l;this.dom.background.style.height=f+"px";this.dom.foreground.style.height=f+"px";this.dom.label.style.height=f+"px";f=0;for(b=this.visibleItems.length;f<b;f++)this.visibleItems[f].repositionY(a);return l};a.prototype._calculateHeight=function(b){var a=this.visibleItems;this.resetSubgroups();
var c=this;if(a.length){var l=a[0].top,k=a[0].top+a[0].height;d.forEach(a,function(b){l=Math.min(l,b.top);k=Math.max(k,b.top+b.height);void 0!==b.data.subgroup&&(c.subgroups[b.data.subgroup].height=Math.max(c.subgroups[b.data.subgroup].height,b.height),c.subgroups[b.data.subgroup].visible=!0)});if(l>b.axis){var h=l-b.axis,k=k-h;d.forEach(a,function(b){b.top-=h})}b=k+b.item.vertical/2}else b=b.axis+b.item.vertical;return b=Math.max(b,this.props.label.height)};a.prototype.show=function(){this.dom.label.parentNode||
this.itemSet.dom.labelSet.appendChild(this.dom.label);this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground);this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background);this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)};a.prototype.hide=function(){var b=this.dom.label;b.parentNode&&b.parentNode.removeChild(b);b=this.dom.foreground;b.parentNode&&b.parentNode.removeChild(b);b=this.dom.background;b.parentNode&&
b.parentNode.removeChild(b);b=this.dom.axis;b.parentNode&&b.parentNode.removeChild(b)};a.prototype.add=function(b){this.items[b.id]=b;b.setParent(this);void 0!==b.data.subgroup&&(void 0===this.subgroups[b.data.subgroup]&&(this.subgroups[b.data.subgroup]={height:0,visible:!1,index:this.subgroupIndex,items:[]},this.subgroupIndex++),this.subgroups[b.data.subgroup].items.push(b));this.orderSubgroups();-1==this.visibleItems.indexOf(b)&&this._checkIfVisible(b,this.visibleItems,this.itemSet.body.range)};
a.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var b=[];if("string"==typeof this.subgroupOrderer){for(var a in this.subgroups)b.push({subgroup:a,sortField:this.subgroups[a].items[0].data[this.subgroupOrderer]});b.sort(function(b,a){return b.sortField-a.sortField})}else if("function"==typeof this.subgroupOrderer){for(a in this.subgroups)b.push(this.subgroups[a].items[0].data);b.sort(this.subgroupOrderer)}if(0<b.length)for(a=0;a<b.length;a++)this.subgroups[b[a].subgroup].index=
a}};a.prototype.resetSubgroups=function(){for(var b in this.subgroups)this.subgroups.hasOwnProperty(b)&&(this.subgroups[b].visible=!1)};a.prototype.remove=function(b){delete this.items[b.id];b.setParent(null);b=this.visibleItems.indexOf(b);-1!=b&&this.visibleItems.splice(b,1)};a.prototype.removeFromDataSet=function(b){this.itemSet.removeItem(b.id)};a.prototype.order=function(){for(var b=d.toArray(this.items),a=[],f=[],l=0;l<b.length;l++)void 0!==b[l].data.end&&f.push(b[l]),a.push(b[l]);this.orderedItems=
{byStart:a,byEnd:f};c.orderByStart(this.orderedItems.byStart);c.orderByEnd(this.orderedItems.byEnd)};a.prototype._updateVisibleItems=function(b,a,c){var l=[],k={},h=(c.end-c.start)/4,n=c.start-h,p=c.end+h,g=function(b){return b<n?-1:b<=p?0:1};if(0<a.length)for(h=0;h<a.length;h++)this._checkIfVisibleWithReference(a[h],l,k,c);a=d.binarySearchCustom(b.byStart,g,"data","start");this._traceVisible(a,b.byStart,l,k,function(b){return b.data.start<n||b.data.start>p});if(1==this.checkRangedItems)for(this.checkRangedItems=
!1,h=0;h<b.byEnd.length;h++)this._checkIfVisibleWithReference(b.byEnd[h],l,k,c);else c=d.binarySearchCustom(b.byEnd,g,"data","end"),this._traceVisible(c,b.byEnd,l,k,function(b){return b.data.end<n||b.data.end>p});for(h=0;h<l.length;h++)b=l[h],b.displayed||b.show(),b.repositionX();return l};a.prototype._traceVisible=function(b,a,c,d,k){var h,n;if(-1!=b){for(n=b;0<=n&&(h=a[n],!k(h));n--)void 0===d[h.id]&&(d[h.id]=!0,c.push(h));for(n=b+1;n<a.length&&(h=a[n],!k(h));n++)void 0===d[h.id]&&(d[h.id]=!0,c.push(h))}};
a.prototype._checkIfVisible=function(b,a,c){b.isVisible(c)?(b.displayed||b.show(),b.repositionX(),a.push(b)):b.displayed&&b.hide()};a.prototype._checkIfVisibleWithReference=function(b,a,c,d){b.isVisible(d)?void 0===c[b.id]&&(c[b.id]=!0,a.push(b)):b.displayed&&b.hide()};q.exports=a},function(q,g,m){function a(a,b,e){d.call(this,a,b,e);this.left=this.top=this.height=this.width=0}m(1);var d=m(25);a.prototype=Object.create(d.prototype);a.prototype.redraw=function(a,b,d){this.visibleItems=this._updateVisibleItems(this.orderedItems,
this.visibleItems,a);this.width=this.dom.background.offsetWidth;this.dom.background.style.height="0";a=0;for(d=this.visibleItems.length;a<d;a++)this.visibleItems[a].repositionY(b);return!1};a.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)};q.exports=a},function(q,g,m){function a(b,a){this.body=b;this.defaultOptions={type:null,orientation:"bottom",align:"auto",stack:!0,groupOrder:null,selectable:!0,editable:{updateTime:!1,updateGroup:!1,
add:!1,remove:!1},onAdd:function(b,a){a(b)},onUpdate:function(b,a){a(b)},onMove:function(b,a){a(b)},onRemove:function(b,a){a(b)},onMoving:function(b,a){a(b)},margin:{item:{horizontal:10,vertical:10},axis:20},padding:5};this.options=c.extend({},this.defaultOptions);this.itemOptions={type:{start:"Date",end:"Date"}};this.conversion={toScreen:b.util.toScreen,toTime:b.util.toTime};this.dom={};this.props={};this.hammer=null;var d=this;this.groupsData=this.itemsData=null;this.itemListeners={add:function(b,
a,c){d._onAdd(a.items)},update:function(b,a,c){d._onUpdate(a.items)},remove:function(b,a,c){d._onRemove(a.items)}};this.groupListeners={add:function(b,a,c){d._onAddGroups(a.items)},update:function(b,a,c){d._onUpdateGroups(a.items)},remove:function(b,a,c){d._onRemoveGroups(a.items)}};this.items={};this.groups={};this.groupIds=[];this.selection=[];this.stackDirty=!0;this.touchParams={};this._create();this.setOptions(a)}var d=m(45),c=m(1),b=m(3),e=m(4);g=m(20);var f=m(25),l=m(26),k=m(33),h=m(34),n=m(35);
m=m(32);a.prototype=new g;a.types={background:m,box:k,range:n,point:h};a.prototype._create=function(){var b=document.createElement("div");b.className="itemset";b["timeline-itemset"]=this;this.dom.frame=b;var a=document.createElement("div");a.className="background";b.appendChild(a);this.dom.background=a;a=document.createElement("div");a.className="foreground";b.appendChild(a);this.dom.foreground=a;b=document.createElement("div");b.className="axis";this.dom.axis=b;b=document.createElement("div");b.className=
"labelset";this.dom.labelSet=b;this._updateUngrouped();b=new l("__background__",null,this);b.show();this.groups.__background__=b;this.hammer=d(this.body.dom.centerContainer,{preventDefault:!0});this.hammer.on("touch",this._onTouch.bind(this));this.hammer.on("dragstart",this._onDragStart.bind(this));this.hammer.on("drag",this._onDrag.bind(this));this.hammer.on("dragend",this._onDragEnd.bind(this));this.hammer.on("tap",this._onSelectItem.bind(this));this.hammer.on("hold",this._onMultiSelectItem.bind(this));
this.hammer.on("doubletap",this._onAddItem.bind(this));this.show()};a.prototype.setOptions=function(b){if(b){c.selectiveExtend("type align orientation padding stack selectable groupOrder dataAttributes template hide".split(" "),this.options,b);"margin"in b&&("number"===typeof b.margin?(this.options.margin.axis=b.margin,this.options.margin.item.horizontal=b.margin,this.options.margin.item.vertical=b.margin):"object"===typeof b.margin&&(c.selectiveExtend(["axis"],this.options.margin,b.margin),"item"in
b.margin&&("number"===typeof b.margin.item?(this.options.margin.item.horizontal=b.margin.item,this.options.margin.item.vertical=b.margin.item):"object"===typeof b.margin.item&&c.selectiveExtend(["horizontal","vertical"],this.options.margin.item,b.margin.item))));"editable"in b&&("boolean"===typeof b.editable?(this.options.editable.updateTime=b.editable,this.options.editable.updateGroup=b.editable,this.options.editable.add=b.editable,this.options.editable.remove=b.editable):"object"===typeof b.editable&&
c.selectiveExtend(["updateTime","updateGroup","add","remove"],this.options.editable,b.editable));var a=function(a){var c=b[a];if(c){if(!(c instanceof Function))throw Error("option "+a+" must be a function "+a+"(item, callback)");this.options[a]=c}}.bind(this);["onAdd","onUpdate","onRemove","onMove","onMoving"].forEach(a);this.markDirty()}};a.prototype.markDirty=function(){this.groupIds=[];this.stackDirty=!0};a.prototype.destroy=function(){this.hide();this.setItems(null);this.setGroups(null);this.conversion=
this.body=this.hammer=null};a.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame);this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis);this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)};a.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame);this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis);this.dom.labelSet.parentNode||
this.body.dom.left.appendChild(this.dom.labelSet)};a.prototype.setSelection=function(b){var a,c,d,e;void 0==b&&(b=[]);Array.isArray(b)||(b=[b]);a=0;for(c=this.selection.length;a<c;a++)d=this.selection[a],(e=this.items[d])&&e.unselect();this.selection=[];a=0;for(c=b.length;a<c;a++)if(d=b[a],e=this.items[d])this.selection.push(d),e.select()};a.prototype.getSelection=function(){return this.selection.concat([])};a.prototype.getVisibleItems=function(){var b=this.body.range.getRange(),a=this.body.util.toScreen(b.start),
b=this.body.util.toScreen(b.end),c=[],d;for(d in this.groups)if(this.groups.hasOwnProperty(d))for(var e=this.groups[d].visibleItems,f=0;f<e.length;f++){var h=e[f];h.left<b&&h.left+h.width>a&&c.push(h.id)}return c};a.prototype._deselect=function(b){for(var a=this.selection,c=0,d=a.length;c<d;c++)if(a[c]==b){a.splice(c,1);break}};a.prototype.redraw=function(){var b=this.options.margin,a=this.body.range,d=c.option.asSize,e=this.options,f=e.orientation,h=!1,l=this.dom.frame,e=e.editable.updateTime||e.editable.updateGroup;
this.props.top=this.body.domProps.top.height+this.body.domProps.border.top;this.props.left=this.body.domProps.left.width+this.body.domProps.border.left;l.className="itemset"+(e?" editable":"");h=this._orderGroups()||h;e=a.end-a.start;if(e!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth)this.stackDirty=!0;this.lastVisibleInterval=e;this.props.lastWidth=this.props.width;var n=this.stackDirty,k=this._firstGroup(),g={item:b.item,axis:b.axis},m={item:b.item,axis:b.item.vertical/2},q=
0,b=b.axis+b.item.vertical;this.groups.__background__.redraw(a,m,n);c.forEach(this.groups,function(b){h=b.redraw(a,b==k?g:m,n)||h;q+=b.height});q=Math.max(q,b);this.stackDirty=!1;l.style.height=d(q);this.props.width=l.offsetWidth;this.props.height=q;this.dom.axis.style.top=d("top"==f?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height);this.dom.axis.style.left="0";return h=this._isResized()||h};a.prototype._firstGroup=
function(){return this.groups[this.groupIds["top"==this.options.orientation?0:this.groupIds.length-1]]||this.groups.__ungrouped__||null};a.prototype._updateUngrouped=function(){var b=this.groups.__ungrouped__,a,c;if(this.groupsData){if(b)for(c in b.hide(),delete this.groups.__ungrouped__,this.items)this.items.hasOwnProperty(c)&&(a=this.items[c],a.parent&&a.parent.remove(a),b=this._getGroupId(a.data),(b=this.groups[b])&&b.add(a)||a.hide())}else if(!b){b=new f(null,null,this);this.groups.__ungrouped__=
b;for(c in this.items)this.items.hasOwnProperty(c)&&(a=this.items[c],b.add(a));b.show()}};a.prototype.getLabelSet=function(){return this.dom.labelSet};a.prototype.setItems=function(a){var d=this,f=this.itemsData;if(a)if(a instanceof b||a instanceof e)this.itemsData=a;else throw new TypeError("Data must be an instance of DataSet or DataView");else this.itemsData=null;f&&(c.forEach(this.itemListeners,function(b,a){f.off(a,b)}),a=f.getIds(),this._onRemove(a));if(this.itemsData){var h=this.id;c.forEach(this.itemListeners,
function(b,a){d.itemsData.on(a,b,h)});a=this.itemsData.getIds();this._onAdd(a);this._updateUngrouped()}};a.prototype.getItems=function(){return this.itemsData};a.prototype.setGroups=function(a){var d=this,f;this.groupsData&&(c.forEach(this.groupListeners,function(b,a){d.groupsData.unsubscribe(a,b)}),f=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(f));if(a)if(a instanceof b||a instanceof e)this.groupsData=a;else throw new TypeError("Data must be an instance of DataSet or DataView");
else this.groupsData=null;if(this.groupsData){var h=this.id;c.forEach(this.groupListeners,function(b,a){d.groupsData.on(a,b,h)});f=this.groupsData.getIds();this._onAddGroups(f)}this._updateUngrouped();this._order();this.body.emitter.emit("change",{queue:!0})};a.prototype.getGroups=function(){return this.groupsData};a.prototype.removeItem=function(b){var a=this.itemsData.get(b),c=this.itemsData.getDataSet();if(a)this.options.onRemove(a,function(a){a&&c.remove(b)})};a.prototype._getType=function(b){return b.type||
this.options.type||(b.end?"range":"box")};a.prototype._getGroupId=function(b){return"background"==this._getType(b)&&void 0==b.group?"__background__":this.groupsData?b.group:"__ungrouped__"};a.prototype._onUpdate=function(b){var c=this;b.forEach(function(b){var d=c.itemsData.get(b,c.itemOptions),e=c.items[b],f=c._getType(d),h=a.types[f];e&&(h&&e instanceof h?c._updateItem(e,d):(c._removeItem(e),e=null));if(!e)if(h)e=new h(d,c.conversion,c.options),e.id=b,c._addItem(e);else{if("rangeoverflow"==f)throw new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis.timeline .item.range .content {overflow: visible;}');
throw new TypeError('Unknown item type "'+f+'"');}});this._order();this.stackDirty=!0;this.body.emitter.emit("change",{queue:!0})};a.prototype._onAdd=a.prototype._onUpdate;a.prototype._onRemove=function(b){var a=0,c=this;b.forEach(function(b){if(b=c.items[b])a++,c._removeItem(b)});a&&(this._order(),this.stackDirty=!0,this.body.emitter.emit("change",{queue:!0}))};a.prototype._order=function(){c.forEach(this.groups,function(b){b.order()})};a.prototype._onUpdateGroups=function(b){this._onAddGroups(b)};
a.prototype._onAddGroups=function(b){var a=this;b.forEach(function(b){var d=a.groupsData.get(b),e=a.groups[b];if(e)e.setData(d);else{if("__ungrouped__"==b||"__background__"==b)throw Error("Illegal group id. "+b+" is a reserved id.");e=Object.create(a.options);c.extend(e,{height:null});e=new f(b,d,a);a.groups[b]=e;for(var h in a.items)a.items.hasOwnProperty(h)&&(d=a.items[h],d.data.group==b&&e.add(d));e.order();e.show()}});this.body.emitter.emit("change",{queue:!0})};a.prototype._onRemoveGroups=function(b){var a=
this.groups;b.forEach(function(b){var c=a[b];c&&(c.hide(),delete a[b])});this.markDirty();this.body.emitter.emit("change",{queue:!0})};a.prototype._orderGroups=function(){if(this.groupsData){var b=this.groupsData.getIds({order:this.options.groupOrder}),a=!c.equalArray(b,this.groupIds);if(a){var d=this.groups;b.forEach(function(b){d[b].hide()});b.forEach(function(b){d[b].show()});this.groupIds=b}return a}return!1};a.prototype._addItem=function(b){this.items[b.id]=b;var a=this._getGroupId(b.data);(a=
this.groups[a])&&a.add(b)};a.prototype._updateItem=function(b,a){var c=b.data.group;b.setData(a);c!=b.data.group&&((c=this.groups[c])&&c.remove(b),c=this._getGroupId(b.data),(c=this.groups[c])&&c.add(b))};a.prototype._removeItem=function(b){b.hide();delete this.items[b.id];var a=this.selection.indexOf(b.id);-1!=a&&this.selection.splice(a,1);b.parent&&b.parent.remove(b)};a.prototype._constructByEndArray=function(b){for(var a=[],c=0;c<b.length;c++)b[c]instanceof n&&a.push(b[c]);return a};a.prototype._onTouch=
function(b){this.touchParams.item=a.itemFromTarget(b)};a.prototype._onDragStart=function(b){if(this.options.editable.updateTime||this.options.editable.updateGroup){var a=this.touchParams.item||null,c=this,d;if(a&&a.selected){d=b.target.dragLeftItem;var e=b.target.dragRightItem;d?(d={item:d,initialX:b.gesture.center.clientX},c.options.editable.updateTime&&(d.start=a.data.start.valueOf()),c.options.editable.updateGroup&&"group"in a.data&&(d.group=a.data.group),this.touchParams.itemProps=[d]):e?(d={item:e,
initialX:b.gesture.center.clientX},c.options.editable.updateTime&&(d.end=a.data.end.valueOf()),c.options.editable.updateGroup&&"group"in a.data&&(d.group=a.data.group),this.touchParams.itemProps=[d]):this.touchParams.itemProps=this.getSelection().map(function(a){a=c.items[a];var d={item:a,initialX:b.gesture.center.clientX};c.options.editable.updateTime&&("start"in a.data&&(d.start=a.data.start.valueOf()),"end"in a.data&&(d.end=a.data.end.valueOf()));c.options.editable.updateGroup&&"group"in a.data&&
(d.group=a.data.group);return d});b.stopPropagation()}}};a.prototype._onDrag=function(b){b.preventDefault();if(this.touchParams.itemProps){var d=this,e=this.body.util.snap||null,f=this.body.dom.root.offsetLeft+this.body.domProps.left.width;this.touchParams.itemProps.forEach(function(h){var l={},n=d.body.util.toTime(b.gesture.center.clientX-f),k=d.body.util.toTime(h.initialX-f),n=n-k;"start"in h&&(k=new Date(h.start+n),l.start=e?e(k):k);"end"in h&&(n=new Date(h.end+n),l.end=e?e(n):n);"group"in h&&
(n=a.groupFromTarget(b),l.group=n&&n.groupId);l=c.extend({},h.item.data,l);d.options.onMoving(l,function(b){b&&d._updateItemProps(h.item,b)})});this.stackDirty=!0;this.body.emitter.emit("change");b.stopPropagation()}};a.prototype._updateItemProps=function(b,a){"start"in a&&(b.data.start=a.start);"end"in a&&(b.data.end=a.end);"group"in a&&b.data.group!=a.group&&this._moveToGroup(b,a.group)};a.prototype._moveToGroup=function(b,a){var c=this.groups[a];if(c&&c.groupId!=b.data.group){var d=b.parent;d.remove(b);
d.order();c.add(b);c.order();b.data.group=c.groupId}};a.prototype._onDragEnd=function(b){b.preventDefault();if(this.touchParams.itemProps){var a=[],d=this,e=this.itemsData.getDataSet(),f=this.touchParams.itemProps;this.touchParams.itemProps=null;f.forEach(function(b){var f=b.item.id,h=d.itemsData.get(f,d.itemOptions),l=!1;"start"in b.item.data&&(l=b.start!=b.item.data.start.valueOf(),h.start=c.convert(b.item.data.start,e._options.type&&e._options.type.start||"Date"));"end"in b.item.data&&(l=l||b.end!=
b.item.data.end.valueOf(),h.end=c.convert(b.item.data.end,e._options.type&&e._options.type.end||"Date"));"group"in b.item.data&&(l=l||b.group!=b.item.data.group,h.group=b.item.data.group);if(l)d.options.onMove(h,function(c){c?(c[e._fieldId]=f,a.push(c)):(d._updateItemProps(b.item,b),d.stackDirty=!0,d.body.emitter.emit("change"))})});a.length&&e.update(a);b.stopPropagation()}};a.prototype._onSelectItem=function(b){if(this.options.selectable){var c=b.gesture.srcEvent&&b.gesture.srcEvent.shiftKey;b.gesture.srcEvent&&
b.gesture.srcEvent.ctrlKey||c?this._onMultiSelectItem(b):(c=this.getSelection(),b=a.itemFromTarget(b),this.setSelection(b?[b.id]:[]),b=this.getSelection(),(0<b.length||0<c.length)&&this.body.emitter.emit("select",{items:b}))}};a.prototype._onAddItem=function(b){if(this.options.selectable&&this.options.editable.add){var d=this,e=this.body.util.snap||null,f=a.itemFromTarget(b);if(f)b=d.itemsData.get(f.id),this.options.onUpdate(b,function(b){b&&d.itemsData.getDataSet().update(b)});else{var f=c.getAbsoluteLeft(this.dom.frame),
h=b.gesture.center.pageX-f,f=this.body.util.toTime(h),f={start:e?e(f):f,content:"new item"};"range"===this.options.type&&(h=this.body.util.toTime(h+this.props.width/5),f.end=e?e(h):h);f[this.itemsData._fieldId]=c.randomUUID();if(b=a.groupFromTarget(b))f.group=b.groupId;this.options.onAdd(f,function(b){b&&d.itemsData.getDataSet().add(b)})}}};a.prototype._onMultiSelectItem=function(b){if(this.options.selectable){var c,d=a.itemFromTarget(b);if(d){c=this.getSelection();if(b.gesture.touches[0]&&b.gesture.touches[0].shiftKey){c.push(d.id);
d=a._getItemRange(this.itemsData.get(c,this.itemOptions));c=[];for(var e in this.items)if(this.items.hasOwnProperty(e)){b=this.items[e];var f=b.data.start,h=void 0!==b.data.end?b.data.end:f;f>=d.min&&h<=d.max&&c.push(b.id)}}else e=c.indexOf(d.id),-1==e?c.push(d.id):c.splice(e,1);this.setSelection(c);this.body.emitter.emit("select",{items:this.getSelection()})}}};a._getItemRange=function(b){var a=null,c=null;b.forEach(function(b){if(null==c||b.start<c)c=b.start;if(void 0!=b.end){if(null==a||b.end>
a)a=b.end}else if(null==a||b.start>a)a=b.start});return{min:c,max:a}};a.itemFromTarget=function(b){for(b=b.target;b;){if(b.hasOwnProperty("timeline-item"))return b["timeline-item"];b=b.parentNode}return null};a.groupFromTarget=function(b){for(b=b.target;b;){if(b.hasOwnProperty("timeline-group"))return b["timeline-group"];b=b.parentNode}return null};a.itemSetFromTarget=function(b){for(b=b.target;b;){if(b.hasOwnProperty("timeline-itemset"))return b["timeline-itemset"];b=b.parentNode}return null};q.exports=
a},function(q,g,m){function a(b,a,c,l){this.body=b;this.defaultOptions={enabled:!0,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-left"}};this.side=c;this.options=d.extend({},this.defaultOptions);this.linegraphOptions=l;this.svgElements={};this.dom={};this.groups={};this.amountOfGroups=0;this._create();this.setOptions(a)}var d=m(1),c=m(2);g=m(20);a.prototype=new g;a.prototype.clear=function(){this.groups={};this.amountOfGroups=0};a.prototype.addGroup=
function(b,a){this.groups.hasOwnProperty(b)||(this.groups[b]=a);this.amountOfGroups+=1};a.prototype.updateGroup=function(b,a){this.groups[b]=a};a.prototype.removeGroup=function(b){this.groups.hasOwnProperty(b)&&(delete this.groups[b],--this.amountOfGroups)};a.prototype._create=function(){this.dom.frame=document.createElement("div");this.dom.frame.className="legend";this.dom.frame.style.position="absolute";this.dom.frame.style.top="10px";this.dom.frame.style.display="block";this.dom.textArea=document.createElement("div");
this.dom.textArea.className="legendText";this.dom.textArea.style.position="relative";this.dom.textArea.style.top="0px";this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="absolute";this.svg.style.top="0px";this.svg.style.width=this.options.iconSize+5+"px";this.svg.style.height="100%";this.dom.frame.appendChild(this.svg);this.dom.frame.appendChild(this.dom.textArea)};a.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};
a.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};a.prototype.setOptions=function(b){d.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,b)};a.prototype.redraw=function(){var b=0,a;for(a in this.groups)this.groups.hasOwnProperty(a)&&(1!=this.groups[a].visible||void 0!==this.linegraphOptions.visibility[a]&&1!=this.linegraphOptions.visibility[a]||b++);if(0==this.options[this.side].visible||0==this.amountOfGroups||
0==this.options.enabled||0==b)this.hide();else{this.show();"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign=
"right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left="");"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position?(this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom=""):(this.dom.frame.style.bottom=4+(this.body.domProps.center.height-this.body.domProps.centerContainer.height)+Number(this.body.dom.center.style.top.replace("px",
""))+"px",this.dom.frame.style.top="");0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());b="";for(a in this.groups)this.groups.hasOwnProperty(a)&&(1!=this.groups[a].visible||void 0!==this.linegraphOptions.visibility[a]&&1!=this.linegraphOptions.visibility[a]||
(b+=this.groups[a].content+"<br />"));this.dom.textArea.innerHTML=b;this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}};a.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){c.prepareElements(this.svgElements);var b=window.getComputedStyle(this.dom.frame).paddingTop,b=Number(b.replace("px","")),a=this.options.iconSize,d=.75*this.options.iconSize,l=b+.5*d+3;this.svg.style.width=a+5+b+"px";for(var k in this.groups)!this.groups.hasOwnProperty(k)||
1!=this.groups[k].visible||void 0!==this.linegraphOptions.visibility[k]&&1!=this.linegraphOptions.visibility[k]||(this.groups[k].drawIcon(b,l,this.svgElements,this.svg,a,d),l+=d+this.options.iconSpacing);c.cleanupElements(this.svgElements)}};q.exports=a},function(q,g,m){function a(b,a){this.id=d.randomUUID();this.body=b;this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,
handleOverlap:"overlap",align:"center"},catmullRom:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:"40px",visible:!0,alignZeros:!0,customRange:{left:{min:void 0,max:void 0},right:{min:void 0,max:void 0}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},groups:{visibility:{}}};this.options=d.extend({},this.defaultOptions);this.dom=
{};this.props={};this.hammer=null;this.groups={};this.updateSVGheightOnResize=this.updateSVGheight=this.abortedGraphUpdate=!1;var c=this;this.groupsData=this.itemsData=null;this.itemListeners={add:function(b,a,d){c._onAdd(a.items)},update:function(b,a,d){c._onUpdate(a.items)},remove:function(b,a,d){c._onRemove(a.items)}};this.groupListeners={add:function(b,a,d){c._onAddGroups(a.items)},update:function(b,a,d){c._onUpdateGroups(a.items)},remove:function(b,a,d){c._onRemoveGroups(a.items)}};this.items=
{};this.selection=[];this.lastStart=this.body.range.start;this.touchParams={};this.svgElements={};this.setOptions(a);this.groupsUsingDefaultStyles=[0];this.COUNTER=0;this.body.emitter.on("rangechanged",function(){c.lastStart=c.body.range.start;c.svg.style.left=d.option.asSize(-c.props.width);c.redraw.call(c,!0)});this._create();this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};this.body.emitter.emit("change")}var d=m(1),c=m(2),b=m(3),e=m(4);g=m(20);
var f=m(23),l=m(24),k=m(28),h=m(52);a.prototype=new g;a.prototype._create=function(){var b=document.createElement("div");b.className="LineGraph";this.dom.frame=b;this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="relative";this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px";this.svg.style.display="block";b.appendChild(this.svg);this.options.dataAxis.orientation="left";this.yAxisLeft=new f(this.body,this.options.dataAxis,this.svg,this.options.groups);
this.options.dataAxis.orientation="right";this.yAxisRight=new f(this.body,this.options.dataAxis,this.svg,this.options.groups);delete this.options.dataAxis.orientation;this.legendLeft=new k(this.body,this.options.legend,"left",this.options.groups);this.legendRight=new k(this.body,this.options.legend,"right",this.options.groups);this.show()};a.prototype.setOptions=function(b){b&&(void 0===b.graphHeight&&void 0!==b.height&&void 0!==this.body.domProps.centerContainer.height?this.updateSVGheightOnResize=
this.updateSVGheight=!0:void 0!==this.body.domProps.centerContainer.height&&void 0!==b.graphHeight&&parseInt((b.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),d.selectiveDeepExtend("sampling defaultGroup height graphHeight yAxisOrientation style barChart dataAxis sort groups".split(" "),this.options,b),d.mergeOptions(this.options,b,"catmullRom"),d.mergeOptions(this.options,b,"drawPoints"),d.mergeOptions(this.options,b,"shaded"),d.mergeOptions(this.options,
b,"legend"),b.catmullRom&&"object"==typeof b.catmullRom&&b.catmullRom.parametrization&&("uniform"==b.catmullRom.parametrization?this.options.catmullRom.alpha=0:"chordal"==b.catmullRom.parametrization?this.options.catmullRom.alpha=1:(this.options.catmullRom.parametrization="centripetal",this.options.catmullRom.alpha=.5)),this.yAxisLeft&&void 0!==b.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==b.legend&&(this.legendLeft.setOptions(this.options.legend),
this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty("__ungrouped__")&&this.groups.__ungrouped__.setOptions(b));this.dom.frame&&this.redraw(!0)};a.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};a.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};a.prototype.setItems=function(a){var c=this,f=this.itemsData;if(a)if(a instanceof b||a instanceof e)this.itemsData=a;
else throw new TypeError("Data must be an instance of DataSet or DataView");else this.itemsData=null;f&&(d.forEach(this.itemListeners,function(b,a){f.off(a,b)}),a=f.getIds(),this._onRemove(a));if(this.itemsData){var h=this.id;d.forEach(this.itemListeners,function(b,a){c.itemsData.on(a,b,h)});a=this.itemsData.getIds();this._onAdd(a)}this._updateUngrouped();this.redraw(!0)};a.prototype.setGroups=function(a){var c=this,f;this.groupsData&&(d.forEach(this.groupListeners,function(b,a){c.groupsData.unsubscribe(a,
b)}),f=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(f));if(a)if(a instanceof b||a instanceof e)this.groupsData=a;else throw new TypeError("Data must be an instance of DataSet or DataView");else this.groupsData=null;if(this.groupsData){var h=this.id;d.forEach(this.groupListeners,function(b,a){c.groupsData.on(a,b,h)});f=this.groupsData.getIds();this._onAddGroups(f)}this._onUpdate()};a.prototype._onUpdate=function(b){this._updateUngrouped();this._updateAllGroupData();this.redraw(!0)};
a.prototype._onAdd=function(b){this._onUpdate(b)};a.prototype._onRemove=function(b){this._onUpdate(b)};a.prototype._onUpdateGroups=function(b){for(var a=0;a<b.length;a++){var c=this.groupsData.get(b[a]);this._updateGroup(c,b[a])}this.redraw(!0)};a.prototype._onAddGroups=function(b){this._onUpdateGroups(b)};a.prototype._onRemoveGroups=function(b){for(var a=0;a<b.length;a++)this.groups.hasOwnProperty(b[a])&&("right"==this.groups[b[a]].options.yAxisOrientation?(this.yAxisRight.removeGroup(b[a]),this.legendRight.removeGroup(b[a]),
this.legendRight.redraw()):(this.yAxisLeft.removeGroup(b[a]),this.legendLeft.removeGroup(b[a]),this.legendLeft.redraw()),delete this.groups[b[a]]);this._updateUngrouped();this.redraw(!0)};a.prototype._updateGroup=function(b,a){this.groups.hasOwnProperty(a)?(this.groups[a].update(b),"right"==this.groups[a].options.yAxisOrientation?(this.yAxisRight.updateGroup(a,this.groups[a]),this.legendRight.updateGroup(a,this.groups[a])):(this.yAxisLeft.updateGroup(a,this.groups[a]),this.legendLeft.updateGroup(a,
this.groups[a]))):(this.groups[a]=new l(b,a,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[a].options.yAxisOrientation?(this.yAxisRight.addGroup(a,this.groups[a]),this.legendRight.addGroup(a,this.groups[a])):(this.yAxisLeft.addGroup(a,this.groups[a]),this.legendLeft.addGroup(a,this.groups[a])));this.legendLeft.redraw();this.legendRight.redraw()};a.prototype._updateAllGroupData=function(){if(null!=this.itemsData){var b={},a;for(a in this.groups)this.groups.hasOwnProperty(a)&&(b[a]=
[]);for(var c in this.itemsData._data)if(this.itemsData._data.hasOwnProperty(c)){var e=this.itemsData._data[c];if(void 0===b[e.group])throw Error("Cannot find referenced group. Possible reason: items added before groups? Groups need to be added before items, as items refer to groups.");e.x=d.convert(e.x,"Date");b[e.group].push(e)}for(a in this.groups)this.groups.hasOwnProperty(a)&&this.groups[a].setItems(b[a])}};a.prototype._updateUngrouped=function(){if(this.itemsData&&null!=this.itemsData){var b=
0,a;for(a in this.itemsData._data)if(this.itemsData._data.hasOwnProperty(a)){var c=this.itemsData._data[a];void 0!=c&&(c.hasOwnProperty("group")?void 0===c.group&&(c.group="__ungrouped__"):c.group="__ungrouped__",b="__ungrouped__"==c.group?b+1:b)}0==b?(delete this.groups.__ungrouped__,this.legendLeft.removeGroup("__ungrouped__"),this.legendRight.removeGroup("__ungrouped__"),this.yAxisLeft.removeGroup("__ungrouped__"),this.yAxisRight.removeGroup("__ungrouped__")):this._updateGroup({id:"__ungrouped__",
content:this.options.defaultGroup},"__ungrouped__")}else delete this.groups.__ungrouped__,this.legendLeft.removeGroup("__ungrouped__"),this.legendRight.removeGroup("__ungrouped__"),this.yAxisLeft.removeGroup("__ungrouped__"),this.yAxisRight.removeGroup("__ungrouped__");this.legendLeft.redraw();this.legendRight.redraw()};a.prototype.redraw=function(b){var a=!1;this.props.width=this.dom.frame.offsetWidth;this.props.height=this.body.domProps.centerContainer.height;void 0===this.lastWidth&&this.props.width&&
(b=!0);var a=this._isResized()||a,c=this.body.range.end-this.body.range.start,e=c!=this.lastVisibleInterval;this.lastVisibleInterval=c;1==a&&(this.svg.style.width=d.option.asSize(3*this.props.width),this.svg.style.left=d.option.asSize(-this.props.width),-1!=(this.options.height+"").indexOf("%")||1==this.updateSVGheightOnResize)&&(this.updateSVGheight=!0);1==this.updateSVGheight?(this.options.graphHeight!=this.body.domProps.centerContainer.height+"px"&&(this.options.graphHeight=this.body.domProps.centerContainer.height+
"px",this.svg.style.height=this.body.domProps.centerContainer.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px";1==a||1==e||1==this.abortedGraphUpdate||1==b?a=this._updateGraph()||a:0!=this.lastStart&&(b=this.body.range.start-this.lastStart,c=this.body.range.end-this.body.range.start,0!=this.props.width&&(this.svg.style.left=-this.props.width-this.props.width/c*b+"px"));this.legendLeft.redraw();this.legendRight.redraw();return a};a.prototype._updateGraph=
function(){c.prepareElements(this.svgElements);if(0!=this.props.width&&null!=this.itemsData){var b,a,d={},e={},f={};b=!1;var l=[],k;for(k in this.groups)this.groups.hasOwnProperty(k)&&(b=this.groups[k],1!=b.visible||void 0!==this.options.groups.visibility[k]&&1!=this.options.groups.visibility[k]||l.push(k));if(0<l.length){b=this.body.util.toGlobalTime(-this.body.domProps.root.width);a=this.body.util.toGlobalTime(2*this.body.domProps.root.width);k={};this._getRelevantData(l,k,b,a);this._applySampling(l,
k);for(a=0;a<l.length;a++)d[l[a]]=this._convertXcoordinates(k[l[a]]);this._getYRanges(l,d,f);b=this._updateYAxis(l,f);if(1==b&&5>this.COUNTER)return c.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,this.COUNTER++,this.body.emitter.emit("change"),!0;5<this.COUNTER&&console.log("WARNING: there may be an infinite loop in the _updateGraph emitter cycle.");this.COUNTER=0;this.abortedGraphUpdate=!1;for(a=0;a<l.length;a++)b=this.groups[l[a]],e[l[a]]=this._convertYcoordinates(k[l[a]],b);for(a=
0;a<l.length;a++)b=this.groups[l[a]],"bar"!=b.options.style&&b.draw(e[l[a]],b,this.framework);h.draw(l,e,this.framework)}}c.cleanupElements(this.svgElements);return!1};a.prototype._getRelevantData=function(b,a,c,e){var f,h,l,k;if(0<b.length)for(h=0;h<b.length;h++){f=this.groups[b[h]];a[b[h]]=[];var g=a[b[h]];if(1==f.options.sort)for(l=Math.max(0,d.binarySearchValue(f.itemsData,c,"x","before"));l<f.itemsData.length;l++){if(k=f.itemsData[l],void 0!==k)if(k.x>e){g.push(k);break}else g.push(k)}else for(l=
0;l<f.itemsData.length;l++)k=f.itemsData[l],void 0!==k&&k.x>c&&k.x<e&&g.push(k)}};a.prototype._applySampling=function(b,a){var c;if(0<b.length)for(var d=0;d<b.length;d++)if(c=this.groups[b[d]],1==c.options.sampling&&(c=a[b[d]],0<c.length)){for(var e=1,f=c.length,e=this.body.util.toGlobalScreen(c[c.length-1].x)-this.body.util.toGlobalScreen(c[0].x),e=f/e,e=Math.min(Math.ceil(.2*f),Math.max(1,Math.round(e))),h=[],l=0;l<f;l+=e)h.push(c[l]);a[b[d]]=h}};a.prototype._getYRanges=function(b,a,c){var d,e,
f,l=[],k=[],g;if(0<b.length){for(f=0;f<b.length;f++)d=a[b[f]],g=this.groups[b[f]].options,0<d.length&&(e=this.groups[b[f]],"stack"==g.barChart.handleOverlap&&"bar"==g.style?"left"==g.yAxisOrientation?l=l.concat(e.getYRange(d)):k=k.concat(e.getYRange(d)):c[b[f]]=e.getYRange(d,b[f]));h.getStackedBarYRange(l,c,b,"__barchartLeft","left");h.getStackedBarYRange(k,c,b,"__barchartRight","right")}};a.prototype._updateYAxis=function(b,a){var c=!1,d=!1,e=!1,f=1E9,h=1E9,l=-1E9,k=-1E9,g,m;if(0<b.length){for(var A=
0;A<b.length;A++)(g=this.groups[b[A]])&&"right"!=g.options.yAxisOrientation?(d=!0,l=f=0):g&&g.options.yAxisOrientation&&(e=!0,k=h=0);for(A=0;A<b.length;A++)a.hasOwnProperty(b[A])&&!0!==a[b[A]].ignore&&(g=a[b[A]].min,m=a[b[A]].max,"right"!=a[b[A]].yAxisOrientation?(d=!0,f=f>g?g:f,l=l<m?m:l):(e=!0,h=h>g?g:h,k=k<m?m:k));1==d&&this.yAxisLeft.setRange(f,l);1==e&&this.yAxisRight.setRange(h,k)}c=this._toggleAxisVisiblity(d,this.yAxisLeft)||c;c=this._toggleAxisVisiblity(e,this.yAxisRight)||c;1==e&&1==d?(this.yAxisLeft.drawIcons=
!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1);this.yAxisRight.master=!d;0==this.yAxisRight.master&&(this.yAxisLeft.lineOffset=1==e?this.yAxisRight.width:0,c=this.yAxisLeft.redraw()||c,this.yAxisRight.stepPixelsForced=this.yAxisLeft.stepPixels,this.yAxisRight.zeroCrossing=this.yAxisLeft.zeroCrossing);c=this.yAxisRight.redraw()||c;-1!=b.indexOf("__barchartLeft")&&b.splice(b.indexOf("__barchartLeft"),1);-1!=b.indexOf("__barchartRight")&&b.splice(b.indexOf("__barchartRight"),
1);return c};a.prototype._toggleAxisVisiblity=function(b,a){var c=!1;0==b?a.dom.frame.parentNode&&0==a.hidden&&(a.hide(),c=!0):a.dom.frame.parentNode||1!=a.hidden||(a.show(),c=!0);return c};a.prototype._convertXcoordinates=function(b){for(var a=[],c,d,e=this.body.util.toScreen,f=0;f<b.length;f++)c=e(b[f].x)+this.props.width,d=b[f].y,a.push({x:c,y:d});return a};a.prototype._convertYcoordinates=function(b,a){var c=[],d,e,f=this.body.util.toScreen,h=this.yAxisLeft,l=Number(this.svg.style.height.replace("px",
""));"right"==a.options.yAxisOrientation&&(h=this.yAxisRight);for(var k=0;k<b.length;k++)d=f(b[k].x)+this.props.width,e=Math.round(h.convertValue(b[k].y)),c.push({x:d,y:e});a.setZeroPosition(Math.min(l,h.convertValue(0)));return c};q.exports=a},function(q,g,m){function a(b,a){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}};this.props={range:{start:0,end:0,minimumStep:0},lineTop:0};this.defaultOptions={orientation:"bottom",showMinorLabels:!0,
showMajorLabels:!0,format:null};this.options=d.extend({},this.defaultOptions);this.body=b;this._create();this.setOptions(a)}var d=m(1);g=m(20);var c=m(19),b=m(15),e=m(44);a.prototype=new g;a.prototype.setOptions=function(b){b&&(d.selectiveExtend(["orientation","showMinorLabels","showMajorLabels","hiddenDates","format"],this.options,b),"locale"in b&&("function"===typeof e.locale?e.locale(b.locale):e.lang(b.locale)))};a.prototype._create=function(){this.dom.foreground=document.createElement("div");
this.dom.background=document.createElement("div");this.dom.foreground.className="timeaxis foreground";this.dom.background.className="timeaxis background"};a.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground);this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background);this.body=null};a.prototype.redraw=function(){var b=this.options,a=this.props,c=this.dom.foreground,d=this.dom.background,e=
"top"==b.orientation?this.body.dom.top:this.body.dom.bottom,g=c.parentNode!==e;this._calculateCharSize();var m=this.options.showMajorLabels;a.minorLabelHeight=this.options.showMinorLabels?a.minorCharHeight:0;a.majorLabelHeight=m?a.majorCharHeight:0;a.height=a.minorLabelHeight+a.majorLabelHeight;a.width=c.offsetWidth;a.minorLineHeight=this.body.domProps.root.height-a.majorLabelHeight-("top"==b.orientation?this.body.domProps.bottom.height:this.body.domProps.top.height);a.minorLineWidth=1;a.majorLineHeight=
a.minorLineHeight+a.majorLabelHeight;a.majorLineWidth=1;b=c.nextSibling;a=d.nextSibling;c.parentNode&&c.parentNode.removeChild(c);d.parentNode&&d.parentNode.removeChild(d);c.style.height=this.props.height+"px";this._repaintLabels();b?e.insertBefore(c,b):e.appendChild(c);a?this.body.dom.backgroundVertical.insertBefore(d,a):this.body.dom.backgroundVertical.appendChild(d);return this._isResized()||g};a.prototype._repaintLabels=function(){var a=this.options.orientation,e=d.convert(this.body.range.start,
"Number"),k=d.convert(this.body.range.end,"Number"),h=this.body.util.toTime(7*(this.props.minorCharWidth||10)).valueOf(),h=h-b.getHiddenDurationBefore(this.body.hiddenDates,this.body.range,h),h=h-this.body.util.toTime(0).valueOf(),k=new c(new Date(e),new Date(k),h,this.body.hiddenDates);this.options.format&&k.setFormat(this.options.format);this.step=k;e=this.dom;e.redundant.lines=e.lines;e.redundant.majorTexts=e.majorTexts;e.redundant.minorTexts=e.minorTexts;e.lines=[];e.majorTexts=[];e.minorTexts=
[];var g,h=0,p,m=0;g=0;var u,e=void 0,v=0,q;for(k.first();k.hasNext()&&1E3>v;)v++,g=k.getCurrent(),p=k.isMajor(),q=k.getClassName(),m=h,h=this.body.util.toScreen(g),g=h-m,u&&(u.style.width=g+"px"),this.options.showMinorLabels&&this._repaintMinorText(h,k.getLabelMinor(),a,q),p&&this.options.showMajorLabels?(0<h&&(void 0==e&&(e=h),this._repaintMajorText(h,k.getLabelMajor(),a,q)),u=this._repaintMajorLine(h,a,q)):u=this._repaintMinorLine(h,a,q),k.next();this.options.showMajorLabels&&(u=this.body.util.toTime(0),
u=k.getLabelMajor(u),k=u.length*(this.props.majorCharWidth||10)+10,(void 0==e||k<e)&&this._repaintMajorText(0,u,a,q));d.forEach(this.dom.redundant,function(b){for(;b.length;){var a=b.pop();a&&a.parentNode&&a.parentNode.removeChild(a)}})};a.prototype._repaintMinorText=function(b,a,c,d){var e=this.dom.redundant.minorTexts.shift();if(!e){var g=document.createTextNode(""),e=document.createElement("div");e.appendChild(g);this.dom.foreground.appendChild(e)}this.dom.minorTexts.push(e);e.childNodes[0].nodeValue=
a;e.style.top="top"==c?this.props.majorLabelHeight+"px":"0";e.style.left=b+"px";e.className="text minor "+d};a.prototype._repaintMajorText=function(b,a,c,d){var e=this.dom.redundant.majorTexts.shift();if(!e){var g=document.createTextNode(a),e=document.createElement("div");e.appendChild(g);this.dom.foreground.appendChild(e)}this.dom.majorTexts.push(e);e.childNodes[0].nodeValue=a;e.className="text major "+d;e.style.top="top"==c?"0":this.props.minorLabelHeight+"px";e.style.left=b+"px"};a.prototype._repaintMinorLine=
function(b,a,c){var d=this.dom.redundant.lines.shift();d||(d=document.createElement("div"),this.dom.background.appendChild(d));this.dom.lines.push(d);var e=this.props;d.style.top="top"==a?e.majorLabelHeight+"px":this.body.domProps.top.height+"px";d.style.height=e.minorLineHeight+"px";d.style.left=b-e.minorLineWidth/2+"px";d.className="grid vertical minor "+c;return d};a.prototype._repaintMajorLine=function(b,a,c){var d=this.dom.redundant.lines.shift();d||(d=document.createElement("div"),this.dom.background.appendChild(d));
this.dom.lines.push(d);var e=this.props;d.style.top="top"==a?"0":this.body.domProps.top.height+"px";d.style.left=b-e.majorLineWidth/2+"px";d.style.height=e.majorLineHeight+"px";d.className="grid vertical major "+c;return d};a.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="text minor measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),
this.dom.foreground.appendChild(this.dom.measureCharMinor));this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight;this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth;this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="text major measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor));
this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight;this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};a.prototype.snap=function(b){return this.step.snap(b)};q.exports=a},function(q,g,m){function a(b,a,c){this.parent=this.id=null;this.data=b;this.dom=null;this.conversion=a||{};this.options=c||{};this.displayed=this.selected=!1;this.dirty=!0;this.height=this.width=this.left=this.top=null}var d=m(45),c=m(1);a.prototype.stack=!0;a.prototype.select=function(){this.dirty=this.selected=
!0;this.displayed&&this.redraw()};a.prototype.unselect=function(){this.selected=!1;this.dirty=!0;this.displayed&&this.redraw()};a.prototype.setData=function(b){this.data=b;this.dirty=!0;this.displayed&&this.redraw()};a.prototype.setParent=function(b){this.displayed?(this.hide(),(this.parent=b)&&this.show()):this.parent=b};a.prototype.isVisible=function(b){return!1};a.prototype.show=function(){return!1};a.prototype.hide=function(){return!1};a.prototype.redraw=function(){};a.prototype.repositionX=function(){};
a.prototype.repositionY=function(){};a.prototype._repaintDeleteButton=function(b){if(this.selected&&this.options.editable.remove&&!this.dom.deleteButton){var a=this,c=document.createElement("div");c.className="delete";c.title="Delete this item";d(c,{preventDefault:!0}).on("tap",function(b){a.parent.removeFromDataSet(a);b.stopPropagation()});b.appendChild(c);this.dom.deleteButton=c}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),
this.dom.deleteButton=null)};a.prototype._updateContents=function(b){var a;this.options.template?(a=this.parent.itemSet.itemsData.get(this.id),a=this.options.template(a)):a=this.data.content;if(a!==this.content){if(a instanceof Element)b.innerHTML="",b.appendChild(a);else if(void 0!=a)b.innerHTML=a;else if("background"!=this.data.type||void 0!==this.data.content)throw Error('Property "content" missing in item '+this.id);this.content=a}};a.prototype._updateTitle=function(b){null!=this.data.title?b.title=
this.data.title||"":b.removeAttribute("title")};a.prototype._updateDataAttributes=function(b){if(this.options.dataAttributes&&0<this.options.dataAttributes.length){var a=[];if(Array.isArray(this.options.dataAttributes))a=this.options.dataAttributes;else if("all"==this.options.dataAttributes)a=Object.keys(this.data);else return;for(var c=0;c<a.length;c++){var d=a[c],k=this.data[d];null!=k?b.setAttribute("data-"+d,k):b.removeAttribute("data-"+d)}}};a.prototype._updateStyle=function(b){this.style&&(c.removeCssText(b,
this.style),this.style=null);this.data.style&&(c.addCssText(b,this.data.style),this.style=this.data.style)};q.exports=a},function(q,g,m){function a(b,a,c){this.props={content:{width:0}};this.overflow=!1;if(b){if(void 0==b.start)throw Error('Property "start" missing in item '+b.id);if(void 0==b.end)throw Error('Property "end" missing in item '+b.id);}d.call(this,b,a,c);this.emptyContent=!1}m(45);var d=m(31),c=m(26);g=m(35);a.prototype=new d(null,null,null);a.prototype.baseClassName="item background";
a.prototype.stack=!1;a.prototype.isVisible=function(b){return this.data.start<b.end&&this.data.end>b.start};a.prototype.redraw=function(){var b=this.dom;b||(b=this.dom={},b.box=document.createElement("div"),b.content=document.createElement("div"),b.content.className="content",b.box.appendChild(b.content),this.dirty=!0);if(!this.parent)throw Error("Cannot redraw item: no parent attached");if(!b.box.parentNode){var a=this.parent.dom.background;if(!a)throw Error("Cannot redraw item: parent has no background container element");
a.appendChild(b.box)}this.displayed=!0;this.dirty&&(this._updateContents(this.dom.content),this._updateTitle(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box),b.box.className=this.baseClassName+((this.data.className?" "+this.data.className:"")+(this.selected?" selected":"")),this.overflow="hidden"!==window.getComputedStyle(b.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=0,this.dirty=!1)};a.prototype.show=g.prototype.show;
a.prototype.hide=g.prototype.hide;a.prototype.repositionX=g.prototype.repositionX;a.prototype.repositionY=function(b){var a="top"===this.options.orientation;this.dom.content.style.top=a?"":"0";this.dom.content.style.bottom=a?"0":"";var d;if(void 0!==this.data.subgroup){d=this.data.subgroup;var l=this.parent.subgroups,k=l[d].index;if(1==a){d=this.parent.subgroups[d].height+b.item.vertical;d+=0==k?b.axis-.5*b.item.vertical:0;var a=this.parent.top,h;for(h in l)l.hasOwnProperty(h)&&1==l[h].visible&&l[h].index<
k&&(a+=l[h].height+b.item.vertical);a+=0!=k?b.axis-.5*b.item.vertical:0}else{a=this.parent.top;for(h in l)l.hasOwnProperty(h)&&1==l[h].visible&&l[h].index>k&&(a+=l[h].height+b.item.vertical);d=this.parent.subgroups[d].height+b.item.vertical}this.dom.box.style.top=a+"px";this.dom.box.style.bottom=""}else this.parent instanceof c?(d=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.top=a?"0":"",this.dom.box.style.bottom=
a?"":"0"):(d=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=d+"px"};q.exports=a},function(q,g,m){function a(a,b,e){this.props={dot:{width:0,height:0},line:{width:0,height:0}};if(a&&void 0==a.start)throw Error('Property "start" missing in item '+a);d.call(this,a,b,e)}var d=m(31);m(1);a.prototype=new d(null,null,null);a.prototype.isVisible=function(a){var b=(a.end-a.start)/4;return this.data.start>a.start-b&&this.data.start<a.end+
b};a.prototype.redraw=function(){var a=this.dom;a||(a=this.dom={},a.box=document.createElement("DIV"),a.content=document.createElement("DIV"),a.content.className="content",a.box.appendChild(a.content),a.line=document.createElement("DIV"),a.line.className="line",a.dot=document.createElement("DIV"),a.dot.className="dot",a.box["timeline-item"]=this,this.dirty=!0);if(!this.parent)throw Error("Cannot redraw item: no parent attached");if(!a.box.parentNode){var b=this.parent.dom.foreground;if(!b)throw Error("Cannot redraw item: parent has no foreground container element");
b.appendChild(a.box)}if(!a.line.parentNode){var d=this.parent.dom.background;if(!d)throw Error("Cannot redraw item: parent has no background container element");d.appendChild(a.line)}if(!a.dot.parentNode){b=this.parent.dom.axis;if(!d)throw Error("Cannot redraw item: parent has no axis container element");b.appendChild(a.dot)}this.displayed=!0;this.dirty&&(this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),
d=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":""),a.box.className="item box"+d,a.line.className="item line"+d,a.dot.className="item dot"+d,this.props.dot.height=a.dot.offsetHeight,this.props.dot.width=a.dot.offsetWidth,this.props.line.width=a.line.offsetWidth,this.width=a.box.offsetWidth,this.height=a.box.offsetHeight,this.dirty=!1);this._repaintDeleteButton(a.box)};a.prototype.show=function(){this.displayed||this.redraw()};a.prototype.hide=function(){if(this.displayed){var a=
this.dom;a.box.parentNode&&a.box.parentNode.removeChild(a.box);a.line.parentNode&&a.line.parentNode.removeChild(a.line);a.dot.parentNode&&a.dot.parentNode.removeChild(a.dot);this.left=this.top=null;this.displayed=!1}};a.prototype.repositionX=function(){var a=this.conversion.toScreen(this.data.start),b=this.options.align,d=this.dom.box,f=this.dom.line,l=this.dom.dot;this.left="right"==b?a-this.width:"left"==b?a:a-this.width/2;d.style.left=this.left+"px";f.style.left=a-this.props.line.width/2+"px";
l.style.left=a-this.props.dot.width/2+"px"};a.prototype.repositionY=function(){var a=this.dom.box,b=this.dom.line,d=this.dom.dot;if("top"==this.options.orientation)a.style.top=(this.top||0)+"px",b.style.top="0",b.style.height=this.parent.top+this.top+1+"px",b.style.bottom="";else{var f=this.parent.itemSet.props.height,l=f-this.parent.top-this.parent.height+this.top;a.style.top=(this.parent.height-this.top-this.height||0)+"px";b.style.top=f-l+"px";b.style.bottom="0"}d.style.top=-this.props.dot.height/
2+"px"};q.exports=a},function(q,g,m){function a(a,b,e){this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0}};if(a&&void 0==a.start)throw Error('Property "start" missing in item '+a);d.call(this,a,b,e)}var d=m(31);a.prototype=new d(null,null,null);a.prototype.isVisible=function(a){var b=(a.end-a.start)/4;return this.data.start>a.start-b&&this.data.start<a.end+b};a.prototype.redraw=function(){var a=this.dom;a||(a=this.dom={},a.point=document.createElement("div"),a.content=document.createElement("div"),
a.content.className="content",a.point.appendChild(a.content),a.dot=document.createElement("div"),a.point.appendChild(a.dot),a.point["timeline-item"]=this,this.dirty=!0);if(!this.parent)throw Error("Cannot redraw item: no parent attached");if(!a.point.parentNode){var b=this.parent.dom.foreground;if(!b)throw Error("Cannot redraw item: parent has no foreground container element");b.appendChild(a.point)}this.displayed=!0;this.dirty&&(this._updateContents(this.dom.content),this._updateTitle(this.dom.point),
this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point),b=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":""),a.point.className="item point"+b,a.dot.className="item dot"+b,this.width=a.point.offsetWidth,this.height=a.point.offsetHeight,this.props.dot.width=a.dot.offsetWidth,this.props.dot.height=a.dot.offsetHeight,this.props.content.height=a.content.offsetHeight,a.content.style.marginLeft=2*this.props.dot.width+"px",a.dot.style.top=(this.height-this.props.dot.height)/
2+"px",a.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1);this._repaintDeleteButton(a.point)};a.prototype.show=function(){this.displayed||this.redraw()};a.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.left=this.top=null,this.displayed=!1)};a.prototype.repositionX=function(){this.left=this.conversion.toScreen(this.data.start)-this.props.dot.width;this.dom.point.style.left=this.left+"px"};a.prototype.repositionY=
function(){this.dom.point.style.top="top"==this.options.orientation?this.top+"px":this.parent.height-this.top-this.height+"px"};q.exports=a},function(q,g,m){function a(b,a,d){this.props={content:{width:0}};this.overflow=!1;if(b){if(void 0==b.start)throw Error('Property "start" missing in item '+b.id);if(void 0==b.end)throw Error('Property "end" missing in item '+b.id);}c.call(this,b,a,d)}var d=m(45),c=m(31);a.prototype=new c(null,null,null);a.prototype.baseClassName="item range";a.prototype.isVisible=
function(b){return this.data.start<b.end&&this.data.end>b.start};a.prototype.redraw=function(){var b=this.dom;b||(b=this.dom={},b.box=document.createElement("div"),b.content=document.createElement("div"),b.content.className="content",b.box.appendChild(b.content),b.box["timeline-item"]=this,this.dirty=!0);if(!this.parent)throw Error("Cannot redraw item: no parent attached");if(!b.box.parentNode){var a=this.parent.dom.foreground;if(!a)throw Error("Cannot redraw item: parent has no foreground container element");
a.appendChild(b.box)}this.displayed=!0;this.dirty&&(this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),b.box.className=this.baseClassName+((this.data.className?" "+this.data.className:"")+(this.selected?" selected":"")),this.overflow="hidden"!==window.getComputedStyle(b.content).overflow,this.dom.content.style.maxWidth="none",this.props.content.width=this.dom.content.offsetWidth,this.height=this.dom.box.offsetHeight,
this.dom.content.style.maxWidth="",this.dirty=!1);this._repaintDeleteButton(b.box);this._repaintDragLeft();this._repaintDragRight()};a.prototype.show=function(){this.displayed||this.redraw()};a.prototype.hide=function(){if(this.displayed){var b=this.dom.box;b.parentNode&&b.parentNode.removeChild(b);this.left=this.top=null;this.displayed=!1}};a.prototype.repositionX=function(){var b=this.parent.width,a=this.conversion.toScreen(this.data.start),c=this.conversion.toScreen(this.data.end);a<-b&&(a=-b);
c>2*b&&(c=2*b);var d=Math.max(c-a,1);this.overflow?(this.left=a,this.width=d+this.props.content.width,b=this.props.content.width):(this.left=a,this.width=d,b=Math.min(c-a-2*this.options.padding,this.props.content.width));this.dom.box.style.left=this.left+"px";this.dom.box.style.width=d+"px";switch(this.options.align){case "left":this.dom.content.style.left="0";break;case "right":this.dom.content.style.left=Math.max(d-b-2*this.options.padding,0)+"px";break;case "center":this.dom.content.style.left=
Math.max((d-b-2*this.options.padding)/2,0)+"px";break;default:a=this.overflow?0<c?Math.max(-a,0):-b:0>a?Math.min(-a,c-a-b-2*this.options.padding):0,this.dom.content.style.left=a+"px"}};a.prototype.repositionY=function(){this.dom.box.style.top="top"==this.options.orientation?this.top+"px":this.parent.height-this.top-this.height+"px"};a.prototype._repaintDragLeft=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragLeft){var b=document.createElement("div");b.className="drag-left";
b.dragLeftItem=this;d(b,{preventDefault:!0}).on("drag",function(){});this.dom.box.appendChild(b);this.dom.dragLeft=b}else!this.selected&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)};a.prototype._repaintDragRight=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragRight){var b=document.createElement("div");b.className="drag-right";b.dragRightItem=this;d(b,{preventDefault:!0}).on("drag",
function(){});this.dom.box.appendChild(b);this.dom.dragRight=b}else!this.selected&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)};q.exports=a},function(q,g,m){function a(c,d,e){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._determineBrowserMethod();this._initializeMixinLoaders();this.containerElement=c;this.renderRefreshRate=60;this.renderTimestep=1E3/
this.renderRefreshRate;this.physicsTime=this.renderTime=0;this.runDoubleSpeed=!1;this.physicsDiscreteStepsize=.5;this.initializing=!0;this.triggerFunctions={add:null,edit:null,editEdge:null,connect:null,del:null};this.defaultOptions={nodes:{mass:1,radiusMin:10,radiusMax:30,radius:10,shape:"ellipse",image:void 0,widthMin:16,widthMax:64,fontColor:"black",fontSize:14,fontFace:"verdana",fontFill:void 0,level:-1,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},
hover:{border:"#2B7CE9",background:"#D2E5FF"}},group:void 0,borderWidth:1,borderWidthSelected:void 0},edges:{widthMin:1,widthMax:15,width:1,widthSelectionMultiplier:2,hoverWidth:1.5,style:"line",color:{color:"#848484",highlight:"#848484",hover:"#848484"},fontColor:"#343434",fontSize:14,fontFace:"arial",fontFill:"white",arrowScaleFactor:1,dash:{length:10,gap:5,altLength:void 0},inheritColor:"from"},configurePhysics:!1,physics:{barnesHut:{enabled:!0,thetaInverted:2,gravitationalConstant:-2E3,centralGravity:.3,
springLength:95,springConstant:.04,damping:.09},repulsion:{centralGravity:0,springLength:200,springConstant:.05,nodeDistance:100,damping:.09},hierarchicalRepulsion:{enabled:!1,centralGravity:0,springLength:100,springConstant:.01,nodeDistance:150,damping:.09},damping:null,centralGravity:null,springLength:null,springConstant:null},clustering:{enabled:!1,initialMaxNodes:100,clusterThreshold:500,reduceToNodes:300,chainThreshold:.4,clusterEdgeThreshold:20,sectorThreshold:100,screenSizeThreshold:.2,fontSizeMultiplier:4,
maxFontSize:1E3,forceAmplification:.1,distanceAmplification:.1,edgeGrowth:20,nodeScaling:{width:1,height:1,radius:1},maxNodeSizeIncrements:600,activeAreaBoxSize:80,clusterLevelDifference:2},navigation:{enabled:!1},keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02}},dataManipulation:{enabled:!1,initiallyVisible:!1},hierarchicalLayout:{enabled:!1,levelSeparation:150,nodeSpacing:100,direction:"UD",layout:"hubsize"},freezeForStabilization:!1,smoothCurves:{enabled:!0,dynamic:!0,type:"continuous",roundness:.5},
maxVelocity:30,minVelocity:.1,stabilize:!0,stabilizationIterations:1E3,zoomExtentOnStabilize:!0,locale:"en",locales:z,tooltip:{delay:300,fontColor:"black",fontSize:14,fontFace:"verdana",color:{border:"#666",background:"#FFFFC6"}},dragNetwork:!0,dragNodes:!0,zoomable:!0,hover:!1,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,width:"100%",height:"100%",selectable:!0};this.constants=b.extend({},this.defaultOptions);this.pixelRatio=1;this.hoverObj={nodes:{},edges:{}};this.controlNodesActive=!1;this.navigationHammers=
{existing:[],_new:[]};this.animationSpeed=1/this.renderRefreshRate;this.animationEasingFunction="easeInOutQuint";this.targetTranslation=this.sourceTranslation=this.targetScale=this.sourceScale=this.easingTime=0;this.lockedOnNodeOffset=this.lockedOnNodeId=null;this.touchTime=0;var f=this;this.groups=new n;this.images=new p;this.images.setOnloadCallback(function(b){f._redraw()});this.zoomIncrement=this.yIncrement=this.xIncrement=0;this._loadPhysicsSystem();this._create();this._loadSectorSystem();this._loadClusterSystem();
this._loadSelectionSystem();this._loadHierarchySystem();this._setTranslation(this.frame.clientWidth/2,this.frame.clientHeight/2);this._setScale(1);this.setOptions(e);this.freezeSimulation=!1;this.cachedFunctions={};this.stabilized=this.startedStabilization=!1;this.stabilizationIterations=null;this.draggingNodes=!1;this.calculationNodes={};this.calculationNodeIndices=[];this.nodeIndices=[];this.nodes={};this.edges={};this.canvasTopLeft={x:0,y:0};this.canvasBottomRight={x:0,y:0};this.pointerPosition=
{x:0,y:0};this.areaCenter={};this.previousScale=this.scale=1;this.edgesData=this.nodesData=null;this.nodesListeners={add:function(b,a){f._addNodes(a.items);f.start()},update:function(b,a){f._updateNodes(a.items,a.data);f.start()},remove:function(b,a){f._removeNodes(a.items);f.start()}};this.edgesListeners={add:function(b,a){f._addEdges(a.items);f.start()},update:function(b,a){f._updateEdges(a.items);f.start()},remove:function(b,a){f._removeEdges(a.items);f.start()}};this.moving=!0;this.timer=void 0;
this.setData(d,this.constants.clustering.enabled||this.constants.hierarchicalLayout.enabled);this.initializing=!1;1==this.constants.hierarchicalLayout.enabled?this._setupHierarchicalLayout():0==this.constants.stabilize&&this.zoomExtent(void 0,!0,this.constants.clustering.enabled);this.constants.clustering.enabled&&this.startWithClustering()}g=m(56);var d=m(45),c=m(57),b=m(1),e=m(47),f=m(3),l=m(4),k=m(42),h=m(43),n=m(38),p=m(39),r=m(40),u=m(37),v=m(41),B=m(54),y=m(55),z=m(49);m(50);g(a.prototype);
a.prototype._determineBrowserMethod=function(){var b=navigator.userAgent.toLowerCase();this.requiresTimeout=!1;-1!=b.indexOf("msie 9.0")?this.requiresTimeout=!0:-1!=b.indexOf("safari")&&-1>=b.indexOf("chrome")&&(this.requiresTimeout=!0)};a.prototype._getScriptPath=function(){for(var b=document.getElementsByTagName("script"),a=0;a<b.length;a++){var c=b[a].src,d=c&&/\/?vis(.min)?\.js$/.exec(c);if(d)return c.substring(0,c.length-d[0].length)}return null};a.prototype._getRange=function(){var b=1E9,a=
-1E9,c=1E9,d=-1E9,e,f;for(f in this.nodes)this.nodes.hasOwnProperty(f)&&(e=this.nodes[f],c>e.boundingBox.left&&(c=e.boundingBox.left),d<e.boundingBox.right&&(d=e.boundingBox.right),b>e.boundingBox.bottom&&(b=e.boundingBox.bottom),a<e.boundingBox.top&&(a=e.boundingBox.top));1E9==c&&-1E9==d&&1E9==b&&-1E9==a&&(d=c=a=b=0);return{minX:c,maxX:d,minY:b,maxY:a}};a.prototype._findCenter=function(b){return{x:.5*(b.maxX+b.minX),y:.5*(b.maxY+b.minY)}};a.prototype.zoomExtent=function(b,a,c){this._redraw(!0);void 0===
a&&(a=!1);void 0===c&&(c=!1);void 0===b&&(b=!1);var d=this._getRange();if(1==a){a=this.nodeIndices.length;a=1==this.constants.smoothCurves?1==this.constants.clustering.enabled&&a>=this.constants.clustering.initialMaxNodes?49.07548/(a+142.05338)+9.1444E-4:12.662/(a+7.4147)+.0964822:1==this.constants.clustering.enabled&&a>=this.constants.clustering.initialMaxNodes?77.5271985/(a+187.266146)+4.76710517E-5:30.5062972/(a+19.93597763)+.08413486;var e=Math.min(this.frame.canvas.clientWidth/600,this.frame.canvas.clientHeight/
600);a*=e}else e=1.1*Math.abs(d.maxX-d.minX),a=1.1*Math.abs(d.maxY-d.minY),e=this.frame.canvas.clientWidth/e,a=this.frame.canvas.clientHeight/a,a=e<=a?e:a;1<a&&(a=1);d=this._findCenter(d);0==c?(this.moveTo({position:d,scale:a,animation:b}),this.moving=!0,this.start()):(d.x*=a,d.y*=a,d.x-=.5*this.frame.canvas.clientWidth,d.y-=.5*this.frame.canvas.clientHeight,this._setScale(a),this._setTranslation(-d.x,-d.y))};a.prototype._updateNodeIndexList=function(){this._clearNodeIndexList();for(var b in this.nodes)this.nodes.hasOwnProperty(b)&&
this.nodeIndices.push(b)};a.prototype.setData=function(b,a){void 0===a&&(a=!1);this.initializing=!0;if(b&&b.dot&&(b.nodes||b.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');this.setOptions(b&&b.options);if(b&&b.dot){if(b&&b.dot){var c=k.DOTToGraph(b.dot);this.setData(c);return}}else if(b&&b.gephi){if(b&&b.gephi){c=h.parseGephi(b.gephi);this.setData(c);return}}else this._setNodes(b&&b.nodes),this._setEdges(b&&b.edges);this._putDataInSector();
0==a&&(1==this.constants.hierarchicalLayout.enabled?(this._resetLevels(),this._setupHierarchicalLayout()):this.constants.stabilize&&this._stabilize(),this.start());this.initializing=!1};a.prototype.setOptions=function(a){if(a){var c;b.selectiveNotDeepExtend("nodes edges smoothCurves hierarchicalLayout clustering navigation keyboard dataManipulation onAdd onEdit onEditEdge onConnect onDelete clickToUse".split(" "),this.constants,a);b.selectiveNotDeepExtend(["color"],this.constants.nodes,a.nodes);b.selectiveNotDeepExtend(["color",
"length"],this.constants.edges,a.edges);if(a.physics&&(b.mergeOptions(this.constants.physics,a.physics,"barnesHut"),b.mergeOptions(this.constants.physics,a.physics,"repulsion"),a.physics.hierarchicalRepulsion))for(c in this.constants.hierarchicalLayout.enabled=!0,this.constants.physics.hierarchicalRepulsion.enabled=!0,this.constants.physics.barnesHut.enabled=!1,a.physics.hierarchicalRepulsion)a.physics.hierarchicalRepulsion.hasOwnProperty(c)&&(this.constants.physics.hierarchicalRepulsion[c]=a.physics.hierarchicalRepulsion[c]);
a.onAdd&&(this.triggerFunctions.add=a.onAdd);a.onEdit&&(this.triggerFunctions.edit=a.onEdit);a.onEditEdge&&(this.triggerFunctions.editEdge=a.onEditEdge);a.onConnect&&(this.triggerFunctions.connect=a.onConnect);a.onDelete&&(this.triggerFunctions.del=a.onDelete);b.mergeOptions(this.constants,a,"smoothCurves");b.mergeOptions(this.constants,a,"hierarchicalLayout");b.mergeOptions(this.constants,a,"clustering");b.mergeOptions(this.constants,a,"navigation");b.mergeOptions(this.constants,a,"keyboard");b.mergeOptions(this.constants,
a,"dataManipulation");a.dataManipulation&&(this.editMode=this.constants.dataManipulation.initiallyVisible);a.edges&&(void 0!==a.edges.color&&(b.isString(a.edges.color)?(this.constants.edges.color={},this.constants.edges.color.color=a.edges.color,this.constants.edges.color.highlight=a.edges.color,this.constants.edges.color.hover=a.edges.color):(void 0!==a.edges.color.color&&(this.constants.edges.color.color=a.edges.color.color),void 0!==a.edges.color.highlight&&(this.constants.edges.color.highlight=
a.edges.color.highlight),void 0!==a.edges.color.hover&&(this.constants.edges.color.hover=a.edges.color.hover)),this.constants.edges.inheritColor=!1),a.edges.fontColor||void 0===a.edges.color||(b.isString(a.edges.color)?this.constants.edges.fontColor=a.edges.color:void 0!==a.edges.color.color&&(this.constants.edges.fontColor=a.edges.color.color)));if(a.nodes&&a.nodes.color){var d=b.parseColor(a.nodes.color);this.constants.nodes.color.background=d.background;this.constants.nodes.color.border=d.border;
this.constants.nodes.color.highlight.background=d.highlight.background;this.constants.nodes.color.highlight.border=d.highlight.border;this.constants.nodes.color.hover.background=d.hover.background;this.constants.nodes.color.hover.border=d.hover.border}if(a.groups)for(var e in a.groups)a.groups.hasOwnProperty(e)&&this.groups.add(e,a.groups[e]);if(a.tooltip){for(c in a.tooltip)a.tooltip.hasOwnProperty(c)&&(this.constants.tooltip[c]=a.tooltip[c]);a.tooltip.color&&(this.constants.tooltip.color=b.parseColor(a.tooltip.color))}"clickToUse"in
a&&(a.clickToUse?this.activator||(this.activator=new y(this.frame),this.activator.on("change",this._createKeyBinds.bind(this))):this.activator&&(this.activator.destroy(),delete this.activator));if(a.labels)throw Error('Option "labels" is deprecated. Use options "locale" and "locales" instead.');this._loadPhysicsSystem();this._loadNavigationControls();this._loadManipulationSystem();this._configureSmoothCurves();this._createKeyBinds();this.setSize(this.constants.width,this.constants.height);this.moving=
!0;this.start()}};a.prototype._create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div");this.frame.className="vis network-frame";this.frame.style.position="relative";this.frame.style.overflow="hidden";this.frame.canvas=document.createElement("canvas");this.frame.canvas.style.position="relative";this.frame.appendChild(this.frame.canvas);if(this.frame.canvas.getContext){var b=this.frame.canvas.getContext("2d");
this.pixelRatio=(window.devicePixelRatio||1)/(b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1);this.frame.canvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else b=document.createElement("DIV"),b.style.color="red",b.style.fontWeight="bold",b.style.padding="10px",b.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(b);this.drag={};this.pinch=
{};this.hammer=d(this.frame.canvas,{prevent_default:!0});this.hammer.on("tap",this._onTap.bind(this));this.hammer.on("doubletap",this._onDoubleTap.bind(this));this.hammer.on("hold",this._onHold.bind(this));this.hammer.on("pinch",this._onPinch.bind(this));this.hammer.on("touch",this._onTouch.bind(this));this.hammer.on("dragstart",this._onDragStart.bind(this));this.hammer.on("drag",this._onDrag.bind(this));this.hammer.on("dragend",this._onDragEnd.bind(this));this.hammer.on("mousewheel",this._onMouseWheel.bind(this));
this.hammer.on("DOMMouseScroll",this._onMouseWheel.bind(this));this.hammer.on("mousemove",this._onMouseMoveTitle.bind(this));this.hammerFrame=d(this.frame,{prevent_default:!0});this.hammerFrame.on("release",this._onRelease.bind(this));this.containerElement.appendChild(this.frame)};a.prototype._createKeyBinds=function(){void 0!==this.keycharm&&this.keycharm.destroy();this.keycharm=c();this.keycharm.reset();this.constants.keyboard.enabled&&this.isActive()&&(this.keycharm.bind("up",this._moveUp.bind(this),
"keydown"),this.keycharm.bind("up",this._yStopMoving.bind(this),"keyup"),this.keycharm.bind("down",this._moveDown.bind(this),"keydown"),this.keycharm.bind("down",this._yStopMoving.bind(this),"keyup"),this.keycharm.bind("left",this._moveLeft.bind(this),"keydown"),this.keycharm.bind("left",this._xStopMoving.bind(this),"keyup"),this.keycharm.bind("right",this._moveRight.bind(this),"keydown"),this.keycharm.bind("right",this._xStopMoving.bind(this),"keyup"),this.keycharm.bind("=",this._zoomIn.bind(this),
"keydown"),this.keycharm.bind("=",this._stopZoom.bind(this),"keyup"),this.keycharm.bind("num+",this._zoomIn.bind(this),"keydown"),this.keycharm.bind("num+",this._stopZoom.bind(this),"keyup"),this.keycharm.bind("num-",this._zoomOut.bind(this),"keydown"),this.keycharm.bind("num-",this._stopZoom.bind(this),"keyup"),this.keycharm.bind("-",this._zoomOut.bind(this),"keydown"),this.keycharm.bind("-",this._stopZoom.bind(this),"keyup"),this.keycharm.bind("[",this._zoomIn.bind(this),"keydown"),this.keycharm.bind("[",
this._stopZoom.bind(this),"keyup"),this.keycharm.bind("]",this._zoomOut.bind(this),"keydown"),this.keycharm.bind("]",this._stopZoom.bind(this),"keyup"),this.keycharm.bind("pageup",this._zoomIn.bind(this),"keydown"),this.keycharm.bind("pageup",this._stopZoom.bind(this),"keyup"),this.keycharm.bind("pagedown",this._zoomOut.bind(this),"keydown"),this.keycharm.bind("pagedown",this._stopZoom.bind(this),"keyup"));1==this.constants.dataManipulation.enabled&&(this.keycharm.bind("esc",this._createManipulatorBar.bind(this)),
this.keycharm.bind("delete",this._deleteSelected.bind(this)))};a.prototype.destroy=function(){this.start=function(){};this.redraw=function(){};this.timer=!1;this._cleanupPhysicsConfiguration();this.keycharm.reset();this.hammer.dispose();for(this.off();this.frame.hasChildNodes();)this.frame.removeChild(this.frame.firstChild);for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild)};a.prototype._getPointer=function(a){return{x:a.pageX-b.getAbsoluteLeft(this.frame.canvas),
y:a.pageY-b.getAbsoluteTop(this.frame.canvas)}};a.prototype._onTouch=function(b){100<(new Date).valueOf()-this.touchTime&&(this.drag.pointer=this._getPointer(b.gesture.center),this.drag.pinched=!1,this.pinch.scale=this._getScale(),this.touchTime=(new Date).valueOf(),this._handleTouch(this.drag.pointer))};a.prototype._onDragStart=function(){this._handleDragStart()};a.prototype._handleDragStart=function(){var b=this.drag,a=this._getNodeAt(b.pointer);b.dragging=!0;b.selection=[];b.translation=this._getTranslation();
b.nodeId=null;this.draggingNodes=!1;if(null!=a&&1==this.constants.dragNodes){this.draggingNodes=!0;b.nodeId=a.id;a.isSelected()||this._selectObject(a,!1);this.emit("dragStart",{nodeIds:this.getSelection().nodes});for(var c in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(c)){var a=this.selectionObj.nodes[c],d={id:a.id,node:a,x:a.x,y:a.y,xFixed:a.xFixed,yFixed:a.yFixed};a.xFixed=!0;a.yFixed=!0;b.selection.push(d)}}};a.prototype._onDrag=function(b){this._handleOnDrag(b)};a.prototype._handleOnDrag=
function(b){if(!this.drag.pinched){this.releaseNode();b=this._getPointer(b.gesture.center);var a=this,c=this.drag,d=c.selection;if(d&&d.length&&1==this.constants.dragNodes){var e=b.x-c.pointer.x,f=b.y-c.pointer.y;d.forEach(function(b){var c=b.node;b.xFixed||(c.x=a._XconvertDOMtoCanvas(a._XconvertCanvasToDOM(b.x)+e));b.yFixed||(c.y=a._YconvertDOMtoCanvas(a._YconvertCanvasToDOM(b.y)+f))});this.moving||(this.moving=!0,this.start())}else 1==this.constants.dragNetwork&&(this._setTranslation(this.drag.translation.x+
(b.x-this.drag.pointer.x),this.drag.translation.y+(b.y-this.drag.pointer.y)),this._redraw())}};a.prototype._onDragEnd=function(b){this._handleDragEnd(b)};a.prototype._handleDragEnd=function(b){this.drag.dragging=!1;(b=this.drag.selection)&&b.length?(b.forEach(function(b){b.node.xFixed=b.xFixed;b.node.yFixed=b.yFixed}),this.moving=!0,this.start()):this._redraw();0==this.draggingNodes?this.emit("dragEnd",{nodeIds:[]}):this.emit("dragEnd",{nodeIds:this.getSelection().nodes})};a.prototype._onTap=function(b){this.pointerPosition=
b=this._getPointer(b.gesture.center);this._handleTap(b)};a.prototype._onDoubleTap=function(b){b=this._getPointer(b.gesture.center);this._handleDoubleTap(b)};a.prototype._onHold=function(b){this.pointerPosition=b=this._getPointer(b.gesture.center);this._handleOnHold(b)};a.prototype._onRelease=function(b){b=this._getPointer(b.gesture.center);this._handleOnRelease(b)};a.prototype._onPinch=function(b){var a=this._getPointer(b.gesture.center);this.drag.pinched=!0;"scale"in this.pinch||(this.pinch.scale=
1);this._zoom(this.pinch.scale*b.gesture.scale,a)};a.prototype._zoom=function(b,a){if(1==this.constants.zoomable){var c=this._getScale();1E-5>b&&(b=1E-5);10<b&&(b=10);var d=null;void 0!==this.drag&&1==this.drag.dragging&&(d=this.DOMtoCanvas(this.drag.pointer));var e=this._getTranslation(),f=b/c,h=(1-f)*a.x+e.x*f,e=(1-f)*a.y+e.y*f;this.areaCenter={x:this._XconvertDOMtoCanvas(a.x),y:this._YconvertDOMtoCanvas(a.y)};this._setScale(b);this._setTranslation(h,e);this.updateClustersDefault();null!=d&&(d=
this.canvasToDOM(d),this.drag.pointer.x=d.x,this.drag.pointer.y=d.y);this._redraw();c<b?this.emit("zoom",{direction:"+"}):this.emit("zoom",{direction:"-"});return b}};a.prototype._onMouseWheel=function(b){var a=0;b.wheelDelta?a=b.wheelDelta/120:b.detail&&(a=-b.detail/3);if(a){var c=this._getScale(),d=a/10;0>a&&(d/=1-d);c*=1+d;a=e.fakeGesture(this,b);a=this._getPointer(a.center);this._zoom(c,a)}b.preventDefault()};a.prototype._onMouseMoveTitle=function(b){b=e.fakeGesture(this,b);var a=this._getPointer(b.center);
this.popupObj&&this._checkHidePopup(a);var c=this;b=function(){c._checkShowPopup(a)};this.popupTimer&&clearInterval(this.popupTimer);this.drag.dragging||(this.popupTimer=setTimeout(b,this.constants.tooltip.delay));if(1==this.constants.hover){for(var d in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(d)&&(this.hoverObj.edges[d].hover=!1,delete this.hoverObj.edges[d]);d=this._getNodeAt(a);null==d&&(d=this._getEdgeAt(a));null!=d&&this._hoverObject(d);for(var f in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(f)&&
(d instanceof r&&d.id!=f||d instanceof u||null==d)&&(this._blurObject(this.hoverObj.nodes[f]),delete this.hoverObj.nodes[f]);this.redraw()}};a.prototype._checkShowPopup=function(b){var a={left:this._XconvertDOMtoCanvas(b.x),top:this._YconvertDOMtoCanvas(b.y),right:this._XconvertDOMtoCanvas(b.x),bottom:this._YconvertDOMtoCanvas(b.y)},c,d=this.popupObj,e=!1;if(void 0==this.popupObj){var f=this.nodes;for(c in f)if(f.hasOwnProperty(c)){var h=f[c];if(h.isOverlappingWith(a)){if(void 0!==h.getTitle()){this.popupObj=
h;break}e=!0}}}if(void 0===this.popupObj&&0==e)for(c in e=this.edges,e)if(e.hasOwnProperty(c)&&(f=e[c],f.connected&&void 0!==f.getTitle()&&f.isOverlappingWith(a))){this.popupObj=f;break}this.popupObj?this.popupObj!=d&&(this.popup||(this.popup=new v(this.frame,this.constants.tooltip)),this.popup.setPosition(b.x-3,b.y-3),this.popup.setText(this.popupObj.getTitle()),this.popup.show()):this.popup&&this.popup.hide()};a.prototype._checkHidePopup=function(b){this.popupObj&&this._getNodeAt(b)||(this.popupObj=
void 0,this.popup&&this.popup.hide())};a.prototype.setSize=function(b,a){var c=!1,d=this.frame.canvas.width,e=this.frame.canvas.height;b!=this.constants.width||a!=this.constants.height||this.frame.style.width!=b||this.frame.style.height!=a?(this.frame.style.width=b,this.frame.style.height=a,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth*this.pixelRatio,this.frame.canvas.height=this.frame.canvas.clientHeight*this.pixelRatio,
this.constants.width=b,this.constants.height=a,c=!0):(this.frame.canvas.width!=this.frame.canvas.clientWidth*this.pixelRatio&&(this.frame.canvas.width=this.frame.canvas.clientWidth*this.pixelRatio,c=!0),this.frame.canvas.height!=this.frame.canvas.clientHeight*this.pixelRatio&&(this.frame.canvas.height=this.frame.canvas.clientHeight*this.pixelRatio,c=!0));1==c&&this.emit("resize",{width:this.frame.canvas.width*this.pixelRatio,height:this.frame.canvas.height*this.pixelRatio,oldWidth:d*this.pixelRatio,
oldHeight:e*this.pixelRatio})};a.prototype._setNodes=function(a){var c=this.nodesData;if(a instanceof f||a instanceof l)this.nodesData=a;else if(Array.isArray(a))this.nodesData=new f,this.nodesData.add(a);else{if(a)throw new TypeError("Array or DataSet expected");this.nodesData=new f}c&&b.forEach(this.nodesListeners,function(b,a){c.off(a,b)});this.nodes={};if(this.nodesData){var d=this;b.forEach(this.nodesListeners,function(b,a){d.nodesData.on(a,b)});a=this.nodesData.getIds();this._addNodes(a)}this._updateSelection()};
a.prototype._addNodes=function(b){for(var a,c=0,d=b.length;c<d;c++){a=b[c];var e=this.nodesData.get(a),e=new r(e,this.images,this.groups,this.constants);this.nodes[a]=e;if(!(0!=e.xFixed&&0!=e.yFixed||null!==e.x&&null!==e.y)){a=1*b.length+10;var f=2*Math.PI*Math.random();0==e.xFixed&&(e.x=a*Math.cos(f));0==e.yFixed&&(e.y=a*Math.sin(f))}this.moving=!0}this._updateNodeIndexList();1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout());
this._updateCalculationNodes();this._reconnectEdges();this._updateValueRange(this.nodes);this.updateLabels()};a.prototype._updateNodes=function(b,a){for(var c=this.nodes,d=0,e=b.length;d<e;d++){var f=b[d],h=c[f],l=a[d];h?h.setProperties(l,this.constants):(h=new r(properties,this.images,this.groups,this.constants),c[f]=h)}this.moving=!0;1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout());this._updateNodeIndexList();this._updateValueRange(c)};
a.prototype._removeNodes=function(b){for(var a=this.nodes,c=0,d=b.length;c<d;c++)delete a[b[c]];this._updateNodeIndexList();1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout());this._updateCalculationNodes();this._reconnectEdges();this._updateSelection();this._updateValueRange(a)};a.prototype._setEdges=function(a){var c=this.edgesData;if(a instanceof f||a instanceof l)this.edgesData=a;else if(Array.isArray(a))this.edgesData=new f,
this.edgesData.add(a);else{if(a)throw new TypeError("Array or DataSet expected");this.edgesData=new f}c&&b.forEach(this.edgesListeners,function(b,a){c.off(a,b)});this.edges={};if(this.edgesData){var d=this;b.forEach(this.edgesListeners,function(b,a){d.edgesData.on(a,b)});a=this.edgesData.getIds();this._addEdges(a)}this._reconnectEdges()};a.prototype._addEdges=function(b){for(var a=this.edges,c=this.edgesData,d=0,e=b.length;d<e;d++){var f=b[d],h=a[f];h&&h.disconnect();h=c.get(f,{showInternalIds:!0});
a[f]=new u(h,this,this.constants)}this.moving=!0;this._updateValueRange(a);this._createBezierNodes();this._updateCalculationNodes();1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout())};a.prototype._updateEdges=function(b){for(var a=this.edges,c=this.edgesData,d=0,e=b.length;d<e;d++){var f=b[d],h=c.get(f),l=a[f];l?(l.disconnect(),l.setProperties(h,this.constants),l.connect()):(l=new u(h,this,this.constants),this.edges[f]=l)}this._createBezierNodes();
1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout());this.moving=!0;this._updateValueRange(a)};a.prototype._removeEdges=function(b){for(var a=this.edges,c=0,d=b.length;c<d;c++){var e=b[c],f=a[e];f&&(null!=f.via&&delete this.sectors.support.nodes[f.via.id],f.disconnect(),delete a[e])}this.moving=!0;this._updateValueRange(a);1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout());
this._updateCalculationNodes()};a.prototype._reconnectEdges=function(){var b,a=this.nodes,c=this.edges;for(b in a)a.hasOwnProperty(b)&&(a[b].edges=[],a[b].dynamicEdges=[]);for(b in c)c.hasOwnProperty(b)&&(a=c[b],a.from=null,a.to=null,a.connect())};a.prototype._updateValueRange=function(b){var a,c=void 0,d=void 0;for(a in b)if(b.hasOwnProperty(a)){var e=b[a].getValue();void 0!==e&&(c=void 0===c?e:Math.min(e,c),d=void 0===d?e:Math.max(e,d))}if(void 0!==c&&void 0!==d)for(a in b)b.hasOwnProperty(a)&&
b[a].setValueRange(c,d)};a.prototype.redraw=function(){this.setSize(this.constants.width,this.constants.height);this._redraw()};a.prototype._redraw=function(b){var a=this.frame.canvas.getContext("2d");a.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var c=this.frame.canvas.width*this.pixelRatio,d=this.frame.canvas.height*this.pixelRatio;a.clearRect(0,0,c,d);a.save();a.translate(this.translation.x,this.translation.y);a.scale(this.scale,this.scale);this.canvasTopLeft={x:this._XconvertDOMtoCanvas(0),
y:this._YconvertDOMtoCanvas(0)};this.canvasBottomRight={x:this._XconvertDOMtoCanvas(this.frame.canvas.clientWidth*this.pixelRatio),y:this._YconvertDOMtoCanvas(this.frame.canvas.clientHeight*this.pixelRatio)};1!=b&&(this._doInAllSectors("_drawAllSectorNodes",a),0!=this.drag.dragging&&void 0!==this.drag.dragging&&0!=this.constants.hideEdgesOnDrag||this._doInAllSectors("_drawEdges",a));0!=this.drag.dragging&&void 0!==this.drag.dragging&&0!=this.constants.hideNodesOnDrag||this._doInAllSectors("_drawNodes",
a,!1);1!=b&&1==this.controlNodesActive&&this._doInAllSectors("_drawControlNodes",a);a.restore();1==b&&a.clearRect(0,0,c,d)};a.prototype._setTranslation=function(b,a){void 0===this.translation&&(this.translation={x:0,y:0});void 0!==b&&(this.translation.x=b);void 0!==a&&(this.translation.y=a);this.emit("viewChanged")};a.prototype._getTranslation=function(){return{x:this.translation.x,y:this.translation.y}};a.prototype._setScale=function(b){this.scale=b};a.prototype._getScale=function(){return this.scale};
a.prototype._XconvertDOMtoCanvas=function(b){return(b-this.translation.x)/this.scale};a.prototype._XconvertCanvasToDOM=function(b){return b*this.scale+this.translation.x};a.prototype._YconvertDOMtoCanvas=function(b){return(b-this.translation.y)/this.scale};a.prototype._YconvertCanvasToDOM=function(b){return b*this.scale+this.translation.y};a.prototype.canvasToDOM=function(b){return{x:this._XconvertCanvasToDOM(b.x),y:this._YconvertCanvasToDOM(b.y)}};a.prototype.DOMtoCanvas=function(b){return{x:this._XconvertDOMtoCanvas(b.x),
y:this._YconvertDOMtoCanvas(b.y)}};a.prototype._drawNodes=function(b,a){void 0===a&&(a=!1);var c=this.nodes,d=[],e;for(e in c)c.hasOwnProperty(e)&&(c[e].setScaleAndPos(this.scale,this.canvasTopLeft,this.canvasBottomRight),c[e].isSelected()?d.push(e):(c[e].inArea()||a)&&c[e].draw(b));e=0;for(var f=d.length;e<f;e++)(c[d[e]].inArea()||a)&&c[d[e]].draw(b)};a.prototype._drawEdges=function(b){var a=this.edges,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];d.setScale(this.scale);d.connected&&a[c].draw(b)}};
a.prototype._drawControlNodes=function(b){var a=this.edges,c;for(c in a)a.hasOwnProperty(c)&&a[c]._drawControlNodes(b)};a.prototype._stabilize=function(){1==this.constants.freezeForStabilization&&this._freezeDefinedNodes();for(var b=0;this.moving&&b<this.constants.stabilizationIterations;)this._physicsTick(),b++;1==this.constants.zoomExtentOnStabilize&&this.zoomExtent(void 0,!1,!0);1==this.constants.freezeForStabilization&&this._restoreFrozenNodes()};a.prototype._freezeDefinedNodes=function(){var b=
this.nodes,a;for(a in b)b.hasOwnProperty(a)&&null!=b[a].x&&null!=b[a].y&&(b[a].fixedData.x=b[a].xFixed,b[a].fixedData.y=b[a].yFixed,b[a].xFixed=!0,b[a].yFixed=!0)};a.prototype._restoreFrozenNodes=function(){var b=this.nodes,a;for(a in b)b.hasOwnProperty(a)&&null!=b[a].fixedData.x&&(b[a].xFixed=b[a].fixedData.x,b[a].yFixed=b[a].fixedData.y)};a.prototype._isMoving=function(b){var a=this.nodes,c;for(c in a)if(a.hasOwnProperty(c)&&a[c].isMoving(b))return!0;return!1};a.prototype._discreteStepNodes=function(){var b=
this.physicsDiscreteStepsize,a=this.nodes,c,d=!1;if(0<this.constants.maxVelocity)for(c in a)a.hasOwnProperty(c)&&(a[c].discreteStepLimited(b,this.constants.maxVelocity),d=!0);else for(c in a)a.hasOwnProperty(c)&&(a[c].discreteStep(b),d=!0);return 1==d?(b=this.constants.minVelocity/Math.max(this.scale,.05),b>.5*this.constants.maxVelocity?!0:this._isMoving(b)):!1};a.prototype._revertPhysicsState=function(){var b=this.nodes,a;for(a in b)b.hasOwnProperty(a)&&b[a].revertPosition()};a.prototype._revertPhysicsTick=
function(){this._doInAllActiveSectors("_revertPhysicsState");1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic&&this._doInSupportSector("_revertPhysicsState")};a.prototype._physicsTick=function(){if(!this.freezeSimulation&&1==this.moving){var b=!1,a=!1;this._doInAllActiveSectors("_initializeForceCalculation");var c=this._doInAllActiveSectors("_discreteStepNodes");1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic&&(a=this._doInSupportSector("_discreteStepNodes"));
for(var d=0;d<c.length;d++)b=c[0]||b;this.moving=b||a;0==this.moving?this._revertPhysicsTick():0==this.startedStabilization&&(this.emit("startStabilization"),this.startedStabilization=!0);this.stabilizationIterations++}};a.prototype._animationStep=function(){this.timer=void 0;this._handleNavigation();var b=Date.now();this._physicsTick();b=Date.now()-b;(this.renderTimestep-this.renderTime>2*b||1==this.runDoubleSpeed)&&1==this.moving&&(this._physicsTick(),0!=this.renderTime&&(this.runDoubleSpeed=!0));
b=Date.now();this._redraw();this.renderTime=Date.now()-b;this.start()};"undefined"!==typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);a.prototype.start=function(){if(1==this.moving||0!=this.xIncrement||0!=this.yIncrement||0!=this.zoomIncrement)this.timer||(this.timer=1==this.requiresTimeout?window.setTimeout(this._animationStep.bind(this),this.renderTimestep):window.requestAnimationFrame(this._animationStep.bind(this)));
else if(this._redraw(),1<this.stabilizationIterations){var b=this,a={iterations:b.stabilizationIterations};this.stabilizationIterations=0;this.startedStabilization=!1;setTimeout(function(){b.emit("stabilized",a)},0)}else this.stabilizationIterations=0};a.prototype._handleNavigation=function(){if(0!=this.xIncrement||0!=this.yIncrement){var b=this._getTranslation();this._setTranslation(b.x+this.xIncrement,b.y+this.yIncrement)}0!=this.zoomIncrement&&this._zoom(this.scale*(1+this.zoomIncrement),{x:this.frame.canvas.clientWidth/
2,y:this.frame.canvas.clientHeight/2})};a.prototype.toggleFreeze=function(){0==this.freezeSimulation?this.freezeSimulation=!0:(this.freezeSimulation=!1,this.start())};a.prototype._configureSmoothCurves=function(b){void 0===b&&(b=!0);if(1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic){this._createBezierNodes();for(var a in this.sectors.support.nodes)this.sectors.support.nodes.hasOwnProperty(a)&&void 0===this.edges[this.sectors.support.nodes[a].parentEdgeId]&&delete this.sectors.support.nodes[a]}else{this.sectors.support.nodes=
{};for(var c in this.edges)this.edges.hasOwnProperty(c)&&(this.edges[c].via=null)}this._updateCalculationNodes();b||(this.moving=!0,this.start())};a.prototype._createBezierNodes=function(){if(1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic)for(var b in this.edges)if(this.edges.hasOwnProperty(b)){var a=this.edges[b];if(null==a.via){var c="edgeId:".concat(a.id);this.sectors.support.nodes[c]=new r({id:c,mass:1,shape:"circle",image:"",internalMultiplier:1},{},{},this.constants);
a.via=this.sectors.support.nodes[c];a.via.parentEdgeId=a.id;a.positionBezierNode()}}};a.prototype._initializeMixinLoaders=function(){for(var b in B)B.hasOwnProperty(b)&&(a.prototype[b]=B[b])};a.prototype.storePosition=function(){console.log("storePosition is depricated: use .storePositions() from now on.");this.storePositions()};a.prototype.storePositions=function(){var b=[],a;for(a in this.nodes)if(this.nodes.hasOwnProperty(a)){var c=this.nodes[a],d=!this.nodes.xFixed,e=!this.nodes.yFixed;this.nodesData._data[a].x==
Math.round(c.x)&&this.nodesData._data[a].y==Math.round(c.y)||b.push({id:a,x:Math.round(c.x),y:Math.round(c.y),allowedToMoveX:d,allowedToMoveY:e})}this.nodesData.update(b)};a.prototype.getPositions=function(b){var a={};if(void 0!==b)if(1==Array.isArray(b))for(var c=0;c<b.length;c++){if(void 0!==this.nodes[b[c]]){var d=this.nodes[b[c]];a[b[c]]={x:Math.round(d.x),y:Math.round(d.y)}}}else void 0!==this.nodes[b]&&(d=this.nodes[b],a[b]={x:Math.round(d.x),y:Math.round(d.y)});else for(c in this.nodes)this.nodes.hasOwnProperty(c)&&
(d=this.nodes[c],a[c]={x:Math.round(d.x),y:Math.round(d.y)});return a};a.prototype.focusOnNode=function(b,a){this.nodes.hasOwnProperty(b)?(void 0===a&&(a={}),a.position={x:this.nodes[b].x,y:this.nodes[b].y},a.lockedOnNode=b,this.moveTo(a)):console.log("This nodeId cannot be found.")};a.prototype.moveTo=function(b){void 0!==b&&(void 0===b.offset&&(b.offset={x:0,y:0}),void 0===b.offset.x&&(b.offset.x=0),void 0===b.offset.y&&(b.offset.y=0),void 0===b.scale&&(b.scale=this._getScale()),void 0===b.position&&
(b.position=this._getTranslation()),void 0===b.animation&&(b.animation={duration:0}),!1===b.animation&&(b.animation={duration:0}),!0===b.animation&&(b.animation={}),void 0===b.animation.duration&&(b.animation.duration=1E3),void 0===b.animation.easingFunction&&(b.animation.easingFunction="easeInOutQuad"),this.animateView(b))};a.prototype.animateView=function(b){if(void 0!==b){this.releaseNode();1==b.locked&&(this.lockedOnNodeId=b.lockedOnNode,this.lockedOnNodeOffset=b.offset);0!=this.easingTime&&this._transitionRedraw(1);
this.sourceScale=this._getScale();this.sourceTranslation=this._getTranslation();this.targetScale=b.scale;this._setScale(this.targetScale);var a=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight});this.targetTranslation={x:this.sourceTranslation.x+(a.x-b.position.x)*this.targetScale+b.offset.x,y:this.sourceTranslation.y+(a.y-b.position.y)*this.targetScale+b.offset.y};0==b.animation.duration?null!=this.lockedOnNodeId?(this._classicRedraw=this._redraw,this._redraw=
this._lockedRedraw):(this._setScale(this.targetScale),this._setTranslation(this.targetTranslation.x,this.targetTranslation.y),this._redraw()):(this.animationSpeed=1/(this.renderRefreshRate*b.animation.duration*.001)||1/this.renderRefreshRate,this.animationEasingFunction=b.animation.easingFunction,this._classicRedraw=this._redraw,this._redraw=this._transitionRedraw,this._redraw(),this.moving=!0,this.start())}};a.prototype._lockedRedraw=function(){var b=this.nodes[this.lockedOnNodeId].x,a=this.nodes[this.lockedOnNodeId].y,
c=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),b=c.x-b,a=c.y-a,c=this._getTranslation();this._setTranslation(c.x+b*this.scale+this.lockedOnNodeOffset.x,c.y+a*this.scale+this.lockedOnNodeOffset.y);this._classicRedraw()};a.prototype.releaseNode=function(){null!=this.lockedOnNodeId&&(this._redraw=this._classicRedraw,this.lockedOnNodeOffset=this.lockedOnNodeId=null)};a.prototype._transitionRedraw=function(a){this.easingTime=a||this.easingTime+this.animationSpeed;
this.easingTime+=this.animationSpeed;a=b.easingFunctions[this.animationEasingFunction](this.easingTime);this._setScale(this.sourceScale+(this.targetScale-this.sourceScale)*a);this._setTranslation(this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*a,this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*a);this._classicRedraw();this.moving=!0;1<=this.easingTime&&(this.easingTime=0,this._redraw=null!=this.lockedOnNodeId?this._lockedRedraw:this._classicRedraw,
this.emit("animationFinished"))};a.prototype._classicRedraw=function(){};a.prototype.isActive=function(){return!this.activator||this.activator.active};a.prototype.setScale=function(){return this._setScale()};a.prototype.getScale=function(){return this._getScale()};a.prototype.getCenterCoordinates=function(){return this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight})};a.prototype.getBoundingBox=function(b){if(void 0!==this.nodes[b])return this.nodes[b].boundingBox};
q.exports=a},function(q,g,m){function a(b,a,c){if(!a)throw"No network provided";var l=d.selectiveBridgeObject(["edges","physics"],c);this.options=l.edges;this.physics=l.physics;this.options.smoothCurves=c.smoothCurves;this.network=a;this.title=this.toId=this.fromId=this.id=void 0;this.widthSelected=this.options.width*this.options.widthSelectionMultiplier;this.value=void 0;this.hover=this.selected=!1;this.labelDimensions={top:0,left:0,width:0,height:0,yLine:0};this.dirtyLabel=!0;this.toBackup=this.fromBackup=
this.via=this.to=this.from=null;this.originalFromId=[];this.originalToId=[];this.lengthFixed=this.widthFixed=this.connected=!1;this.setProperties(b);this.controlNodesEnabled=!1;this.controlNodes={from:null,to:null,positions:{}};this.connectedNode=null}var d=m(1),c=m(40);a.prototype.setProperties=function(b){if(b)switch(d.selectiveDeepExtend("style fontSize fontFace fontColor fontFill width widthSelectionMultiplier hoverWidth arrowScaleFactor dash inheritColor".split(" "),this.options,b),void 0!==
b.from&&(this.fromId=b.from),void 0!==b.to&&(this.toId=b.to),void 0!==b.id&&(this.id=b.id),void 0!==b.label&&(this.label=b.label,this.dirtyLabel=!0),void 0!==b.title&&(this.title=b.title),void 0!==b.value&&(this.value=b.value),void 0!==b.length&&(this.physics.springLength=b.length),void 0!==b.color&&(this.options.inheritColor=!1,d.isString(b.color)?(this.options.color.color=b.color,this.options.color.highlight=b.color):(void 0!==b.color.color&&(this.options.color.color=b.color.color),void 0!==b.color.highlight&&
(this.options.color.highlight=b.color.highlight),void 0!==b.color.hover&&(this.options.color.hover=b.color.hover))),this.connect(),this.widthFixed=this.widthFixed||void 0!==b.width,this.lengthFixed=this.lengthFixed||void 0!==b.length,this.widthSelected=this.options.width*this.options.widthSelectionMultiplier,this.options.style){case "line":this.draw=this._drawLine;break;case "arrow":this.draw=this._drawArrow;break;case "arrow-center":this.draw=this._drawArrowCenter;break;case "dash-line":this.draw=
this._drawDashLine;break;default:this.draw=this._drawLine}};a.prototype.connect=function(){this.disconnect();this.from=this.network.nodes[this.fromId]||null;this.to=this.network.nodes[this.toId]||null;(this.connected=this.from&&this.to)?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this))};a.prototype.disconnect=function(){this.from&&(this.from.detachEdge(this),this.from=null);this.to&&(this.to.detachEdge(this),this.to=null);
this.connected=!1};a.prototype.getTitle=function(){return"function"===typeof this.title?this.title():this.title};a.prototype.getValue=function(){return this.value};a.prototype.setValueRange=function(b,a){this.widthFixed||void 0===this.value||(this.options.width=(this.options.widthMax-this.options.widthMin)/(a-b)*(this.value-b)+this.options.widthMin,this.widthSelected=this.options.width*this.options.widthSelectionMultiplier)};a.prototype.draw=function(b){throw"Method draw not initialized in edge";
};a.prototype.isOverlappingWith=function(b){return this.connected?10>this._getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,b.left,b.top):!1};a.prototype._getColor=function(){var b=this.options.color;if("to"==this.options.inheritColor)b={highlight:this.to.options.color.highlight.border,hover:this.to.options.color.hover.border,color:this.to.options.color.border};else if("from"==this.options.inheritColor||1==this.options.inheritColor)b={highlight:this.from.options.color.highlight.border,
hover:this.from.options.color.hover.border,color:this.from.options.color.border};return 1==this.selected?b.highlight:1==this.hover?b.hover:b.color};a.prototype._drawLine=function(b){b.strokeStyle=this._getColor();b.lineWidth=this._getLineWidth();if(this.from!=this.to){var a=this._line(b);this.label&&(a=1==this.options.smoothCurves.enabled&&null!=a?{x:.5*(.5*(this.from.x+a.x)+.5*(this.to.x+a.x)),y:.5*(.5*(this.from.y+a.y)+.5*(this.to.y+a.y))}:this._pointOnLine(.5),this._label(b,this.label,a.x,a.y))}else{var c,
d=this.physics.springLength/4;c=this.from;c.width||c.resize(b);c.width>c.height?(a=c.x+c.width/2,c=c.y-d):(a=c.x+d,c=c.y-c.height/2);this._circle(b,a,c,d);a=this._pointOnCircle(a,c,d,.5);this._label(b,this.label,a.x,a.y)}};a.prototype._getLineWidth=function(){return 1==this.selected?Math.max(Math.min(this.widthSelected,this.options.widthMax),.3*this.networkScaleInv):1==this.hover?Math.max(Math.min(this.options.hoverWidth,this.options.widthMax),.3*this.networkScaleInv):Math.max(this.options.width,
.3*this.networkScaleInv)};a.prototype._getViaCoordinates=function(){var b=null,a=null,c=this.options.smoothCurves.roundness,d=this.options.smoothCurves.type,k=Math.abs(this.from.x-this.to.x),h=Math.abs(this.from.y-this.to.y);"discrete"==d||"diagonalCross"==d?Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?(this.from.y>this.to.y?this.from.x<this.to.x?(b=this.from.x+c*h,a=this.from.y-c*h):this.from.x>this.to.x&&(b=this.from.x-c*h,a=this.from.y-c*h):this.from.y<this.to.y&&(this.from.x<
this.to.x?(b=this.from.x+c*h,a=this.from.y+c*h):this.from.x>this.to.x&&(b=this.from.x-c*h,a=this.from.y+c*h)),"discrete"==d&&(b=k<c*h?this.from.x:b)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>this.to.y?this.from.x<this.to.x?(b=this.from.x+c*k,a=this.from.y-c*k):this.from.x>this.to.x&&(b=this.from.x-c*k,a=this.from.y-c*k):this.from.y<this.to.y&&(this.from.x<this.to.x?(b=this.from.x+c*k,a=this.from.y+c*k):this.from.x>this.to.x&&(b=this.from.x-c*k,a=this.from.y+c*
k)),"discrete"==d&&(a=h<c*k?this.from.y:a)):"straightCross"==d?Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?(b=this.from.x,a=this.from.y<this.to.y?this.to.y-(1-c)*h:this.to.y+(1-c)*h):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(b=this.from.x<this.to.x?this.to.x-(1-c)*k:this.to.x+(1-c)*k,a=this.from.y):"horizontal"==d?(b=this.from.x<this.to.x?this.to.x-(1-c)*k:this.to.x+(1-c)*k,a=this.from.y):"vertical"==d?(b=this.from.x,a=this.from.y<this.to.y?this.to.y-(1-
c)*h:this.to.y+(1-c)*h):Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?this.from.y>this.to.y?this.from.x<this.to.x?(b=this.from.x+c*h,a=this.from.y-c*h,b=this.to.x<b?this.to.x:b):this.from.x>this.to.x&&(b=this.from.x-c*h,a=this.from.y-c*h,b=this.to.x>b?this.to.x:b):this.from.y<this.to.y&&(this.from.x<this.to.x?(b=this.from.x+c*h,a=this.from.y+c*h,b=this.to.x<b?this.to.x:b):this.from.x>this.to.x&&(b=this.from.x-c*h,a=this.from.y+c*h,b=this.to.x>b?this.to.x:b)):Math.abs(this.from.x-
this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>this.to.y?this.from.x<this.to.x?(b=this.from.x+c*k,a=this.from.y-c*k,a=this.to.y>a?this.to.y:a):this.from.x>this.to.x&&(b=this.from.x-c*k,a=this.from.y-c*k,a=this.to.y>a?this.to.y:a):this.from.y<this.to.y&&(this.from.x<this.to.x?(b=this.from.x+c*k,a=this.from.y+c*k,a=this.to.y<a?this.to.y:a):this.from.x>this.to.x&&(b=this.from.x-c*k,a=this.from.y+c*k,a=this.to.y<a?this.to.y:a)));return{x:b,y:a}};a.prototype._line=function(b){b.beginPath();b.moveTo(this.from.x,
this.from.y);if(1==this.options.smoothCurves.enabled){if(0==this.options.smoothCurves.dynamic){var a=this._getViaCoordinates();if(null==a.x)return b.lineTo(this.to.x,this.to.y),b.stroke(),null;b.quadraticCurveTo(a.x,a.y,this.to.x,this.to.y);b.stroke();return a}b.quadraticCurveTo(this.via.x,this.via.y,this.to.x,this.to.y);b.stroke();return this.via}b.lineTo(this.to.x,this.to.y);b.stroke();return null};a.prototype._circle=function(b,a,c,d){b.beginPath();b.arc(a,c,d,0,2*Math.PI,!1);b.stroke()};a.prototype._label=
function(b,a,c,d){if(a){b.font=(this.from.selected||this.to.selected?"bold ":"")+this.options.fontSize+"px "+this.options.fontFace;if(1==this.dirtyLabel){var k=String(a).split("\n"),h=k.length,g=Number(this.options.fontSize)+4;a=d+(1-h)/2*g;for(var p=b.measureText(k[0]).width,m=1;m<h;m++)var u=b.measureText(k[m]).width,p=u>p?u:p;m=this.options.fontSize*h;this.labelDimensions={top:d-m/2,left:c-p/2,width:p,height:m,yLine:a}}void 0!==this.options.fontFill&&null!==this.options.fontFill&&"none"!==this.options.fontFill&&
(b.fillStyle=this.options.fontFill,b.fillRect(this.labelDimensions.left,this.labelDimensions.top,this.labelDimensions.width,this.labelDimensions.height));b.fillStyle=this.options.fontColor||"black";b.textAlign="center";b.textBaseline="middle";a=this.labelDimensions.yLine;for(m=0;m<h;m++)b.fillText(k[m],c,a),a+=g}};a.prototype._drawDashLine=function(b){b.strokeStyle=this._getColor();b.lineWidth=this._getLineWidth();var a=null;void 0!==b.mozDash||void 0!==b.setLineDash?(a=[0],a=void 0!==this.options.dash.length&&
void 0!==this.options.dash.gap?[this.options.dash.length,this.options.dash.gap]:[5,5],"undefined"!==typeof b.setLineDash?(b.setLineDash(a),b.lineDashOffset=0):(b.mozDash=a,b.mozDashOffset=0),a=this._line(b),"undefined"!==typeof b.setLineDash?(b.setLineDash([0]),b.lineDashOffset=0):(b.mozDash=[0],b.mozDashOffset=0)):(b.beginPath(),b.lineCap="round",void 0!==this.options.dash.altLength?b.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,[this.options.dash.length,this.options.dash.gap,this.options.dash.altLength,
this.options.dash.gap]):void 0!==this.options.dash.length&&void 0!==this.options.dash.gap?b.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,[this.options.dash.length,this.options.dash.gap]):(b.moveTo(this.from.x,this.from.y),b.lineTo(this.to.x,this.to.y)),b.stroke());this.label&&(a=1==this.options.smoothCurves.enabled&&null!=a?{x:.5*(.5*(this.from.x+a.x)+.5*(this.to.x+a.x)),y:.5*(.5*(this.from.y+a.y)+.5*(this.to.y+a.y))}:this._pointOnLine(.5),this._label(b,this.label,a.x,a.y))};a.prototype._pointOnLine=
function(b){return{x:(1-b)*this.from.x+b*this.to.x,y:(1-b)*this.from.y+b*this.to.y}};a.prototype._pointOnCircle=function(b,a,c,d){d=2*(d-.375)*Math.PI;return{x:b+c*Math.cos(d),y:a-c*Math.sin(d)}};a.prototype._drawArrowCenter=function(b){var a;b.strokeStyle=this._getColor();b.fillStyle=b.strokeStyle;b.lineWidth=this._getLineWidth();if(this.from!=this.to){var c=this._line(b),d=Math.atan2(this.to.y-this.from.y,this.to.x-this.from.x),k=(10+5*this.options.width)*this.options.arrowScaleFactor;a=1==this.options.smoothCurves.enabled&&
null!=c?{x:.5*(.5*(this.from.x+c.x)+.5*(this.to.x+c.x)),y:.5*(.5*(this.from.y+c.y)+.5*(this.to.y+c.y))}:this._pointOnLine(.5);b.arrow(a.x,a.y,d,k);b.fill();b.stroke();this.label&&this._label(b,this.label,a.x,a.y)}else{var h,g=.25*Math.max(100,this.physics.springLength),d=this.from;d.width||d.resize(b);d.width>d.height?(c=d.x+.5*d.width,h=d.y-g):(c=d.x+g,h=d.y-.5*d.height);this._circle(b,c,h,g);d=.2*Math.PI;k=(10+5*this.options.width)*this.options.arrowScaleFactor;a=this._pointOnCircle(c,h,g,.5);b.arrow(a.x,
a.y,d,k);b.fill();b.stroke();this.label&&(a=this._pointOnCircle(c,h,g,.5),this._label(b,this.label,a.x,a.y))}};a.prototype._drawArrow=function(b){var a,c,d;b.strokeStyle=this._getColor();b.fillStyle=b.strokeStyle;b.lineWidth=this._getLineWidth();var k;if(this.from!=this.to){a=Math.atan2(this.to.y-this.from.y,this.to.x-this.from.x);var h=this.to.x-this.from.x;c=this.to.y-this.from.y;h=Math.sqrt(h*h+c*c);k=this.from.distanceToBorder(b,a+Math.PI);var g=(h-k)/h;k=g*this.from.x+(1-g)*this.to.x;var g=g*
this.from.y+(1-g)*this.to.y,p;1==this.options.smoothCurves.dynamic&&1==this.options.smoothCurves.enabled?p=this.via:1==this.options.smoothCurves.enabled&&(p=this._getViaCoordinates());1==this.options.smoothCurves.enabled&&null!=p.x&&(a=Math.atan2(this.to.y-p.y,this.to.x-p.x),h=this.to.x-p.x,c=this.to.y-p.y,h=Math.sqrt(h*h+c*c));c=this.to.distanceToBorder(b,a);c=(h-c)/h;1==this.options.smoothCurves.enabled&&null!=p.x?(h=(1-c)*p.x+c*this.to.x,c=(1-c)*p.y+c*this.to.y):(h=(1-c)*this.from.x+c*this.to.x,
c=(1-c)*this.from.y+c*this.to.y);b.beginPath();b.moveTo(k,g);1==this.options.smoothCurves.enabled&&null!=p.x?b.quadraticCurveTo(p.x,p.y,h,c):b.lineTo(h,c);b.stroke();k=(10+5*this.options.width)*this.options.arrowScaleFactor;b.arrow(h,c,a,k);b.fill();b.stroke();this.label&&(a=1==this.options.smoothCurves.enabled&&null!=p?{x:.5*(.5*(this.from.x+p.x)+.5*(this.to.x+p.x)),y:.5*(.5*(this.from.y+p.y)+.5*(this.to.y+p.y))}:this._pointOnLine(.5),this._label(b,this.label,a.x,a.y))}else k=this.from,h=.25*Math.max(100,
this.physics.springLength),k.width||k.resize(b),k.width>k.height?(p=k.x+.5*k.width,g=k.y-h,a=p,c=k.y,d=.9*Math.PI):(p=k.x+h,g=k.y-.5*k.height,a=k.x,c=g,d=.6*Math.PI),b.beginPath(),b.arc(p,g,h,0,2*Math.PI,!1),b.stroke(),k=(10+5*this.options.width)*this.options.arrowScaleFactor,b.arrow(a,c,d,k),b.fill(),b.stroke(),this.label&&(a=this._pointOnCircle(p,g,h,.5),this._label(b,this.label,a.x,a.y))};a.prototype._getDistanceToEdge=function(b,a,c,d,k,h){var g=0;if(this.from!=this.to)if(1==this.options.smoothCurves.enabled){var p,
m;1==this.options.smoothCurves.enabled&&1==this.options.smoothCurves.dynamic?(p=this.via.x,m=this.via.y):(g=this._getViaCoordinates(),p=g.x,m=g.y);var u=1E9,v,q,y,z;for(q=0;10>q;q++)y=.1*q,g=Math.pow(1-y,2)*b+2*y*(1-y)*p+Math.pow(y,2)*c,y=Math.pow(1-y,2)*a+2*y*(1-y)*m+Math.pow(y,2)*d,0<q&&(v=this._getDistanceToLine(v,z,g,y,k,h),u=v<u?v:u),v=g,z=y;g=u}else g=this._getDistanceToLine(b,a,c,d,k,h);else b=.25*this.physics.springLength,a=this.from,a.width>a.height?(g=a.x+.5*a.width,y=a.y-b):(g=a.x+b,y=
a.y-.5*a.height),a=g-k,c=y-h,g=Math.abs(Math.sqrt(a*a+c*c)-b);return this.labelDimensions.left<k&&this.labelDimensions.left+this.labelDimensions.width>k&&this.labelDimensions.top<h&&this.labelDimensions.top+this.labelDimensions.height>h?0:g};a.prototype._getDistanceToLine=function(b,a,c,d,k,h){c-=b;d-=a;var g=((k-b)*c+(h-a)*d)/(c*c+d*d);1<g?g=1:0>g&&(g=0);b=b+g*c-k;a=a+g*d-h;return Math.sqrt(b*b+a*a)};a.prototype.setScale=function(b){this.networkScaleInv=1/b};a.prototype.select=function(){this.selected=
!0};a.prototype.unselect=function(){this.selected=!1};a.prototype.positionBezierNode=function(){null!==this.via&&null!==this.from&&null!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):(this.via.x=0,this.via.y=0)};a.prototype._drawControlNodes=function(b){if(1==this.controlNodesEnabled){if(null===this.controlNodes.from&&null===this.controlNodes.to){var a="edgeIdFrom:".concat(this.id),d="edgeIdTo:".concat(this.id),l={nodes:{group:"",radius:8},physics:{damping:0},
clustering:{maxNodeSizeIncrements:0,nodeScaling:{width:0,height:0,radius:0}}};this.controlNodes.from=new c({id:a,shape:"dot",color:{background:"#ff4e00",border:"#3c3c3c",highlight:{background:"#07f968"}}},{},{},l);this.controlNodes.to=new c({id:d,shape:"dot",color:{background:"#ff4e00",border:"#3c3c3c",highlight:{background:"#07f968"}}},{},{},l)}0==this.controlNodes.from.selected&&0==this.controlNodes.to.selected&&(this.controlNodes.positions=this.getControlNodePositions(b),this.controlNodes.from.x=
this.controlNodes.positions.from.x,this.controlNodes.from.y=this.controlNodes.positions.from.y,this.controlNodes.to.x=this.controlNodes.positions.to.x,this.controlNodes.to.y=this.controlNodes.positions.to.y);this.controlNodes.from.draw(b);this.controlNodes.to.draw(b)}else this.controlNodes={from:null,to:null,positions:{}}};a.prototype._enableControlNodes=function(){this.fromBackup=this.from;this.toBackup=this.to;this.controlNodesEnabled=!0};a.prototype._disableControlNodes=function(){this.fromId=
this.from.id;this.toId=this.to.id;this.fromId!=this.fromBackup.id?this.fromBackup.detachEdge(this):this.toId!=this.toBackup.id&&this.toBackup.detachEdge(this);this.toBackup=this.fromBackup=null;this.controlNodesEnabled=!1};a.prototype._getSelectedControlNode=function(b,a){var c=this.controlNodes.positions,d=Math.sqrt(Math.pow(b-c.from.x,2)+Math.pow(a-c.from.y,2)),c=Math.sqrt(Math.pow(b-c.to.x,2)+Math.pow(a-c.to.y,2));return 15>d?(this.connectedNode=this.from,this.from=this.controlNodes.from):15>c?
(this.connectedNode=this.to,this.to=this.controlNodes.to):null};a.prototype._restoreControlNodes=function(){1==this.controlNodes.from.selected?(this.from=this.connectedNode,this.connectedNode=null,this.controlNodes.from.unselect()):1==this.controlNodes.to.selected&&(this.to=this.connectedNode,this.connectedNode=null,this.controlNodes.to.unselect())};a.prototype.getControlNodePositions=function(b){var a=Math.atan2(this.to.y-this.from.y,this.to.x-this.from.x),c=this.to.x-this.from.x,d=this.to.y-this.from.y,
c=Math.sqrt(c*c+d*d),k=this.from.distanceToBorder(b,a+Math.PI),h=(c-k)/c,k=h*this.from.x+(1-h)*this.to.x,h=h*this.from.y+(1-h)*this.to.y,g;1==this.options.smoothCurves.dynamic&&1==this.options.smoothCurves.enabled?g=this.via:1==this.options.smoothCurves.enabled&&(g=this._getViaCoordinates());1==this.options.smoothCurves.enabled&&null!=g.x&&(a=Math.atan2(this.to.y-g.y,this.to.x-g.x),c=this.to.x-g.x,d=this.to.y-g.y,c=Math.sqrt(c*c+d*d));b=this.to.distanceToBorder(b,a);a=(c-b)/c;1==this.options.smoothCurves.enabled&&
null!=g.x?(b=(1-a)*g.x+a*this.to.x,g=(1-a)*g.y+a*this.to.y):(b=(1-a)*this.from.x+a*this.to.x,g=(1-a)*this.from.y+a*this.to.y);return{from:{x:k,y:h},to:{x:b,y:g}}};q.exports=a},function(q,g,m){function a(){this.clear();this.defaultIndex=0}m(1);a.DEFAULT=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",
background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},
hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",
background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}}];a.prototype.clear=function(){this.groups={};this.groups.length=function(){var a=0,c;for(c in this)this.hasOwnProperty(c)&&a++;return a}};a.prototype.get=function(d){var c=this.groups[d];if(void 0==c){var b=this.defaultIndex%a.DEFAULT.length;this.defaultIndex++;c={};c.color=a.DEFAULT[b];this.groups[d]=c}return c};a.prototype.add=function(a,c){return this.groups[a]=c};q.exports=a},function(q,g,m){function a(){this.images={};this.callback=
void 0}a.prototype.setOnloadCallback=function(a){this.callback=a};a.prototype.load=function(a,c){if(void 0==this.images[a]){var b=this,e=new Image;e.onload=function(){0==this.width&&(document.body.appendChild(this),this.width=this.offsetWidth,this.height=this.offsetHeight,document.body.removeChild(this));b.callback&&(b.images[a]=e,b.callback(this))};e.onerror=function(){void 0===c?(console.error("Could not load image:",a),delete this.src,b.callback&&b.callback(this)):this.src=c};e.src=a}return e};
q.exports=a},function(q,g,m){function a(a,b,e,f){var l=d.selectiveBridgeObject(["nodes"],f);this.options=l.nodes;this.hover=this.selected=!1;this.edges=[];this.dynamicEdges=[];this.reroutedEdges={};this.fontDrawThreshold=3;this.id=void 0;this.yFixed=this.xFixed=this.allowedToMoveY=this.allowedToMoveX=!1;this.verticalAlignTop=this.horizontalAlignLeft=!0;this.baseRadiusValue=f.nodes.radius;this.radiusFixed=!1;this.level=-1;this.hierarchyEnumerated=this.preassignedLevel=!1;this.labelDimensions={top:0,
left:0,width:0,height:0,yLine:0};this.boundingBox={top:0,left:0,right:0,bottom:0};this.imagelist=b;this.grouplist=e;this.vy=this.vx=this.fy=this.fx=0;this.y=this.x=null;this.previousState={vx:0,vy:0,x:0,y:0};this.damping=f.physics.damping;this.fixedData={x:null,y:null};this.setProperties(a,l);this.resetCluster();this.clusterSession=this.dynamicEdgesLength=0;this.clusterSizeWidthFactor=f.clustering.nodeScaling.width;this.clusterSizeHeightFactor=f.clustering.nodeScaling.height;this.clusterSizeRadiusFactor=
f.clustering.nodeScaling.radius;this.maxNodeSizeIncrements=f.clustering.maxNodeSizeIncrements;this.growthIndicator=0;this.networkScale=this.networkScaleInv=1;this.canvasTopLeft={x:-300,y:-300};this.canvasBottomRight={x:300,y:300};this.parentEdgeId=null}var d=m(1);a.prototype.revertPosition=function(){this.x=this.previousState.x;this.y=this.previousState.y;this.vx=this.previousState.vx;this.vy=this.previousState.vy};a.prototype.resetCluster=function(){this.formationScale=void 0;this.clusterSize=1;
this.containedNodes={};this.containedEdges={};this.clusterSessions=[]};a.prototype.attachEdge=function(a){-1==this.edges.indexOf(a)&&this.edges.push(a);-1==this.dynamicEdges.indexOf(a)&&this.dynamicEdges.push(a);this.dynamicEdgesLength=this.dynamicEdges.length};a.prototype.detachEdge=function(a){var b=this.edges.indexOf(a);-1!=b&&this.edges.splice(b,1);b=this.dynamicEdges.indexOf(a);-1!=b&&this.dynamicEdges.splice(b,1);this.dynamicEdgesLength=this.dynamicEdges.length};a.prototype.setProperties=function(a,
b){if(a){d.selectiveDeepExtend("borderWidth borderWidthSelected shape image brokenImage radius fontColor fontSize fontFace fontFill group mass".split(" "),this.options,a);void 0!==a.id&&(this.id=a.id);void 0!==a.label&&(this.originalLabel=this.label=a.label);void 0!==a.title&&(this.title=a.title);void 0!==a.x&&(this.x=a.x);void 0!==a.y&&(this.y=a.y);void 0!==a.value&&(this.value=a.value);void 0!==a.level&&(this.level=a.level,this.preassignedLevel=!0);void 0!==a.horizontalAlignLeft&&(this.horizontalAlignLeft=
a.horizontalAlignLeft);void 0!==a.verticalAlignTop&&(this.verticalAlignTop=a.verticalAlignTop);void 0!==a.triggerFunction&&(this.triggerFunction=a.triggerFunction);if(void 0===this.id)throw"Node must have an id";if("number"===typeof this.options.group||"string"===typeof this.options.group&&""!=this.options.group){var e=this.grouplist.get(this.options.group);d.deepExtend(this.options,e);this.options.color=d.parseColor(this.options.color)}else void 0===a.color&&(this.options.color=b.nodes.color);void 0!==
a.radius&&(this.baseRadiusValue=this.options.radius);void 0!==a.color&&(this.options.color=d.parseColor(a.color));if(void 0!==this.options.image&&""!=this.options.image)if(this.imagelist)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage);else throw"No imagelist provided";void 0!==a.allowedToMoveX?(this.xFixed=!a.allowedToMoveX,this.allowedToMoveX=a.allowedToMoveX):void 0!==a.x&&0==this.allowedToMoveX&&(this.xFixed=!0);void 0!==a.allowedToMoveY?(this.yFixed=!a.allowedToMoveY,
this.allowedToMoveY=a.allowedToMoveY):void 0!==a.y&&0==this.allowedToMoveY&&(this.yFixed=!0);this.radiusFixed=this.radiusFixed||void 0!==a.radius;if("image"===this.options.shape||"circularImage"===this.options.shape)this.options.radiusMin=b.nodes.widthMin,this.options.radiusMax=b.nodes.widthMax;switch(this.options.shape){case "database":this.draw=this._drawDatabase;this.resize=this._resizeDatabase;break;case "box":this.draw=this._drawBox;this.resize=this._resizeBox;break;case "circle":this.draw=this._drawCircle;
this.resize=this._resizeCircle;break;case "ellipse":this.draw=this._drawEllipse;this.resize=this._resizeEllipse;break;case "image":this.draw=this._drawImage;this.resize=this._resizeImage;break;case "circularImage":this.draw=this._drawCircularImage;this.resize=this._resizeCircularImage;break;case "text":this.draw=this._drawText;this.resize=this._resizeText;break;case "dot":this.draw=this._drawDot;this.resize=this._resizeShape;break;case "square":this.draw=this._drawSquare;this.resize=this._resizeShape;
break;case "triangle":this.draw=this._drawTriangle;this.resize=this._resizeShape;break;case "triangleDown":this.draw=this._drawTriangleDown;this.resize=this._resizeShape;break;case "star":this.draw=this._drawStar;this.resize=this._resizeShape;break;default:this.draw=this._drawEllipse,this.resize=this._resizeEllipse}this._reset()}};a.prototype.select=function(){this.selected=!0;this._reset()};a.prototype.unselect=function(){this.selected=!1;this._reset()};a.prototype.clearSizeCache=function(){this._reset()};
a.prototype._reset=function(){this.height=this.width=void 0};a.prototype.getTitle=function(){return"function"===typeof this.title?this.title():this.title};a.prototype.distanceToBorder=function(a,b){this.width||this.resize(a);switch(this.options.shape){case "circle":case "dot":return this.options.radius+1;case "ellipse":var d=this.width/2,f=this.height/2,l=Math.sin(b)*d,k=Math.cos(b)*f;return d*f/Math.sqrt(l*l+k*k);default:return this.width?Math.min(Math.abs(this.width/2/Math.cos(b)),Math.abs(this.height/
2/Math.sin(b)))+1:0}};a.prototype._setForce=function(a,b){this.fx=a;this.fy=b};a.prototype._addForce=function(a,b){this.fx+=a;this.fy+=b};a.prototype.storeState=function(){this.previousState.x=this.x;this.previousState.y=this.y;this.previousState.vx=this.vx;this.previousState.vy=this.vy};a.prototype.discreteStep=function(a){this.storeState();this.xFixed?this.vx=this.fx=0:(this.vx+=(this.fx-this.damping*this.vx)/this.options.mass*a,this.x+=this.vx*a);this.yFixed?this.vy=this.fy=0:(this.vy+=(this.fy-
this.damping*this.vy)/this.options.mass*a,this.y+=this.vy*a)};a.prototype.discreteStepLimited=function(a,b){this.storeState();this.xFixed?this.vx=this.fx=0:(this.vx+=(this.fx-this.damping*this.vx)/this.options.mass*a,this.vx=Math.abs(this.vx)>b?0<this.vx?b:-b:this.vx,this.x+=this.vx*a);this.yFixed?this.vy=this.fy=0:(this.vy+=(this.fy-this.damping*this.vy)/this.options.mass*a,this.vy=Math.abs(this.vy)>b?0<this.vy?b:-b:this.vy,this.y+=this.vy*a)};a.prototype.isFixed=function(){return this.xFixed&&this.yFixed};
a.prototype.isMoving=function(a){return Math.sqrt(Math.pow(this.vx,2)+Math.pow(this.vy,2))>a};a.prototype.isSelected=function(){return this.selected};a.prototype.getValue=function(){return this.value};a.prototype.getDistance=function(a,b){var d=this.x-a,f=this.y-b;return Math.sqrt(d*d+f*f)};a.prototype.setValueRange=function(a,b){this.radiusFixed||void 0===this.value||(this.options.radius=b==a?(this.options.radiusMin+this.options.radiusMax)/2:(this.options.radiusMax-this.options.radiusMin)/(b-a)*
(this.value-a)+this.options.radiusMin);this.baseRadiusValue=this.options.radius};a.prototype.draw=function(a){throw"Draw method not initialized for node";};a.prototype.resize=function(a){throw"Resize method not initialized for node";};a.prototype.isOverlappingWith=function(a){return this.left<a.right&&this.left+this.width>a.left&&this.top<a.bottom&&this.top+this.height>a.top};a.prototype._resizeImage=function(a){if(!this.width||!this.height){var b;this.value?(this.options.radius=this.baseRadiusValue,
b=this.imageObj.height/this.imageObj.width,void 0!==b?(a=this.options.radius||this.imageObj.width,b=this.options.radius*b||this.imageObj.height):b=a=0):(a=this.imageObj.width,b=this.imageObj.height);this.width=a;this.height=b;this.growthIndicator=0;0<this.width&&0<this.height&&(this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-
1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-a)}};a.prototype._drawImageAtPosition=function(a){if(0!=this.imageObj.width){if(1<this.clusterSize){var b=1<this.clusterSize?10:0,b=b*this.networkScaleInv,b=Math.min(.2*this.width,b);a.globalAlpha=.5;a.drawImage(this.imageObj,this.left-b,this.top-b,this.width+2*b,this.height+2*b)}a.globalAlpha=1;a.drawImage(this.imageObj,this.left,this.top,this.width,this.height)}};a.prototype._drawImageLabel=function(a){this._label(a,
this.label,this.x,0!=this.imageObj.width?this.y+this.height/2:this.y,void 0,"top")};a.prototype._drawImage=function(a){this._resizeImage(a);this.left=this.x-this.width/2;this.top=this.y-this.height/2;this._drawImageAtPosition(a);this.boundingBox.top=this.top;this.boundingBox.left=this.left;this.boundingBox.right=this.left+this.width;this.boundingBox.bottom=this.top+this.height;this._drawImageLabel(a);this.boundingBox.left=Math.min(this.boundingBox.left,this.labelDimensions.left);this.boundingBox.right=
Math.max(this.boundingBox.right,this.labelDimensions.left+this.labelDimensions.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelDimensions.height)};a.prototype._resizeCircularImage=function(a){this._resizeImage(a)};a.prototype._drawCircularImage=function(a){this._resizeCircularImage(a);this.left=this.x-this.width/2;this.top=this.y-this.height/2;var b=this.left+this.width/2,d=this.top+this.height/2,f=Math.abs(this.height/2);this._drawRawCircle(a,b,d,
f);a.save();a.circle(this.x,this.y,f);a.stroke();a.clip();this._drawImageAtPosition(a);a.restore();this.boundingBox.top=this.y-this.options.radius;this.boundingBox.left=this.x-this.options.radius;this.boundingBox.right=this.x+this.options.radius;this.boundingBox.bottom=this.y+this.options.radius;this._drawImageLabel(a);this.boundingBox.left=Math.min(this.boundingBox.left,this.labelDimensions.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelDimensions.left+this.labelDimensions.width);
this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelDimensions.height)};a.prototype._resizeBox=function(a){this.width||(a=this.getTextSize(a),this.width=a.width+10,this.height=a.height+10,this.width+=.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.growthIndicator=this.width-(a.width+10))};a.prototype._drawBox=function(a){this._resizeBox(a);
this.left=this.x-this.width/2;this.top=this.y-this.height/2;var b=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth;a.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border;1<this.clusterSize&&(a.lineWidth=(this.selected?d:b)+(1<this.clusterSize?2.5:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a.roundRect(this.left-2*a.lineWidth,this.top-2*a.lineWidth,
this.width+4*a.lineWidth,this.height+4*a.lineWidth,this.options.radius),a.stroke());a.lineWidth=(this.selected?d:b)+(1<this.clusterSize?2.5:0);a.lineWidth*=this.networkScaleInv;a.lineWidth=Math.min(this.width,a.lineWidth);a.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background;a.roundRect(this.left,this.top,this.width,this.height,this.options.radius);a.fill();a.stroke();this.boundingBox.top=this.top;this.boundingBox.left=
this.left;this.boundingBox.right=this.left+this.width;this.boundingBox.bottom=this.top+this.height;this._label(a,this.label,this.x,this.y)};a.prototype._resizeDatabase=function(a){this.width||(this.height=this.width=a=this.getTextSize(a).width+10,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*
this.clusterSizeRadiusFactor,this.growthIndicator=this.width-a)};a.prototype._drawDatabase=function(a){this._resizeDatabase(a);this.left=this.x-this.width/2;this.top=this.y-this.height/2;var b=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth;a.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border;1<this.clusterSize&&(a.lineWidth=(this.selected?d:b)+(1<this.clusterSize?2.5:0),a.lineWidth*=
this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a.database(this.x-this.width/2-2*a.lineWidth,this.y-.5*this.height-2*a.lineWidth,this.width+4*a.lineWidth,this.height+4*a.lineWidth),a.stroke());a.lineWidth=(this.selected?d:b)+(1<this.clusterSize?2.5:0);a.lineWidth*=this.networkScaleInv;a.lineWidth=Math.min(this.width,a.lineWidth);a.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background;a.database(this.x-
this.width/2,this.y-.5*this.height,this.width,this.height);a.fill();a.stroke();this.boundingBox.top=this.top;this.boundingBox.left=this.left;this.boundingBox.right=this.left+this.width;this.boundingBox.bottom=this.top+this.height;this._label(a,this.label,this.x,this.y)};a.prototype._resizeCircle=function(a){this.width||(a=this.getTextSize(a),a=Math.max(a.width,a.height)+10,this.options.radius=a/2,this.height=this.width=a,this.options.radius+=.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*
this.clusterSizeRadiusFactor,this.growthIndicator=this.options.radius-.5*a)};a.prototype._drawRawCircle=function(a,b,d,f){var l=this.options.borderWidth,k=this.options.borderWidthSelected||2*this.options.borderWidth;a.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border;1<this.clusterSize&&(a.lineWidth=(this.selected?k:l)+(1<this.clusterSize?2.5:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),
a.circle(b,d,f+2*a.lineWidth),a.stroke());a.lineWidth=(this.selected?k:l)+(1<this.clusterSize?2.5:0);a.lineWidth*=this.networkScaleInv;a.lineWidth=Math.min(this.width,a.lineWidth);a.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background;a.circle(this.x,this.y,f);a.fill();a.stroke()};a.prototype._drawCircle=function(a){this._resizeCircle(a);this.left=this.x-this.width/2;this.top=this.y-this.height/2;this._drawRawCircle(a,
this.x,this.y,this.options.radius);this.boundingBox.top=this.y-this.options.radius;this.boundingBox.left=this.x-this.options.radius;this.boundingBox.right=this.x+this.options.radius;this.boundingBox.bottom=this.y+this.options.radius;this._label(a,this.label,this.x,this.y)};a.prototype._resizeEllipse=function(a){this.width||(a=this.getTextSize(a),this.width=1.5*a.width,this.height=2*a.height,this.width<this.height&&(this.width=this.height),a=this.width,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*
this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-a)};a.prototype._drawEllipse=function(a){this._resizeEllipse(a);this.left=this.x-this.width/2;this.top=this.y-this.height/2;var b=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth;a.strokeStyle=this.selected?
this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border;1<this.clusterSize&&(a.lineWidth=(this.selected?d:b)+(1<this.clusterSize?2.5:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a.ellipse(this.left-2*a.lineWidth,this.top-2*a.lineWidth,this.width+4*a.lineWidth,this.height+4*a.lineWidth),a.stroke());a.lineWidth=(this.selected?d:b)+(1<this.clusterSize?2.5:0);a.lineWidth*=this.networkScaleInv;a.lineWidth=Math.min(this.width,
a.lineWidth);a.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background;a.ellipse(this.left,this.top,this.width,this.height);a.fill();a.stroke();this.boundingBox.top=this.top;this.boundingBox.left=this.left;this.boundingBox.right=this.left+this.width;this.boundingBox.bottom=this.top+this.height;this._label(a,this.label,this.x,this.y)};a.prototype._drawDot=function(a){this._drawShape(a,"circle")};a.prototype._drawTriangle=
function(a){this._drawShape(a,"triangle")};a.prototype._drawTriangleDown=function(a){this._drawShape(a,"triangleDown")};a.prototype._drawSquare=function(a){this._drawShape(a,"square")};a.prototype._drawStar=function(a){this._drawShape(a,"star")};a.prototype._resizeShape=function(a){this.width||(this.options.radius=this.baseRadiusValue,this.height=this.width=a=2*this.options.radius,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-
1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-a)};a.prototype._drawShape=function(a,b){this._resizeShape(a);this.left=this.x-this.width/2;this.top=this.y-this.height/2;var d=this.options.borderWidth,f=this.options.borderWidthSelected||2*this.options.borderWidth,l=2;switch(b){case "dot":l=2;break;case "square":l=2;break;case "triangle":l=3;break;
case "triangleDown":l=3;break;case "star":l=4}a.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border;1<this.clusterSize&&(a.lineWidth=(this.selected?f:d)+(1<this.clusterSize?2.5:0),a.lineWidth*=this.networkScaleInv,a.lineWidth=Math.min(this.width,a.lineWidth),a[b](this.x,this.y,this.options.radius+l*a.lineWidth),a.stroke());a.lineWidth=(this.selected?f:d)+(1<this.clusterSize?2.5:0);a.lineWidth*=this.networkScaleInv;a.lineWidth=
Math.min(this.width,a.lineWidth);a.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background;a[b](this.x,this.y,this.options.radius);a.fill();a.stroke();this.boundingBox.top=this.y-this.options.radius;this.boundingBox.left=this.x-this.options.radius;this.boundingBox.right=this.x+this.options.radius;this.boundingBox.bottom=this.y+this.options.radius;this.label&&(this._label(a,this.label,this.x,this.y+this.height/2,void 0,
"top",!0),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelDimensions.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelDimensions.left+this.labelDimensions.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelDimensions.height))};a.prototype._resizeText=function(a){this.width||(a=this.getTextSize(a),this.width=a.width+10,this.height=a.height+10,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,
this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-(a.width+10))};a.prototype._drawText=function(a){this._resizeText(a);this.left=this.x-this.width/2;this.top=this.y-this.height/2;this._label(a,this.label,this.x,this.y);this.boundingBox.top=this.top;this.boundingBox.left=this.left;this.boundingBox.right=this.left+this.width;
this.boundingBox.bottom=this.top+this.height};a.prototype._label=function(a,b,d,f,l,k,h){if(b&&Number(this.options.fontSize)*this.networkScale>this.fontDrawThreshold){a.font=(this.selected?"bold ":"")+this.options.fontSize+"px "+this.options.fontFace;b=b.split("\n");var g=b.length,p=Number(this.options.fontSize)+4,m=f+(1-g)/2*p;1==h&&(m=f+(1-g)/(2*p));h=a.measureText(b[0]).width;for(var u=1;u<g;u++){var v=a.measureText(b[u]).width;h=v>h?v:h}u=this.options.fontSize*g;v=d-h/2;f-=u/2;"top"==k&&(f+=.5*
p);this.labelDimensions={top:f,left:v,width:h,height:u,yLine:m};void 0!==this.options.fontFill&&null!==this.options.fontFill&&"none"!==this.options.fontFill&&(a.fillStyle=this.options.fontFill,a.fillRect(v,f,h,u));a.fillStyle=this.options.fontColor||"black";a.textAlign=l||"center";a.textBaseline=k||"middle";for(u=0;u<g;u++)a.fillText(b[u],d,m),m+=p}};a.prototype.getTextSize=function(a){if(void 0!==this.label){a.font=(this.selected?"bold ":"")+this.options.fontSize+"px "+this.options.fontFace;for(var b=
this.label.split("\n"),d=(Number(this.options.fontSize)+4)*b.length,f=0,l=0,k=b.length;l<k;l++)f=Math.max(f,a.measureText(b[l]).width);return{width:f,height:d}}return{width:0,height:0}};a.prototype.inArea=function(){return void 0!==this.width?this.x+this.width*this.networkScaleInv>=this.canvasTopLeft.x&&this.x-this.width*this.networkScaleInv<this.canvasBottomRight.x&&this.y+this.height*this.networkScaleInv>=this.canvasTopLeft.y&&this.y-this.height*this.networkScaleInv<this.canvasBottomRight.y:!0};
a.prototype.inView=function(){return this.x>=this.canvasTopLeft.x&&this.x<this.canvasBottomRight.x&&this.y>=this.canvasTopLeft.y&&this.y<this.canvasBottomRight.y};a.prototype.setScaleAndPos=function(a,b,d){this.networkScaleInv=1/a;this.networkScale=a;this.canvasTopLeft=b;this.canvasBottomRight=d};a.prototype.setScale=function(a){this.networkScaleInv=1/a;this.networkScale=a};a.prototype.clearVelocity=function(){this.vy=this.vx=0};a.prototype.updateVelocity=function(a){var b=this.vx*this.vx*a;this.vx=
Math.sqrt(b/this.options.mass);b=this.vy*this.vy*a;this.vy=Math.sqrt(b/this.options.mass)};q.exports=a},function(q,g,m){function a(a,c,b,e,f){this.container=a?a:document.body;void 0===f&&("object"===typeof c?(f=c,c=void 0):"object"===typeof e?(f=e,e=void 0):f={fontColor:"black",fontSize:14,fontFace:"verdana",color:{border:"#666",background:"#FFFFC6"}});this.y=this.x=0;this.padding=5;void 0!==c&&void 0!==b&&this.setPosition(c,b);void 0!==e&&this.setText(e);this.frame=document.createElement("div");
a=this.frame.style;a.position="absolute";a.visibility="hidden";a.border="1px solid "+f.color.border;a.color=f.fontColor;a.fontSize=f.fontSize+"px";a.fontFamily=f.fontFace;a.padding=this.padding+"px";a.backgroundColor=f.color.background;a.borderRadius="3px";a.MozBorderRadius="3px";a.WebkitBorderRadius="3px";a.boxShadow="3px 3px 10px rgba(128, 128, 128, 0.5)";a.whiteSpace="nowrap";this.container.appendChild(this.frame)}a.prototype.setPosition=function(a,c){this.x=parseInt(a);this.y=parseInt(c)};a.prototype.setText=
function(a){a instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(a)):this.frame.innerHTML=a};a.prototype.show=function(a){void 0===a&&(a=!0);if(a){var c=this.frame.clientHeight;a=this.frame.clientWidth;var b=this.frame.parentNode.clientHeight,e=this.frame.parentNode.clientWidth,f=this.y-c;f+c+this.padding>b&&(f=b-c-this.padding);f<this.padding&&(f=this.padding);c=this.x;c+a+this.padding>e&&(c=e-a-this.padding);c<this.padding&&(c=this.padding);this.frame.style.left=c+"px";this.frame.style.top=
f+"px";this.frame.style.visibility="visible"}else this.hide()};a.prototype.hide=function(){this.frame.style.visibility="hidden"};q.exports=a},function(q,g,m){function a(a){z=a;a={};D=0;w=z.charAt(0);l();"strict"==x&&(a.strict=!0,l());if("graph"==x||"digraph"==x)a.type=x,l();A==B.IDENTIFIER&&(a.id=x,l());if("{"!=x)throw u("Angle bracket { expected");l();k(a);if("}"!=x)throw u("Angle bracket } expected");l();if(""!==x)throw u("End of file expected");l();delete a.node;delete a.edge;delete a.graph;return a}
function d(){D++;w=z.charAt(D)}function c(){return z.charAt(D+1)}function b(a,b){a||(a={});if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function e(a,c){for(var d,e,f=null,h=[a],l=a;l.parent;)h.push(l.parent),l=l.parent;if(l.nodes)for(d=0,e=l.nodes.length;d<e;d++)if(c.id===l.nodes[d].id){f=l.nodes[d];break}f||(f={id:c.id},a.node&&(f.attr=b(f.attr,a.node)));for(d=h.length-1;0<=d;d--)e=h[d],e.nodes||(e.nodes=[]),-1==e.nodes.indexOf(f)&&e.nodes.push(f);c.attr&&(f.attr=b(f.attr,c.attr))}
function f(a,c,d,e,f){c={from:c,to:d,type:e};a.edge&&(c.attr=b({},a.edge));c.attr=b(c.attr||{},f);return c}function l(){A=B.NULL;for(x="";" "==w||"\t"==w||"\n"==w||"\r"==w;)d();do{var a=!1;if("#"==w){for(var b=D-1;" "==z.charAt(b)||"\t"==z.charAt(b);)b--;if("\n"==z.charAt(b)||""==z.charAt(b)){for(;""!=w&&"\n"!=w;)d();a=!0}}if("/"==w&&"/"==c()){for(;""!=w&&"\n"!=w;)d();a=!0}if("/"==w&&"*"==c()){for(;""!=w;)if("*"==w&&"/"==c()){d();d();break}else d();a=!0}for(;" "==w||"\t"==w||"\n"==w||"\r"==w;)d()}while(a);
if(""==w)A=B.DELIMITER;else if(a=w+c(),y[a])A=B.DELIMITER,x=a,d(),d();else if(y[w])A=B.DELIMITER,x=w,d();else if(E.test(w)||"-"==w){x+=w;for(d();E.test(w);)x+=w,d();"false"==x?x=!1:"true"==x?x=!0:isNaN(Number(x))||(x=Number(x));A=B.IDENTIFIER}else if('"'==w){for(d();""!=w&&('"'!=w||'"'==w&&'"'==c());)x+=w,'"'==w&&d(),d();if('"'!=w)throw u('End of string " expected');d();A=B.IDENTIFIER}else{for(A=B.UNKNOWN;""!=w;)x+=w,d();throw new SyntaxError('Syntax error in part "'+(30>=x.length?x:x.substr(0,27)+
"...")+'"');}}function k(a){for(;""!==x&&"}"!=x;){var b=a,c=h(b);if(c)p(b,c);else if(!n(b)){if(A!=B.IDENTIFIER)throw u("Identifier expected");c=x;l();if("="==x){l();if(A!=B.IDENTIFIER)throw u("Identifier expected");b[c]=x;l()}else{var d={id:c},f=r();f&&(d.attr=f);e(b,d);p(b,c)}}";"==x&&l()}}function h(a){var b=null;"subgraph"==x&&(b={type:"subgraph"},l(),A==B.IDENTIFIER&&(b.id=x,l()));if("{"==x){l();b||(b={});b.parent=a;b.node=a.node;b.edge=a.edge;b.graph=a.graph;k(b);if("}"!=x)throw u("Angle bracket } expected");
l();delete b.node;delete b.edge;delete b.graph;delete b.parent;a.subgraphs||(a.subgraphs=[]);a.subgraphs.push(b)}return b}function n(a){return"node"==x?(l(),a.node=r(),"node"):"edge"==x?(l(),a.edge=r(),"edge"):"graph"==x?(l(),a.graph=r(),"graph"):null}function p(a,c){for(;"->"==x||"--"==x;){var d,k=x;l();d=h(a);if(!d){if(A!=B.IDENTIFIER)throw u("Identifier or subgraph expected");d=x;e(a,{id:d});l()}var g=r(),g=f(a,c,d,k,g),k=a;k.edges||(k.edges=[]);k.edges.push(g);k.edge&&(k=b({},k.edge),g.attr=b(k,
g.attr));c=d}}function r(){for(var a=null;"["==x;){l();for(a={};""!==x&&"]"!=x;){if(A!=B.IDENTIFIER)throw u("Attribute name expected");var b=x;l();if("="!=x)throw u("Equal sign = expected");l();if(A!=B.IDENTIFIER)throw u("Attribute value expected");for(var c=a,d=x,b=b.split(".");b.length;){var e=b.shift();b.length?(c[e]||(c[e]={}),c=c[e]):c[e]=d}l();","==x&&l()}if("]"!=x)throw u("Bracket ] expected");l()}return a}function u(a){return new SyntaxError(a+', got "'+(30>=x.length?x:x.substr(0,27)+"...")+
'" (char '+D+")")}function v(a,b,c){Array.isArray(a)?a.forEach(function(a){Array.isArray(b)?b.forEach(function(b){c(a,b)}):c(a,b)}):Array.isArray(b)?b.forEach(function(b){c(a,b)}):c(a,b)}var B={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},y={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},z="",D=0,w="",x="",A=B.NULL,E=/[a-zA-Z_0-9.:#]/;g.parseDOT=a;g.DOTToGraph=function(c){c=a(c);var d={nodes:[],edges:[],options:{}};c.nodes&&c.nodes.forEach(function(a){var c={id:a.id,label:String(a.label||
a.id)};b(c,a.attr);c.image&&(c.shape="image");d.nodes.push(c)});if(c.edges){var e=function(a){var c={from:a.from,to:a.to};b(c,a.attr);c.style="->"==a.type?"arrow":"line";return c};c.edges.forEach(function(a){var b,c;b=a.from instanceof Object?a.from.nodes:{id:a.from};c=a.to instanceof Object?a.to.nodes:{id:a.to};a.from instanceof Object&&a.from.edges&&a.from.edges.forEach(function(a){a=e(a);d.edges.push(a)});v(b,c,function(b,c){var h=f(d,b.id,c.id,a.type,a.attr),h=e(h);d.edges.push(h)});a.to instanceof
Object&&a.to.edges&&a.to.edges.forEach(function(a){a=e(a);d.edges.push(a)})})}c.attr&&(d.options=c.attr);return d}},function(q,g,m){g.parseGephi=function(a,d){var c=[],b=[];this.options={edges:{inheritColor:!0},nodes:{allowedToMove:!1,parseColor:!1}};void 0!==d&&(this.options.nodes.allowedToMove=d.allowedToMove|0,this.options.nodes.parseColor=d.parseColor|0,this.options.edges.inheritColor=d.inheritColor|1);for(var e=a.edges,f=a.nodes,l=0;l<e.length;l++){var k={},h=e[l];k.id=h.id;k.from=h.source;k.to=
h.target;k.attributes=h.attributes;k.color=h.color;k.inheritColor=void 0!==k.color?!1:this.options.inheritColor;c.push(k)}for(l=0;l<f.length;l++)e={},k=f[l],e.id=k.id,e.attributes=k.attributes,e.x=k.x,e.y=k.y,e.label=k.label,e.color=1==this.options.nodes.parseColor?k.color:void 0!==k.color?{background:k.color,border:k.color}:void 0,e.radius=k.size,e.allowedToMoveX=this.options.nodes.allowedToMove,e.allowedToMoveY=this.options.nodes.allowedToMove,b.push(e);return{nodes:b,edges:c}}},function(q,g,m){q.exports=
"undefined"!==typeof window&&window.moment||m(58)},function(q,g,m){q.exports="undefined"!==typeof window?window.Hammer||m(59):function(){throw Error("hammer.js is only available in a browser, not in node.js.");}},function(q,g,m){function a(){}g=m(56);var d=m(45),c=m(1);m(3);m(4);m(17);m(27);var b=m(55),e=m(15);g(a.prototype);a.prototype._create=function(a){this.dom={};this.dom.root=document.createElement("div");this.dom.background=document.createElement("div");this.dom.backgroundVertical=document.createElement("div");
this.dom.backgroundHorizontal=document.createElement("div");this.dom.centerContainer=document.createElement("div");this.dom.leftContainer=document.createElement("div");this.dom.rightContainer=document.createElement("div");this.dom.center=document.createElement("div");this.dom.left=document.createElement("div");this.dom.right=document.createElement("div");this.dom.top=document.createElement("div");this.dom.bottom=document.createElement("div");this.dom.shadowTop=document.createElement("div");this.dom.shadowBottom=
document.createElement("div");this.dom.shadowTopLeft=document.createElement("div");this.dom.shadowBottomLeft=document.createElement("div");this.dom.shadowTopRight=document.createElement("div");this.dom.shadowBottomRight=document.createElement("div");this.dom.root.className="vis timeline root";this.dom.background.className="vispanel background";this.dom.backgroundVertical.className="vispanel background vertical";this.dom.backgroundHorizontal.className="vispanel background horizontal";this.dom.centerContainer.className=
"vispanel center";this.dom.leftContainer.className="vispanel left";this.dom.rightContainer.className="vispanel right";this.dom.top.className="vispanel top";this.dom.bottom.className="vispanel bottom";this.dom.left.className="content";this.dom.center.className="content";this.dom.right.className="content";this.dom.shadowTop.className="shadow top";this.dom.shadowBottom.className="shadow bottom";this.dom.shadowTopLeft.className="shadow top";this.dom.shadowBottomLeft.className="shadow bottom";this.dom.shadowTopRight.className=
"shadow top";this.dom.shadowBottomRight.className="shadow bottom";this.dom.root.appendChild(this.dom.background);this.dom.root.appendChild(this.dom.backgroundVertical);this.dom.root.appendChild(this.dom.backgroundHorizontal);this.dom.root.appendChild(this.dom.centerContainer);this.dom.root.appendChild(this.dom.leftContainer);this.dom.root.appendChild(this.dom.rightContainer);this.dom.root.appendChild(this.dom.top);this.dom.root.appendChild(this.dom.bottom);this.dom.centerContainer.appendChild(this.dom.center);
this.dom.leftContainer.appendChild(this.dom.left);this.dom.rightContainer.appendChild(this.dom.right);this.dom.centerContainer.appendChild(this.dom.shadowTop);this.dom.centerContainer.appendChild(this.dom.shadowBottom);this.dom.leftContainer.appendChild(this.dom.shadowTopLeft);this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft);this.dom.rightContainer.appendChild(this.dom.shadowTopRight);this.dom.rightContainer.appendChild(this.dom.shadowBottomRight);this.on("rangechange",this.redraw.bind(this));
this.on("touch",this._onTouch.bind(this));this.on("pinch",this._onPinch.bind(this));this.on("dragstart",this._onDragStart.bind(this));this.on("drag",this._onDrag.bind(this));var b=this;this.on("change",function(a){a&&1==a.queue?b._redrawTimer||(b._redrawTimer=setTimeout(function(){b._redrawTimer=null;b.redraw()},0)):b.redraw()});this.hammer=d(this.dom.root,{preventDefault:!0});this.listeners={};"touch pinch tap doubletap hold dragstart drag dragend mousewheel DOMMouseScroll".split(" ").forEach(function(a){var c=
function(){var c=[a].concat(Array.prototype.slice.call(arguments,0));b.isActive()&&b.emit.apply(b,c)};b.hammer.on(a,c);b.listeners[a]=c});this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0};this.touch={};this.redrawCount=0;if(!a)throw Error("No container provided");a.appendChild(this.dom.root)};a.prototype.setOptions=function(a){a&&(c.selectiveExtend("width height minHeight maxHeight autoResize start end orientation clickToUse dataAttributes hiddenDates".split(" "),
this.options,a),"hiddenDates"in this.options&&e.convertHiddenOptions(this.body,this.options.hiddenDates),"clickToUse"in a&&(a.clickToUse?this.activator||(this.activator=new b(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize());this.components.forEach(function(b){b.setOptions(a)});if(a&&a.order)throw Error("Option order is deprecated. There is no replacement for this feature.");this.redraw()};a.prototype.isActive=function(){return!this.activator||
this.activator.active};a.prototype.destroy=function(){this.clear();this.off();this._stopAutoResize();this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root);this.dom=null;this.activator&&(this.activator.destroy(),delete this.activator);for(var a in this.listeners)this.listeners.hasOwnProperty(a)&&delete this.listeners[a];this.hammer=this.listeners=null;this.components.forEach(function(a){a.destroy()});this.body=null};a.prototype.setCustomTime=function(a){if(!this.customTime)throw Error("Cannot get custom time: Custom time bar is not enabled");
this.customTime.setCustomTime(a)};a.prototype.getCustomTime=function(){if(!this.customTime)throw Error("Cannot get custom time: Custom time bar is not enabled");return this.customTime.getCustomTime()};a.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]};a.prototype.clear=function(a){a&&!a.items||this.setItems(null);a&&!a.groups||this.setGroups(null);if(!a||a.options)this.components.forEach(function(a){a.setOptions(a.defaultOptions)}),this.setOptions(this.defaultOptions)};
a.prototype.fit=function(a){var b=this._getDataRange();null===b.start&&null===b.end||this.range.setRange(b.start,b.end,a&&void 0!==a.animate?a.animate:!0)};a.prototype._getDataRange=function(){var a=this.getItemRange(),b=a.min,a=a.max;if(null!=b&&null!=a){var c=a.valueOf()-b.valueOf();0>=c&&(c=864E5);b=new Date(b.valueOf()-.05*c);a=new Date(a.valueOf()+.05*c)}return{start:b,end:a}};a.prototype.setWindow=function(a,b,c){var d=c&&void 0!==c.animate?c.animate:!0;if(1==arguments.length){var e=arguments[0];
this.range.setRange(e.start,e.end,d)}else this.range.setRange(a,b,d)};a.prototype.moveTo=function(a,b){var d=this.range.end-this.range.start,e=c.convert(a,"Date").valueOf();this.range.setRange(e-d/2,e+d/2,b&&void 0!==b.animate?b.animate:!0)};a.prototype.getWindow=function(){var a=this.range.getRange();return{start:new Date(a.start),end:new Date(a.end)}};a.prototype.redraw=function(){var a=!1,b=this.options,d=this.props,h=this.dom;if(h){e.updateHiddenDates(this.body,this.options.hiddenDates);"top"==
b.orientation?(c.addClassName(h.root,"top"),c.removeClassName(h.root,"bottom")):(c.removeClassName(h.root,"top"),c.addClassName(h.root,"bottom"));h.root.style.maxHeight=c.option.asSize(b.maxHeight,"");h.root.style.minHeight=c.option.asSize(b.minHeight,"");h.root.style.width=c.option.asSize(b.width,"");d.border.left=(h.centerContainer.offsetWidth-h.centerContainer.clientWidth)/2;d.border.right=d.border.left;d.border.top=(h.centerContainer.offsetHeight-h.centerContainer.clientHeight)/2;d.border.bottom=
d.border.top;var g=h.root.offsetHeight-h.root.clientHeight,p=h.root.offsetWidth-h.root.clientWidth;0===h.centerContainer.clientHeight&&(d.border.left=d.border.top,d.border.right=d.border.left);0===h.root.clientHeight&&(p=g);d.center.height=h.center.offsetHeight;d.left.height=h.left.offsetHeight;d.right.height=h.right.offsetHeight;d.top.height=h.top.clientHeight||-d.border.top;d.bottom.height=h.bottom.clientHeight||-d.border.bottom;var m=Math.max(d.left.height,d.center.height,d.right.height);h.root.style.height=
c.option.asSize(b.height,d.top.height+m+d.bottom.height+g+d.border.top+d.border.bottom+"px");d.root.height=h.root.offsetHeight;d.background.height=d.root.height-g;g=d.root.height-d.top.height-d.bottom.height-g;d.centerContainer.height=g;d.leftContainer.height=g;d.rightContainer.height=d.leftContainer.height;d.root.width=h.root.offsetWidth;d.background.width=d.root.width-p;d.left.width=h.leftContainer.clientWidth||-d.border.left;d.leftContainer.width=d.left.width;d.right.width=h.rightContainer.clientWidth||
-d.border.right;d.rightContainer.width=d.right.width;p=d.root.width-d.left.width-d.right.width-p;d.center.width=p;d.centerContainer.width=p;d.top.width=p;d.bottom.width=p;h.background.style.height=d.background.height+"px";h.backgroundVertical.style.height=d.background.height+"px";h.backgroundHorizontal.style.height=d.centerContainer.height+"px";h.centerContainer.style.height=d.centerContainer.height+"px";h.leftContainer.style.height=d.leftContainer.height+"px";h.rightContainer.style.height=d.rightContainer.height+
"px";h.background.style.width=d.background.width+"px";h.backgroundVertical.style.width=d.centerContainer.width+"px";h.backgroundHorizontal.style.width=d.background.width+"px";h.centerContainer.style.width=d.center.width+"px";h.top.style.width=d.top.width+"px";h.bottom.style.width=d.bottom.width+"px";h.background.style.left="0";h.background.style.top="0";h.backgroundVertical.style.left=d.left.width+d.border.left+"px";h.backgroundVertical.style.top="0";h.backgroundHorizontal.style.left="0";h.backgroundHorizontal.style.top=
d.top.height+"px";h.centerContainer.style.left=d.left.width+"px";h.centerContainer.style.top=d.top.height+"px";h.leftContainer.style.left="0";h.leftContainer.style.top=d.top.height+"px";h.rightContainer.style.left=d.left.width+d.center.width+"px";h.rightContainer.style.top=d.top.height+"px";h.top.style.left=d.left.width+"px";h.top.style.top="0";h.bottom.style.left=d.left.width+"px";h.bottom.style.top=d.top.height+d.centerContainer.height+"px";this._updateScrollTop();d=this.props.scrollTop;"bottom"==
b.orientation&&(d+=Math.max(this.props.centerContainer.height-this.props.center.height-this.props.border.top-this.props.border.bottom,0));h.center.style.left="0";h.center.style.top=d+"px";h.left.style.left="0";h.left.style.top=d+"px";h.right.style.left="0";h.right.style.top=d+"px";b=0==this.props.scrollTop?"hidden":"";d=this.props.scrollTop==this.props.scrollTopMin?"hidden":"";h.shadowTop.style.visibility=b;h.shadowBottom.style.visibility=d;h.shadowTopLeft.style.visibility=b;h.shadowBottomLeft.style.visibility=
d;h.shadowTopRight.style.visibility=b;h.shadowBottomRight.style.visibility=d;this.components.forEach(function(b){a=b.redraw()||a});if(a){if(3>this.redrawCount)this.redrawCount++,this.redraw();else throw console.log("WARNING: infinite loop in redraw?"),Error("bla");this.redrawCount=0}this.emit("finishedRedraw")}};a.prototype.repaint=function(){throw Error("Function repaint is deprecated. Use redraw instead.");};a.prototype.setCurrentTime=function(a){if(!this.currentTime)throw Error("Option showCurrentTime must be true");
this.currentTime.setCurrentTime(a)};a.prototype.getCurrentTime=function(){if(!this.currentTime)throw Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()};a.prototype._toTime=function(a){return e.toTime(this,a,this.props.center.width)};a.prototype._toGlobalTime=function(a){return e.toTime(this,a,this.props.root.width)};a.prototype._toScreen=function(a){return e.toScreen(this,a,this.props.center.width)};a.prototype._toGlobalScreen=function(a){return e.toScreen(this,
a,this.props.root.width)};a.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()};a.prototype._startAutoResize=function(){var a=this;this._stopAutoResize();this._onResize=function(){1!=a.options.autoResize?a._stopAutoResize():!a.dom.root||a.dom.root.offsetWidth==a.props.lastWidth&&a.dom.root.offsetHeight==a.props.lastHeight||(a.props.lastWidth=a.dom.root.offsetWidth,a.props.lastHeight=a.dom.root.offsetHeight,a.emit("change"))};c.addEventListener(window,
"resize",this._onResize);this.watchTimer=setInterval(this._onResize,1E3)};a.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0);c.removeEventListener(window,"resize",this._onResize);this._onResize=null};a.prototype._onTouch=function(a){this.touch.allowDragging=!0};a.prototype._onPinch=function(a){this.touch.allowDragging=!1};a.prototype._onDragStart=function(a){this.touch.initialScrollTop=this.props.scrollTop};a.prototype._onDrag=function(a){if(this.touch.allowDragging){a=
a.gesture.deltaY;var b=this._getScrollTop();this._setScrollTop(this.touch.initialScrollTop+a)!=b&&(this.redraw(),this.emit("verticalDrag"))}};a.prototype._setScrollTop=function(a){this.props.scrollTop=a;this._updateScrollTop();return this.props.scrollTop};a.prototype._updateScrollTop=function(){var a=Math.min(this.props.centerContainer.height-this.props.center.height,0);a!=this.props.scrollTopMin&&("bottom"==this.options.orientation&&(this.props.scrollTop+=a-this.props.scrollTopMin),this.props.scrollTopMin=
a);0<this.props.scrollTop&&(this.props.scrollTop=0);this.props.scrollTop<a&&(this.props.scrollTop=a);return this.props.scrollTop};a.prototype._getScrollTop=function(){return this.props.scrollTop};q.exports=a},function(q,g,m){var a=m(45);g.fakeGesture=function(d,c){var b=a.event.getTouchList(c,null),b=a.event.collectEventData(this,null,b,c);isNaN(b.center.pageX)&&(b.center.pageX=c.pageX);isNaN(b.center.pageY)&&(b.center.pageY=c.pageY);return b}},function(q,g,m){g.en={current:"current",time:"time"};
g.en_EN=g.en;g.en_US=g.en;g.nl={custom:"aangepaste",time:"tijd"};g.nl_NL=g.nl;g.nl_BE=g.nl},function(q,g,m){g.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",
deleteClusterError:"Clusters cannot be deleted."};g.en_EN=g.en;g.en_US=g.en;g.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",
createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd."};g.nl_NL=g.nl;g.nl_BE=g.nl},function(q,g,m){"undefined"!==typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(a,d,c){this.beginPath();this.arc(a,d,c,0,2*Math.PI,!1)},CanvasRenderingContext2D.prototype.square=function(a,d,c){this.beginPath();this.rect(a-c,d-c,2*c,2*c)},CanvasRenderingContext2D.prototype.triangle=function(a,d,c){this.beginPath();var b=
2*c;c=b/2;var e=Math.sqrt(3)/6*b,b=Math.sqrt(b*b-c*c);this.moveTo(a,d-(b-e));this.lineTo(a+c,d+e);this.lineTo(a-c,d+e);this.lineTo(a,d-(b-e));this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(a,d,c){this.beginPath();var b=2*c;c=b/2;var e=Math.sqrt(3)/6*b,b=Math.sqrt(b*b-c*c);this.moveTo(a,d+(b-e));this.lineTo(a+c,d-e);this.lineTo(a-c,d-e);this.lineTo(a,d+(b-e));this.closePath()},CanvasRenderingContext2D.prototype.star=function(a,d,c){this.beginPath();for(var b=0;10>b;b++){var e=
0===b%2?1.3*c:.5*c;this.lineTo(a+e*Math.sin(2*b*Math.PI/10),d-e*Math.cos(2*b*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(a,d,c,b,e){var f=Math.PI/180;0>c-2*e&&(e=c/2);0>b-2*e&&(e=b/2);this.beginPath();this.moveTo(a+e,d);this.lineTo(a+c-e,d);this.arc(a+c-e,d+e,e,270*f,360*f,!1);this.lineTo(a+c,d+b-e);this.arc(a+c-e,d+b-e,e,0,90*f,!1);this.lineTo(a+e,d+b);this.arc(a+e,d+b-e,e,90*f,180*f,!1);this.lineTo(a,d+e);this.arc(a+e,d+e,e,180*f,270*f,!1)},CanvasRenderingContext2D.prototype.ellipse=
function(a,d,c,b){var e=c/2*.5522848,f=b/2*.5522848,g=a+c,k=d+b;c=a+c/2;b=d+b/2;this.beginPath();this.moveTo(a,b);this.bezierCurveTo(a,b-f,c-e,d,c,d);this.bezierCurveTo(c+e,d,g,b-f,g,b);this.bezierCurveTo(g,b+f,c+e,k,c,k);this.bezierCurveTo(c-e,k,a,b+f,a,b)},CanvasRenderingContext2D.prototype.database=function(a,d,c,b){var e=1/3*b,f=c/2*.5522848,g=e/2*.5522848,k=a+c,h=d+e;c=a+c/2;var n=d+e/2,e=d+(b-e/2);b=d+b;this.beginPath();this.moveTo(k,n);this.bezierCurveTo(k,n+g,c+f,h,c,h);this.bezierCurveTo(c-
f,h,a,n+g,a,n);this.bezierCurveTo(a,n-g,c-f,d,c,d);this.bezierCurveTo(c+f,d,k,n-g,k,n);this.lineTo(k,e);this.bezierCurveTo(k,e+g,c+f,b,c,b);this.bezierCurveTo(c-f,b,a,e+g,a,e);this.lineTo(a,n)},CanvasRenderingContext2D.prototype.arrow=function(a,d,c,b){var e=a-b*Math.cos(c),f=d-b*Math.sin(c),g=a-.9*b*Math.cos(c),k=d-.9*b*Math.sin(c),h=e+b/3*Math.cos(c+.5*Math.PI),n=f+b/3*Math.sin(c+.5*Math.PI),e=e+b/3*Math.cos(c-.5*Math.PI);c=f+b/3*Math.sin(c-.5*Math.PI);this.beginPath();this.moveTo(a,d);this.lineTo(h,
n);this.lineTo(g,k);this.lineTo(e,c);this.closePath()},CanvasRenderingContext2D.prototype.dashedLine=function(a,d,c,b,e){e||(e=[10,5]);var f=e.length;this.moveTo(a,d);c-=a;var g=b-d;b=g/c;for(var g=Math.sqrt(c*c+g*g),k=0,h=!0;.1<=g;){var n=e[k++%f];n>g&&(n=g);var p=Math.sqrt(n*n/(1+b*b));0>c&&(p=-p);a+=p;d+=b*p;this[h?"lineTo":"moveTo"](a,d);g-=n;h=!h}})},function(q,g,m){function a(a,c){this.groupId=a;this.options=c}var d=m(2),c=m(53);a.prototype.getYRange=function(a){for(var c=a[0].y,d=a[0].y,g=
0;g<a.length;g++)c=c>a[g].y?a[g].y:c,d=d<a[g].y?a[g].y:d;return{min:c,max:d,yAxisOrientation:this.options.yAxisOrientation}};a.prototype.draw=function(b,e,f){if(null!=b&&0<b.length){var g,k,h=Number(f.svg.style.height.replace("px",""));g=d.getSVGElement("path",f.svgElements,f.svg);g.setAttributeNS(null,"class",e.className);void 0!==e.style&&g.setAttributeNS(null,"style",e.style);k=1==e.options.catmullRom.enabled?a._catmullRom(b,e):a._linear(b);if(1==e.options.shaded.enabled){var n=d.getSVGElement("path",
f.svgElements,f.svg),h="top"==e.options.shaded.orientation?"M"+b[0].x+",0 "+k+"L"+b[b.length-1].x+",0":"M"+b[0].x+","+h+" "+k+"L"+b[b.length-1].x+","+h;n.setAttributeNS(null,"class",e.className+" fill");void 0!==e.options.shaded.style&&n.setAttributeNS(null,"style",e.options.shaded.style);n.setAttributeNS(null,"d",h)}g.setAttributeNS(null,"d","M"+k);1==e.options.drawPoints.enabled&&c.draw(b,e,f)}};a._catmullRomUniform=function(a){for(var c,d,g,k,h,n,p=Math.round(a[0].x)+","+Math.round(a[0].y)+" ",
m=1/6,u=a.length,v=0;v<u-1;v++)c=0==v?a[0]:a[v-1],d=a[v],h=a[v+1],n=v+2<u?a[v+2]:h,g=(-c.x+6*d.x+h.x)*m,k=(-c.y+6*d.y+h.y)*m,c=(d.x+6*h.x-n.x)*m,d=(d.y+6*h.y-n.y)*m,p+="C"+g+","+k+" "+c+","+d+" "+h.x+","+h.y+" ";return p};a._catmullRom=function(a,c){var d=c.options.catmullRom.alpha;if(0==d||void 0===d)return this._catmullRomUniform(a);for(var g,k,h,n,p,m,u,v,q,y,z,D,w=Math.round(a[0].x)+","+Math.round(a[0].y)+" ",x=a.length,A=0;A<x-1;A++)g=0==A?a[0]:a[A-1],k=a[A],h=a[A+1],n=A+2<x?a[A+2]:h,p=Math.sqrt(Math.pow(g.x-
k.x,2)+Math.pow(g.y-k.y,2)),m=Math.sqrt(Math.pow(k.x-h.x,2)+Math.pow(k.y-h.y,2)),u=Math.sqrt(Math.pow(h.x-n.x,2)+Math.pow(h.y-n.y,2)),y=Math.pow(u,d),u=Math.pow(u,2*d),z=Math.pow(m,d),m=Math.pow(m,2*d),q=Math.pow(p,d),D=Math.pow(p,2*d),v=2*D+3*q*z+m,p=2*u+3*y*z+m,q=3*q*(q+z),0<q&&(q=1/q),y=3*y*(y+z),0<y&&(y=1/y),g={x:(-m*g.x+v*k.x+D*h.x)*q,y:(-m*g.y+v*k.y+D*h.y)*q},n={x:(u*k.x+p*h.x-m*n.x)*y,y:(u*k.y+p*h.y-m*n.y)*y},0==g.x&&0==g.y&&(g=k),0==n.x&&0==n.y&&(n=h),w+="C"+g.x+","+g.y+" "+n.x+","+n.y+" "+
h.x+","+h.y+" ";return w};a._linear=function(a){for(var c="",d=0;d<a.length;d++)c=0==d?c+(a[d].x+","+a[d].y):c+(" "+a[d].x+","+a[d].y);return c};q.exports=a},function(q,g,m){function a(a,b){this.groupId=a;this.options=b}var d=m(2);m(53);a.prototype.getYRange=function(a){if("stack"!=this.options.barChart.handleOverlap){for(var b=a[0].y,d=a[0].y,f=0;f<a.length;f++)b=b>a[f].y?a[f].y:b,d=d<a[f].y?a[f].y:d;return{min:b,max:d,yAxisOrientation:this.options.yAxisOrientation}}b=[];for(f=0;f<a.length;f++)b.push({x:a[f].x,
y:a[f].y,groupId:this.groupId});return b};a.draw=function(c,b,e){var f=[],g={},k,h,n,p;for(p=h=0;p<c.length;p++)if(n=e.groups[c[p]],"bar"==n.options.style&&1==n.visible&&(void 0===e.options.groups.visibility[c[p]]||1==e.options.groups.visibility[c[p]]))for(n=0;n<b[c[p]].length;n++)f.push({x:b[c[p]][n].x,y:b[c[p]][n].y,groupId:c[p]}),h+=1;if(0!=h)for(f.sort(function(a,b){return a.x==b.x?a.groupId-b.groupId:a.x-b.x}),a._getDataIntersections(g,f),p=0;p<f.length;p++){n=e.groups[f[p].groupId];h=.1*n.options.barChart.width;
c=f[p].x;b=0;if(void 0===g[c])p+1<f.length&&(k=Math.abs(f[p+1].x-c)),0<p&&(k=Math.min(k,Math.abs(f[p-1].x-c))),h=a._getSafeDrawData(k,n,h);else{var m=p+(g[c].amount-g[c].resolved),u=p-(g[c].resolved+1);m<f.length&&(k=Math.abs(f[m].x-c));0<u&&(k=Math.min(k,Math.abs(f[u].x-c)));h=a._getSafeDrawData(k,n,h);g[c].resolved+=1;"stack"==n.options.barChart.handleOverlap?(b=g[c].accumulated,g[c].accumulated+=n.zeroPosition-f[p].y):"sideBySide"==n.options.barChart.handleOverlap&&(h.width/=g[c].amount,h.offset+=
g[c].resolved*h.width-.5*h.width*(g[c].amount+1),"left"==n.options.barChart.align?h.offset-=.5*h.width:"right"==n.options.barChart.align&&(h.offset+=.5*h.width))}d.drawBar(f[p].x+h.offset,f[p].y-b,h.width,n.zeroPosition-f[p].y,n.className+" bar",e.svgElements,e.svg);1==n.options.drawPoints.enabled&&d.drawPoint(f[p].x+h.offset,f[p].y,n,e.svgElements,e.svg)}};a._getDataIntersections=function(a,b){for(var d,f=0;f<b.length;f++)f+1<b.length&&(d=Math.abs(b[f+1].x-b[f].x)),0<f&&(d=Math.min(d,Math.abs(b[f-
1].x-b[f].x))),0==d&&(void 0===a[b[f].x]&&(a[b[f].x]={amount:0,resolved:0,accumulated:0}),a[b[f].x].amount+=1)};a._getSafeDrawData=function(a,b,d){var f;a<b.options.barChart.width&&0<a?(d=a<d?d:a,f=0,"left"==b.options.barChart.align?f-=.5*a:"right"==b.options.barChart.align&&(f+=.5*a)):(d=b.options.barChart.width,f=0,"left"==b.options.barChart.align?f-=.5*b.options.barChart.width:"right"==b.options.barChart.align&&(f+=.5*b.options.barChart.width));return{width:d,offset:f}};a.getStackedBarYRange=function(c,
b,d,f,g){if(0<c.length){c.sort(function(a,b){return a.x==b.x?a.groupId-b.groupId:a.x-b.x});var k={};a._getDataIntersections(k,c);b[f]=a._getStackedBarYRange(k,c);b[f].yAxisOrientation=g;d.push(f)}};a._getStackedBarYRange=function(a,b){for(var d,f=b[0].y,g=b[0].y,k=0;k<b.length;k++)d=b[k].x,void 0===a[d]?(f=f>b[k].y?b[k].y:f,g=g<b[k].y?b[k].y:g):a[d].accumulated+=b[k].y;for(var h in a)a.hasOwnProperty(h)&&(f=f>a[h].accumulated?a[h].accumulated:f,g=g<a[h].accumulated?a[h].accumulated:g);return{min:f,
max:g}};q.exports=a},function(q,g,m){function a(a,b){this.groupId=a;this.options=b}var d=m(2);a.prototype.getYRange=function(a){for(var b=a[0].y,d=a[0].y,f=0;f<a.length;f++)b=b>a[f].y?a[f].y:b,d=d<a[f].y?a[f].y:d;return{min:b,max:d,yAxisOrientation:this.options.yAxisOrientation}};a.prototype.draw=function(c,b,d,f){a.draw(c,b,d,f)};a.draw=function(a,b,e,f){void 0===f&&(f=0);for(var g=0;g<a.length;g++)d.drawPoint(a[g].x+f,a[g].y,b,e.svgElements,e.svg)};q.exports=a},function(q,g,m){var a=m(66),d=m(60),
c=m(61),b=m(62),e=m(63),f=m(64),l=m(65);g._loadMixin=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])};g._clearMixin=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=void 0)};g._loadPhysicsSystem=function(){this._loadMixin(a);this._loadSelectedForceSolver();1==this.constants.configurePhysics?this._loadPhysicsConfiguration():this._cleanupPhysicsConfiguration()};g._loadClusterSystem=function(){this.clusterSession=0;this.hubThreshold=5;this._loadMixin(d)};g._loadSectorSystem=function(){this.sectors=
{};this.activeSector=["default"];this.sectors.active={};this.sectors.active["default"]={nodes:{},edges:{},nodeIndices:[],formationScale:1,drawingNode:void 0};this.sectors.frozen={};this.sectors.support={nodes:{},edges:{},nodeIndices:[],formationScale:1,drawingNode:void 0};this.nodeIndices=this.sectors.active["default"].nodeIndices;this._loadMixin(c)};g._loadSelectionSystem=function(){this.selectionObj={nodes:{},edges:{}};this._loadMixin(b)};g._loadManipulationSystem=function(){this.forceAppendSelection=
this.blockConnectingEdgeSelection=!1;1==this.constants.dataManipulation.enabled?(void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="network-manipulationDiv",this.manipulationDiv.style.display=1==this.editMode?"block":"none",this.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="network-manipulation-editMode",this.editModeDiv.style.display=1==
this.editMode?"none":"block",this.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="network-manipulation-closeDiv",this.closeDiv.style.display=this.manipulationDiv.style.display,this.frame.appendChild(this.closeDiv)),this._loadMixin(e),this._createManipulatorBar()):void 0!==this.manipulationDiv&&(this._createManipulatorBar(),this.frame.removeChild(this.manipulationDiv),this.frame.removeChild(this.editModeDiv),this.frame.removeChild(this.closeDiv),
this.closeDiv=this.editModeDiv=this.manipulationDiv=void 0,this._clearMixin(e))};g._loadNavigationControls=function(){this._loadMixin(f);this._cleanNavigation();1==this.constants.navigation.enabled&&this._loadNavigationElements()};g._loadHierarchySystem=function(){this._loadMixin(l)}},function(q,g,m){function a(a){this.active=!1;this.dom={container:a};this.dom.overlay=document.createElement("div");this.dom.overlay.className="overlay";this.dom.container.appendChild(this.dom.overlay);this.hammer=c(this.dom.overlay,
{prevent_default:!1});this.hammer.on("tap",this._onTapOverlay.bind(this));var b=this;"touch pinch doubletap hold dragstart drag dragend mousewheel DOMMouseScroll".split(" ").forEach(function(a){b.hammer.on(a,function(a){a.stopPropagation()})});this.windowHammer=c(window,{prevent_default:!1});this.windowHammer.on("tap",function(c){a:{for(c=c.target;c;){if(c===a){c=!0;break a}c=c.parentNode}c=!1}c||b.deactivate()});void 0!==this.keycharm&&this.keycharm.destroy();this.keycharm=d();this.escListener=this.deactivate.bind(this)}
var d=m(57);g=m(56);var c=m(45),b=m(1);g(a.prototype);a.current=null;a.prototype.destroy=function(){this.deactivate();this.dom.overlay.parentNode.removeChild(this.dom.overlay);this.windowHammer=this.hammer=null};a.prototype.activate=function(){a.current&&a.current.deactivate();a.current=this;this.active=!0;this.dom.overlay.style.display="none";b.addClassName(this.dom.container,"vis-active");this.emit("change");this.emit("activate");this.keycharm.bind("esc",this.escListener)};a.prototype.deactivate=
function(){this.active=!1;this.dom.overlay.style.display="";b.removeClassName(this.dom.container,"vis-active");this.keycharm.unbind("esc",this.escListener);this.emit("change");this.emit("deactivate")};a.prototype._onTapOverlay=function(a){this.activate();a.stopPropagation()};q.exports=a},function(q,g,m){function a(d){if(d){for(var c in a.prototype)d[c]=a.prototype[c];return d}}q.exports=a;a.prototype.on=a.prototype.addEventListener=function(a,c){this._callbacks=this._callbacks||{};(this._callbacks[a]=
this._callbacks[a]||[]).push(c);return this};a.prototype.once=function(a,c){function b(){e.off(a,b);c.apply(this,arguments)}var e=this;this._callbacks=this._callbacks||{};b.fn=c;this.on(a,b);return this};a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=a.prototype.removeEventListener=function(a,c){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var b=this._callbacks[a];if(!b)return this;if(1==arguments.length)return delete this._callbacks[a],
this;for(var e,f=0;f<b.length;f++)if(e=b[f],e===c||e.fn===c){b.splice(f,1);break}return this};a.prototype.emit=function(a){this._callbacks=this._callbacks||{};var c=[].slice.call(arguments,1),b=this._callbacks[a];if(b)for(var b=b.slice(0),e=0,f=b.length;e<f;++e)b[e].apply(this,c);return this};a.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||[]};a.prototype.hasListeners=function(a){return!!this.listeners(a).length}},function(q,g,m){var a,d,c;"use strict";
(function(b,e){!(d=[],a=e,c="function"===typeof a?a.apply(g,d):a,void 0!==c&&(q.exports=c))})(this,function(){return function(a){var c=a&&a.preventDefault||!1,d=a&&a.container||window,g={},k={keydown:{},keyup:{}},h={};for(a=97;122>=a;a++)h[String.fromCharCode(a)]={code:65+(a-97),shift:!1};for(a=65;90>=a;a++)h[String.fromCharCode(a)]={code:a,shift:!0};for(a=0;9>=a;a++)h[""+a]={code:48+a,shift:!1};for(a=1;12>=a;a++)h["F"+a]={code:111+a,shift:!1};for(a=0;9>=a;a++)h["num"+a]={code:96+a,shift:!1};h["num*"]=
{code:106,shift:!1};h["num+"]={code:107,shift:!1};h["num-"]={code:109,shift:!1};h["num/"]={code:111,shift:!1};h["num."]={code:110,shift:!1};h.left={code:37,shift:!1};h.up={code:38,shift:!1};h.right={code:39,shift:!1};h.down={code:40,shift:!1};h.space={code:32,shift:!1};h.enter={code:13,shift:!1};h.shift={code:16,shift:void 0};h.esc={code:27,shift:!1};h.backspace={code:8,shift:!1};h.tab={code:9,shift:!1};h.ctrl={code:17,shift:!1};h.alt={code:18,shift:!1};h["delete"]={code:46,shift:!1};h.pageup={code:33,
shift:!1};h.pagedown={code:34,shift:!1};h["="]={code:187,shift:!1};h["-"]={code:189,shift:!1};h["]"]={code:221,shift:!1};h["["]={code:219,shift:!1};var n=function(a){m(a,"keydown")},p=function(a){m(a,"keyup")},m=function(a,b){if(void 0!==k[b][a.keyCode]){for(var d=k[b][a.keyCode],f=0;f<d.length;f++)void 0===d[f].shift?d[f].fn(a):1==d[f].shift&&1==a.shiftKey?d[f].fn(a):0==d[f].shift&&0==a.shiftKey&&d[f].fn(a);1==c&&a.preventDefault()}};g.bind=function(a,b,c){void 0===c&&(c="keydown");if(void 0===h[a])throw Error("unsupported key: "+
a);void 0===k[c][h[a].code]&&(k[c][h[a].code]=[]);k[c][h[a].code].push({fn:b,shift:h[a].shift})};g.bindAll=function(a,b){void 0===b&&(b="keydown");for(var c in h)h.hasOwnProperty(c)&&g.bind(c,a,b)};g.getKey=function(a){for(var b in h)if(h.hasOwnProperty(b)&&(1==a.shiftKey&&1==h[b].shift&&a.keyCode==h[b].code||0==a.shiftKey&&0==h[b].shift&&a.keyCode==h[b].code||a.keyCode==h[b].code&&"shift"==b))return b;return"unknown key, currently not supported"};g.unbind=function(a,b,c){void 0===c&&(c="keydown");
if(void 0===h[a])throw Error("unsupported key: "+a);if(void 0!==b){var d=[],e=k[c][h[a].code];if(void 0!==e)for(var f=0;f<e.length;f++)e[f].fn==b&&e[f].shift==h[a].shift||d.push(k[c][h[a].code][f]);k[c][h[a].code]=d}else k[c][h[a].code]=[]};g.reset=function(){k={keydown:{},keyup:{}}};g.destroy=function(){k={keydown:{},keyup:{}};d.removeEventListener("keydown",n,!0);d.removeEventListener("keyup",p,!0)};d.addEventListener("keydown",n,!0);d.addEventListener("keyup",p,!0);return g}})},function(q,g,m){var a;
(function(d,c){(function(b){function e(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw Error("Implement me");}}function f(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function l(a){!1===t.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function k(a,b){var c=!0;return v(function(){c&&
(l(a),c=!1);return b.apply(this,arguments)},b)}function h(a,b){return function(c){return z(a.call(this,c),b)}}function n(a,b){return function(c){return this.localeData().ordinal(a.call(this,c),b)}}function p(){}function r(a,b){!1!==b&&ja(a);B(this,a);this._d=new Date(+a._d);!1===U&&(U=!0,t.updateOffset(this),U=!1)}function q(a){a=ha(a);var b=a.year||0,c=a.quarter||0,d=a.month||0,e=a.week||0,f=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=
+f+7*e;this._months=+d+3*c+12*b;this._data={};this._locale=t.localeData();this._bubble()}function v(a,b){for(var c in b)L.call(b,c)&&(a[c]=b[c]);L.call(b,"toString")&&(a.toString=b.toString);L.call(b,"valueOf")&&(a.valueOf=b.valueOf);return a}function B(a,b){var c,d,e;"undefined"!==typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject);"undefined"!==typeof b._i&&(a._i=b._i);"undefined"!==typeof b._f&&(a._f=b._f);"undefined"!==typeof b._l&&(a._l=b._l);"undefined"!==typeof b._strict&&(a._strict=
b._strict);"undefined"!==typeof b._tzm&&(a._tzm=b._tzm);"undefined"!==typeof b._isUTC&&(a._isUTC=b._isUTC);"undefined"!==typeof b._offset&&(a._offset=b._offset);"undefined"!==typeof b._pf&&(a._pf=b._pf);"undefined"!==typeof b._locale&&(a._locale=b._locale);if(0<P.length)for(c in P)d=P[c],e=b[d],"undefined"!==typeof e&&(a[d]=e);return a}function y(a){return 0>a?Math.ceil(a):Math.floor(a)}function z(a,b,c){for(var d=""+Math.abs(a);d.length<b;)d="0"+d;return(0<=a?c?"+":"":"-")+d}function D(a,b){var c=
{milliseconds:0,months:0};c.months=b.month()-a.month()+12*(b.year()-a.year());a.clone().add(c.months,"M").isAfter(b)&&--c.months;c.milliseconds=+b-+a.clone().add(c.months,"M");return c}function w(a,b){var c;b=V(b,a);a.isBefore(b)?c=D(a,b):(c=D(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months);return c}function x(a,b){return function(c,d){var e;null===d||isNaN(+d)||(ka[b]||(l("moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),ka[b]=!0),e=c,c=d,d=e);e=
t.duration("string"===typeof c?+c:c,d);A(this,e,a);return this}}function A(a,b,c,d){var e=b._milliseconds,f=b._days;b=b._months;d=null==d?!0:d;e&&a._d.setTime(+a._d+e*c);f&&la(a,"Date",W(a,"Date")+f*c);b&&ma(a,W(a,"Month")+b*c);d&&t.updateOffset(a,f||b)}function E(a){return"[object Array]"===Object.prototype.toString.call(a)}function R(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function G(a,b,c){var d=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),f=
0,h;for(h=0;h<d;h++)(c&&a[h]!==b[h]||!c&&C(a[h])!==C(b[h]))&&f++;return f+e}function H(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=Ga[a]||Ha[b]||b}return a}function ha(a){var b={},c,d;for(d in a)L.call(a,d)&&(c=H(d))&&(b[c]=a[d]);return b}function Fa(a){var c,d;if(0===a.indexOf("week"))c=7,d="day";else if(0===a.indexOf("month"))c=12,d="month";else return;t[a]=function(e,f){var h,g,k=t._locale[a],l=[];"number"===typeof e&&(f=e,e=b);g=function(a){a=t().utc().set(d,a);return k.call(t._locale,
a,e||"")};if(null!=f)return g(f);for(h=0;h<c;h++)l.push(g(h));return l}}function C(a){a=+a;var b=0;0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a));return b}function S(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function ia(a,b,c){return M(t([a,11,31+b-c]),b,c).week}function T(a){return 0===a%4&&0!==a%100||0===a%400}function ja(a){var b;a._a&&-2===a._pf.overflow&&(b=0>a._a[1]||11<a._a[1]?1:1>a._a[2]||a._a[2]>S(a._a[0],a._a[1])?2:0>a._a[3]||24<a._a[3]||24===a._a[3]&&(0!==a._a[4]||
0!==a._a[5]||0!==a._a[6])?3:0>a._a[4]||59<a._a[4]?4:0>a._a[5]||59<a._a[5]?5:0>a._a[6]||999<a._a[6]?6:-1,a._pf._overflowDayOfYear&&(0>b||2<b)&&(b=2),a._pf.overflow=b)}function na(a){null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&0>a._pf.overflow&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length&&a._pf.bigHour===b));return a._isValid}function oa(a){return a?
a.toLowerCase().replace("_","-"):a}function pa(a){if(!N[a]&&qa)try{t.locale();var b=Error('Cannot find module "./locale"');b.code="MODULE_NOT_FOUND";throw b;}catch(c){}return N[a]}function V(a,b){var c,d;return b._isUTC?(c=b.clone(),d=(t.isMoment(a)||R(a)?+a:+t(a))-+c,c._d.setTime(+c._d+d),t.updateOffset(c,!1),c):t(a).local()}function Ia(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function Ja(a){var b=a.match(ra),c,d;c=0;for(d=b.length;c<d;c++)b[c]=I[b[c]]?I[b[c]]:Ia(b[c]);
return function(e){var f="";for(c=0;c<d;c++)f+=b[c]instanceof Function?b[c].call(e,a):b[c];return f}}function X(a,b){if(!a.isValid())return a.localeData().invalidDate();b=sa(b,a.localeData());Y[b]||(Y[b]=Ja(b));return Y[b](a)}function sa(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Q.lastIndex=0;0<=d&&Q.test(a);)a=a.replace(Q,c),Q.lastIndex=0,--d;return a}function Ka(a,b){var c=b._strict;switch(a){case "Q":return ta;case "DDDD":return ua;case "YYYY":case "GGGG":case "gggg":return c?
La:Ma;case "Y":case "G":case "g":return Na;case "YYYYYY":case "YYYYY":case "GGGGG":case "ggggg":return c?Oa:Pa;case "S":if(c)return ta;case "SS":if(c)return va;case "SSS":if(c)return ua;case "DDD":return Qa;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return Ra;case "a":case "A":return b._locale._meridiemParse;case "x":return Sa;case "X":return Ta;case "Z":case "ZZ":return Z;case "T":return Ua;case "SSSS":return Va;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "ww":case "WW":return c?
va:wa;case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "W":case "e":case "E":return wa;case "Do":return c?b._locale._ordinalParse:b._locale._ordinalParseLenient;default:var c=RegExp,d;d=Wa(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new c(d)}}function aa(a){a=(a||"").match(Z)||[];a=((a[a.length-1]||[])+"").match(Xa)||["-",0,0];var b=+(60*a[1])+C(a[2]);return"+"===a[0]?b:-b}function ba(a){var b,c,d=[],f;if(!a._d){f=new Date;f=a._useUTC?[f.getUTCFullYear(),
f.getUTCMonth(),f.getUTCDate()]:[f.getFullYear(),f.getMonth(),f.getDate()];if(a._w&&null==a._a[2]&&null==a._a[1]){var h,g,k;h=a._w;null!=h.GG||null!=h.W||null!=h.E?(b=1,k=4,c=e(h.GG,a._a[0],M(t(),1,4).year),g=e(h.W,1),h=e(h.E,1)):(b=a._locale._week.dow,k=a._locale._week.doy,c=e(h.gg,a._a[0],M(t(),b,k).year),g=e(h.w,1),null!=h.d?(h=h.d,h<b&&++g):h=null!=h.e?h.e+b:b);var l=ca(c,0,1).getUTCDay(),l=0===l?7:l;k=7*(g-1)+((null!=h?h:b)-b)+(b-l+(l>k?7:0)-(l<b?7:0))+1;b=0<k?c:c-1;c=0<k?k:(T(c-1)?366:365)+
k;a._a[0]=b;a._dayOfYear=c}a._dayOfYear&&(c=e(a._a[0],f[0]),a._dayOfYear>(T(c)?366:365)&&(a._pf._overflowDayOfYear=!0),c=ca(c,0,a._dayOfYear),a._a[1]=c.getUTCMonth(),a._a[2]=c.getUTCDate());for(c=0;3>c&&null==a._a[c];++c)a._a[c]=d[c]=f[c];for(;7>c;c++)a._a[c]=d[c]=null==a._a[c]?2===c?1:0:a._a[c];24===a._a[3]&&0===a._a[4]&&0===a._a[5]&&0===a._a[6]&&(a._nextDay=!0,a._a[3]=0);a._d=(a._useUTC?ca:Ya).apply(null,d);null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm);a._nextDay&&(a._a[3]=24)}}
function Za(a){var b;a._d||(b=ha(a._i),a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ba(a))}function da(a){if(a._f===t.ISO_8601)xa(a);else{a._a=[];a._pf.empty=!0;var c=""+a._i,d,e,f,h,g,k=c.length,l=0;f=sa(a._f,a._locale).match(ra)||[];for(d=0;d<f.length;d++){h=f[d];if(e=(c.match(Ka(h,a))||[])[0])g=c.substr(0,c.indexOf(e)),0<g.length&&a._pf.unusedInput.push(g),c=c.slice(c.indexOf(e)+e.length),l+=e.length;if(I[h]){e?a._pf.empty=!1:a._pf.unusedTokens.push(h);g=a;var n=void 0,
p=g._a;switch(h){case "Q":null!=e&&(p[1]=3*(C(e)-1));break;case "M":case "MM":null!=e&&(p[1]=C(e)-1);break;case "MMM":case "MMMM":n=g._locale.monthsParse(e,h,g._strict);null!=n?p[1]=n:g._pf.invalidMonth=e;break;case "D":case "DD":null!=e&&(p[2]=C(e));break;case "Do":null!=e&&(p[2]=C(parseInt(e.match(/\d{1,2}/)[0],10)));break;case "DDD":case "DDDD":null!=e&&(g._dayOfYear=C(e));break;case "YY":p[0]=t.parseTwoDigitYear(e);break;case "YYYY":case "YYYYY":case "YYYYYY":p[0]=C(e);break;case "a":case "A":g._meridiem=
e;break;case "h":case "hh":g._pf.bigHour=!0;case "H":case "HH":p[3]=C(e);break;case "m":case "mm":p[4]=C(e);break;case "s":case "ss":p[5]=C(e);break;case "S":case "SS":case "SSS":case "SSSS":p[6]=C(1E3*("0."+e));break;case "x":g._d=new Date(C(e));break;case "X":g._d=new Date(1E3*parseFloat(e));break;case "Z":case "ZZ":g._useUTC=!0;g._tzm=aa(e);break;case "dd":case "ddd":case "dddd":n=g._locale.weekdaysParse(e);null!=n?(g._w=g._w||{},g._w.d=n):g._pf.invalidWeekday=e;break;case "w":case "ww":case "W":case "WW":case "d":case "e":case "E":h=
h.substr(0,1);case "gggg":case "GGGG":case "GGGGG":h=h.substr(0,2);e&&(g._w=g._w||{},g._w[h]=C(e));break;case "gg":case "GG":g._w=g._w||{},g._w[h]=t.parseTwoDigitYear(e)}}else a._strict&&!e&&a._pf.unusedTokens.push(h)}a._pf.charsLeftOver=k-l;0<c.length&&a._pf.unusedInput.push(c);!0===a._pf.bigHour&&12>=a._a[3]&&(a._pf.bigHour=b);c=a._a;f=a._locale;d=a._a[3];k=a._meridiem;null!=k&&(null!=f.meridiemHour?d=f.meridiemHour(d,k):null!=f.isPM&&((f=f.isPM(k))&&12>d&&(d+=12),f||12!==d||(d=0)));c[3]=d;ba(a);
ja(a)}}function Wa(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function xa(a){var b,c,d=a._i,e=$a.exec(d);if(e){a._pf.iso=!0;b=0;for(c=ea.length;b<c;b++)if(ea[b][1].exec(d)){a._f=ea[b][0]+(e[6]||" ");break}b=0;for(c=fa.length;b<c;b++)if(fa[b][1].exec(d)){a._f+=fa[b][0];break}d.match(Z)&&(a._f+="Z");da(a)}else a._isValid=!1}function ab(a){xa(a);!1===a._isValid&&(delete a._isValid,t.createFromInputFallback(a))}function bb(a,b){var c=[],d;for(d=0;d<
a.length;++d)c.push(b(a[d],d));return c}function cb(a){var c=a._i,d;c===b?a._d=new Date:R(c)?a._d=new Date(+c):null!==(d=db.exec(c))?a._d=new Date(+d[1]):"string"===typeof c?ab(a):E(c)?(a._a=bb(c.slice(0),function(a){return parseInt(a,10)}),ba(a)):"object"===typeof c?Za(a):"number"===typeof c?a._d=new Date(c):t.createFromInputFallback(a)}function Ya(a,b,c,d,e,f,h){b=new Date(a,b,c,d,e,f,h);1970>a&&b.setFullYear(a);return b}function ca(a){var b=new Date(Date.UTC.apply(null,arguments));1970>a&&b.setUTCFullYear(a);
return b}function eb(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function M(a,b,c){b=c-b;c-=a.day();c>b&&(c-=7);c<b-7&&(c+=7);a=t(a).add(c,"d");return{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function ya(a){var c=a._i,d=a._f;a._locale=a._locale||t.localeData(a._l);if(null===c||d===b&&""===c)return t.invalid({nullInput:!0});"string"===typeof c&&(a._i=c=a._locale.preparse(c));if(t.isMoment(c))return new r(c,!0);if(d)if(E(d)){var e,h,g;if(0===a._f.length)a._pf.invalidFormat=!0,a._d=new Date(NaN);
else{for(c=0;c<a._f.length;c++)if(d=0,e=B({},a),null!=a._useUTC&&(e._useUTC=a._useUTC),e._pf=f(),e._f=a._f[c],da(e),na(e)&&(d+=e._pf.charsLeftOver,d+=10*e._pf.unusedTokens.length,e._pf.score=d,null==g||d<g))g=d,h=e;v(a,h||e)}}else da(a);else cb(a);a=new r(a);a._nextDay&&(a.add(1,"d"),a._nextDay=b);return a}function za(a,b){var c,d;1===b.length&&E(b[0])&&(b=b[0]);if(!b.length)return t();c=b[0];for(d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function ma(a,b){var c;if("string"===typeof b&&(b=a.localeData().monthsParse(b),
"number"!==typeof b))return a;c=Math.min(a.date(),S(a.year(),b));a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c);return a}function W(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function la(a,b,c){return"Month"===b?ma(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function J(a,b){return function(c){return null!=c?(la(this,a,c),t.updateOffset(this,b),this):W(this,a)}}function fb(a){t.duration.fn[a]=function(){return this._data[a]}}for(var t,ga="undefined"===typeof d||"undefined"!==typeof window&&window!==
d.window?this:d,Aa,O=Math.round,L=Object.prototype.hasOwnProperty,F,N={},P=[],qa="undefined"!==typeof c&&c&&c.exports,db=/^\/?Date\((\-?\d+)/i,gb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,hb=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ra=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Q=
/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,wa=/\d\d?/,Qa=/\d{1,3}/,Ma=/\d{1,4}/,Pa=/[+\-]?\d{1,6}/,Va=/\d+/,Ra=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Z=/Z|[\+\-]\d\d:?\d\d/gi,Ua=/T/i,Sa=/[\+\-]?\d+/,Ta=/[\+\-]?\d+(\.\d{1,3})?/,ta=/\d/,va=/\d\d/,ua=/\d{3}/,La=/\d{4}/,Oa=/[+-]?\d{6}/,Na=/[+-]?\d+/,$a=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
ea=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],fa=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Xa=/([\+\-]|\d\d)/gi,Ba={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},Ga={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",
M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Ha={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Y={},K={s:45,m:45,h:22,d:26,M:11},Ca="DDD w W M D d".split(" "),Da="MDHhmswW".split(""),I={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},
DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return z(this.year()%100,2)},YYYY:function(){return z(this.year(),4)},YYYYY:function(){return z(this.year(),5)},YYYYYY:function(){var a=this.year();return(0<=a?"+":
"-")+z(Math.abs(a),6)},gg:function(){return z(this.weekYear()%100,2)},gggg:function(){return z(this.weekYear(),4)},ggggg:function(){return z(this.weekYear(),5)},GG:function(){return z(this.isoWeekYear()%100,2)},GGGG:function(){return z(this.isoWeekYear(),4)},GGGGG:function(){return z(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),
this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return C(this.milliseconds()/100)},SS:function(){return z(C(this.milliseconds()/10),2)},SSS:function(){return z(this.milliseconds(),3)},SSSS:function(){return z(this.milliseconds(),3)},Z:function(){var a=this.utcOffset(),b="+";0>a&&(a=-a,b="-");return b+z(C(a/60),2)+":"+z(C(a)%60,2)},ZZ:function(){var a=this.utcOffset(),
b="+";0>a&&(a=-a,b="-");return b+z(C(a/60),2)+z(C(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ka={},Ea=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],U=!1;Ca.length;)F=Ca.pop(),I[F+"o"]=n(I[F],F);for(;Da.length;)F=Da.pop(),I[F+F]=h(I[F],2);I.DDDD=h(I.DDD,3);v(p.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"===typeof b?
this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a,b,c){var d,e;this._monthsParse||(this._monthsParse=[],this._longMonthsParse=
[],this._shortMonthsParse=[]);for(d=0;12>d;d++)if(e=t.utc([2E3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(e="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(e.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a)||c&&"MMM"===b&&this._shortMonthsParse[d].test(a)||
!c&&this._monthsParse[d].test(a))return d},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||
(c=t([2E3,1]).day(b),c="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(c.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,
function(a){return a.slice(1)}),this._longDateFormat[a]=b);return b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b,c){a=this._calendar[a];return"function"===typeof a?a.apply(b,[c]):a},_relativeTime:{future:"in %s",
past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"===typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[0<a?"future":"past"];return"function"===typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,
preparse:function(a){return a},postformat:function(a){return a},week:function(a){return M(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});t=function(a,c,d,e){var h;"boolean"===typeof d&&(e=d,d=b);h={_isAMomentObject:!0};h._i=a;h._f=c;h._l=d;h._strict=e;h._isUTC=!1;h._pf=f();return ya(h)};t.suppressDeprecationWarnings=
!1;t.createFromInputFallback=k("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});t.min=function(){var a=[].slice.call(arguments,0);return za("isBefore",a)};t.max=function(){var a=[].slice.call(arguments,0);return za("isAfter",a)};t.utc=function(a,c,d,e){var h;"boolean"===typeof d&&(e=d,d=b);h={_isAMomentObject:!0,
_useUTC:!0,_isUTC:!0};h._l=d;h._i=a;h._f=c;h._strict=e;h._pf=f();return ya(h).utc()};t.unix=function(a){return t(1E3*a)};t.duration=function(a,b){var c=a,d=null,e;t.isDuration(a)?c={ms:a._milliseconds,d:a._days,M:a._months}:"number"===typeof a?(c={},b?c[b]=a:c.milliseconds=a):(d=gb.exec(a))?(e="-"===d[1]?-1:1,c={y:0,d:C(d[2])*e,h:C(d[3])*e,m:C(d[4])*e,s:C(d[5])*e,ms:C(d[6])*e}):(d=hb.exec(a))?(e="-"===d[1]?-1:1,c=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*e},c={y:c(d[2]),
M:c(d[3]),d:c(d[4]),h:c(d[5]),m:c(d[6]),s:c(d[7]),w:c(d[8])}):null==c?c={}:"object"===typeof c&&("from"in c||"to"in c)&&(d=w(t(c.from),t(c.to)),c={},c.ms=d.milliseconds,c.M=d.months);c=new q(c);t.isDuration(a)&&L.call(a,"_locale")&&(c._locale=a._locale);return c};t.version="2.9.0";t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";t.ISO_8601=function(){};t.momentProperties=P;t.updateOffset=function(){};t.relativeTimeThreshold=function(a,c){if(K[a]===b)return!1;if(c===b)return K[a];K[a]=c;return!0};t.lang=k("moment.lang is deprecated. Use moment.locale instead.",
function(a,b){return t.locale(a,b)});t.locale=function(a,b){var c;a&&(c="undefined"!==typeof b?t.defineLocale(a,b):t.localeData(a))&&(t.duration._locale=t._locale=c);return t._locale._abbr};t.defineLocale=function(a,b){if(null!==b)return b.abbr=a,N[a]||(N[a]=new p),N[a].set(b),t.locale(a),N[a];delete N[a];return null};t.langData=k("moment.langData is deprecated. Use moment.localeData instead.",function(a){return t.localeData(a)});t.localeData=function(a){var b;a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr);
if(!a)return t._locale;if(!E(a)){if(b=pa(a))return b;a=[a]}a:{b=0;for(var c,d,e,f;b<a.length;){f=oa(a[b]).split("-");c=f.length;for(d=(d=oa(a[b+1]))?d.split("-"):null;0<c;){if(e=pa(f.slice(0,c).join("-"))){a=e;break a}if(d&&d.length>=c&&G(f,d,!0)>=c-1)break;c--}b++}a=null}return a};t.isMoment=function(a){return a instanceof r||null!=a&&L.call(a,"_isAMomentObject")};t.isDuration=function(a){return a instanceof q};for(F=Ea.length-1;0<=F;--F)Fa(Ea[F]);t.normalizeUnits=function(a){return H(a)};t.invalid=
function(a){var b=t.utc(NaN);null!=a?v(b._pf,a):b._pf.userInvalidated=!0;return b};t.parseZone=function(){return t.apply(null,arguments).parseZone()};t.parseTwoDigitYear=function(a){return C(a)+(68<C(a)?1900:2E3)};t.isDate=R;v(t.fn=r.prototype,{clone:function(){return t(this)},valueOf:function(){return+this._d-6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?
new Date(+this):this._d},toISOString:function(){var a=t(this).utc();return 0<a.year()&&9999>=a.year()?"function"===typeof Date.prototype.toISOString?this.toDate().toISOString():X(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):X(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return na(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<G(this._a,(this._isUTC?t.utc(this._a):
t(this._a)).toArray()):!1},parsingFlags:function(){return v({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.utcOffset(0,a)},local:function(a){this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(this._dateUtcOffset(),"m"));return this},format:function(a){a=X(this,a||t.defaultFormat);return this.localeData().postformat(a)},add:x(1,"add"),subtract:x(-1,"subtract"),diff:function(a,b,c){a=V(a,this);var d=6E4*(a.utcOffset()-this.utcOffset());b=H(b);
if("year"===b||"month"===b||"quarter"===b){var d=12*(a.year()-this.year())+(a.month()-this.month()),e=this.clone().add(d,"months"),f;0>a-e?(f=this.clone().add(d-1,"months"),a=(a-e)/(e-f)):(f=this.clone().add(d+1,"months"),a=(a-e)/(f-e));a=-(d+a);"quarter"===b?a/=3:"year"===b&&(a/=12)}else a=this-a,a="second"===b?a/1E3:"minute"===b?a/6E4:"hour"===b?a/36E5:"day"===b?(a-d)/864E5:"week"===b?(a-d)/6048E5:a;return c?a:y(a)},from:function(a,b){return t.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},
fromNow:function(a){return this.from(t(),a)},calendar:function(a){a=a||t();var b=V(a,this).startOf("day"),b=this.diff(b,"days",!0),b=-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":7>b?"nextWeek":"sameElse";return this.format(this.localeData().calendar(b,this,t(a)))},isLeapYear:function(){return T(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(a){var b=this._isUTC?
this._d.getUTCDay():this._d.getDay();if(null!=a){a:{var c=this.localeData();if("string"===typeof a)if(isNaN(a)){if(a=c.weekdaysParse(a),"number"!==typeof a){a=null;break a}}else a=parseInt(a,10)}return this.add(a-b,"d")}return b},month:J("Month",!0),startOf:function(a){a=H(a);switch(a){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===
a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1);"quarter"===a&&this.month(3*Math.floor(this.month()/3));return this},endOf:function(a){a=H(a);return a===b||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")},isAfter:function(a,b){b=H("undefined"!==typeof b?b:"millisecond");return"millisecond"===b?(a=t.isMoment(a)?a:t(a),+this>+a):(t.isMoment(a)?+a:+t(a))<+this.clone().startOf(b)},isBefore:function(a,b){var c;b=H("undefined"!==typeof b?b:"millisecond");if("millisecond"===
b)return a=t.isMoment(a)?a:t(a),+this<+a;c=t.isMoment(a)?+a:+t(a);return+this.clone().endOf(b)<c},isBetween:function(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)},isSame:function(a,b){var c;b=H(b||"millisecond");if("millisecond"===b)return a=t.isMoment(a)?a:t(a),+this===+a;c=+t(a);return+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b)},min:k("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){a=t.apply(null,arguments);return a<
this?this:a}),max:k("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){a=t.apply(null,arguments);return a>this?this:a}),zone:k("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(a,b){return null!=a?("string"!==typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}),utcOffset:function(a,b){var c=this._offset||0,d;return null!=a?("string"===typeof a&&(a=aa(a)),16>Math.abs(a)&&
(a*=60),!this._isUTC&&b&&(d=this._dateUtcOffset()),this._offset=a,this._isUTC=!0,null!=d&&this.add(d,"m"),c!==a&&(!b||this._changeInProgress?A(this,t.duration(a-c,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?c:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":
""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){this._tzm?this.utcOffset(this._tzm):"string"===typeof this._i&&this.utcOffset(aa(this._i));return this},hasAlignedHourOffset:function(a){a=a?t(a).utcOffset():0;return 0===(this.utcOffset()-a)%60},daysInMonth:function(){return S(this.year(),this.month())},dayOfYear:function(a){var b=O((t(this).startOf("day")-t(this).startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==
a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=M(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=M(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=M(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%
7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return ia(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return ia(this.year(),a.dow,a.doy)},get:function(a){a=H(a);return this[a]()},set:function(a,b){var c;if("object"===typeof a)for(c in a)this.set(c,a[c]);else if(a=H(a),"function"===typeof this[a])this[a](b);return this},locale:function(a){if(a===b)return this._locale._abbr;a=
t.localeData(a);null!=a&&(this._locale=a);return this},lang:k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return a===b?this.localeData():this.locale(a)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}});t.fn.millisecond=t.fn.milliseconds=J("Milliseconds",!1);t.fn.second=t.fn.seconds=J("Seconds",!1);t.fn.minute=
t.fn.minutes=J("Minutes",!1);t.fn.hour=t.fn.hours=J("Hours",!0);t.fn.date=J("Date",!0);t.fn.dates=k("dates accessor is deprecated. Use date instead.",J("Date",!0));t.fn.year=J("FullYear",!0);t.fn.years=k("years accessor is deprecated. Use year instead.",J("FullYear",!0));t.fn.days=t.fn.day;t.fn.months=t.fn.month;t.fn.weeks=t.fn.week;t.fn.isoWeeks=t.fn.isoWeek;t.fn.quarters=t.fn.quarter;t.fn.toJSON=t.fn.toISOString;t.fn.isUTC=t.fn.isUtc;v(t.duration.fn=q.prototype,{_bubble:function(){var a=this._milliseconds,
b=this._days,c=this._months,d=this._data,e=0;d.milliseconds=a%1E3;a=y(a/1E3);d.seconds=a%60;a=y(a/60);d.minutes=a%60;a=y(a/60);d.hours=a%24;b+=y(a/24);e=y(400*b/146097);b-=y(146097*e/400);c+=y(b/30);b%=30;e+=y(c/12);d.days=b;d.months=c%12;d.years=e},abs:function(){this._milliseconds=Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=
Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);return this},weeks:function(){return y(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*C(this._months/12)},humanize:function(a){var b;b=!a;var c=this.localeData(),d=t.duration(this).abs(),e=O(d.as("s")),f=O(d.as("m")),h=O(d.as("h")),g=O(d.as("d")),k=O(d.as("M")),d=O(d.as("y")),
e=e<K.s&&["s",e]||1===f&&["m"]||f<K.m&&["mm",f]||1===h&&["h"]||h<K.h&&["hh",h]||1===g&&["d"]||g<K.d&&["dd",g]||1===k&&["M"]||k<K.M&&["MM",k]||1===d&&["y"]||["yy",d];e[2]=b;e[3]=0<+this;e[4]=c;b=eb.apply({},e);a&&(b=this.localeData().pastFuture(+this,b));return this.localeData().postformat(b)},add:function(a,b){var c=t.duration(a,b);this._milliseconds+=c._milliseconds;this._days+=c._days;this._months+=c._months;this._bubble();return this},subtract:function(a,b){var c=t.duration(a,b);this._milliseconds-=
c._milliseconds;this._days-=c._days;this._months-=c._months;this._bubble();return this},get:function(a){a=H(a);return this[a.toLowerCase()+"s"]()},as:function(a){var b;a=H(a);if("month"===a||"year"===a)return b=this._days+this._milliseconds/864E5,b=this._months+400*b/146097*12,"month"===a?b:b/12;b=this._days+Math.round(this._months/12*146097/400);switch(a){case "week":return b/7+this._milliseconds/6048E5;case "day":return b+this._milliseconds/864E5;case "hour":return 24*b+this._milliseconds/36E5;
case "minute":return 1440*b+this._milliseconds/6E4;case "second":return 86400*b+this._milliseconds/1E3;case "millisecond":return Math.floor(864E5*b)+this._milliseconds;default:throw Error("Unknown unit "+a);}},lang:t.fn.lang,locale:t.fn.locale,toIsoString:k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),
e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1E3);return this.asSeconds()?(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}});t.duration.fn.toString=t.duration.fn.toISOString;for(F in Ba)L.call(Ba,F)&&fb(F.toLowerCase());t.duration.fn.asMilliseconds=function(){return this.as("ms")};t.duration.fn.asSeconds=
function(){return this.as("s")};t.duration.fn.asMinutes=function(){return this.as("m")};t.duration.fn.asHours=function(){return this.as("h")};t.duration.fn.asDays=function(){return this.as("d")};t.duration.fn.asWeeks=function(){return this.as("weeks")};t.duration.fn.asMonths=function(){return this.as("M")};t.duration.fn.asYears=function(){return this.as("y")};t.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,b=1===C(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";
return a+b}});qa?c.exports=t:(!(a=function(a,b,c){c.config&&c.config()&&!0===c.config().noGlobal&&(ga.moment=Aa);return t}.call(g,m,g,c),a!==b&&(c.exports=a)),"undefined"===typeof ender&&(Aa=ga.moment,ga.moment=k("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",t)))}).call(this)}).call(g,function(){return this}(),m(71)(q))},function(q,g,m){var a;(function(d,c){function b(){e.READY||(x.determineEventTypes(),w.each(e.gestures,function(a){E.register(a)}),
x.onTouch(e.DOCUMENT,B,E.detect),x.onTouch(e.DOCUMENT,y,E.detect),e.READY=!0)}var e=function G(a,b){return new G.Instance(a,b||{})};e.VERSION="1.1.3";e.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};e.DOCUMENT=document;e.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled;e.HAS_TOUCHEVENTS="ontouchstart"in d;e.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent);
e.NO_MOUSEEVENTS=e.HAS_TOUCHEVENTS&&e.IS_MOBILE||e.HAS_POINTEREVENTS;e.CALCULATE_INTERVAL=25;var f={},l=e.DIRECTION_DOWN="down",k=e.DIRECTION_LEFT="left",h=e.DIRECTION_UP="up",n=e.DIRECTION_RIGHT="right",p=e.POINTER_MOUSE="mouse",r=e.POINTER_TOUCH="touch",u=e.POINTER_PEN="pen",v=e.EVENT_START="start",B=e.EVENT_MOVE="move",y=e.EVENT_END="end",z=e.EVENT_RELEASE="release",D=e.EVENT_TOUCH="touch";e.READY=!1;e.plugins=e.plugins||{};e.gestures=e.gestures||{};var w=e.utils={extend:function(a,b,d){for(var e in b)!b.hasOwnProperty(e)||
a[e]!==c&&d||(a[e]=b[e]);return a},on:function(a,b,c){a.addEventListener(b,c,!1)},off:function(a,b,c){a.removeEventListener(b,c,!1)},each:function(a,b,d){var e,f;if("forEach"in a)a.forEach(b,d);else if(a.length!==c)for(e=0,f=a.length;e<f&&!1!==b.call(d,a[e],e,a);e++);else for(e in a)if(a.hasOwnProperty(e)&&!1===b.call(d,a[e],e,a))break},inStr:function(a,b){return-1<a.indexOf(b)},inArray:function(a,b){if(a.indexOf){var c=a.indexOf(b);return-1===c?!1:c}for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;
return!1},toArray:function(a){return Array.prototype.slice.call(a,0)},hasParent:function(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1},getCenter:function(a){var b=[],c=[],d=[],e=[],f=Math.min,h=Math.max;if(1===a.length)return{pageX:a[0].pageX,pageY:a[0].pageY,clientX:a[0].clientX,clientY:a[0].clientY};w.each(a,function(a){b.push(a.pageX);c.push(a.pageY);d.push(a.clientX);e.push(a.clientY)});return{pageX:(f.apply(Math,b)+h.apply(Math,b))/2,pageY:(f.apply(Math,c)+h.apply(Math,c))/2,clientX:(f.apply(Math,
d)+h.apply(Math,d))/2,clientY:(f.apply(Math,e)+h.apply(Math,e))/2}},getVelocity:function(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}},getAngle:function(a,b){return 180*Math.atan2(b.clientY-a.clientY,b.clientX-a.clientX)/Math.PI},getDirection:function(a,b){var c=Math.abs(a.clientX-b.clientX),d=Math.abs(a.clientY-b.clientY);return c>=d?0<a.clientX-b.clientX?k:n:0<a.clientY-b.clientY?h:l},getDistance:function(a,b){var c=b.clientX-a.clientX,d=b.clientY-a.clientY;return Math.sqrt(c*c+d*d)},getScale:function(a,
b){return 2<=a.length&&2<=b.length?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return 2<=a.length&&2<=b.length?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a==h||a==l},setPrefixedCss:function(a,b,c,d){var e=["","Webkit","Moz","O","ms"];b=w.toCamelCase(b);for(var f=0;f<e.length;f++){var h=b;e[f]&&(h=e[f]+h.slice(0,1).toUpperCase()+h.slice(1));if(h in a.style){a.style[h]=(null==d||d)&&c||"";break}}},toggleBehavior:function(a,
b,c){if(b&&a&&a.style){w.each(b,function(b,d){w.setPrefixedCss(a,d,b,c)});var d=c&&function(){return!1};"none"==b.userSelect&&(a.onselectstart=d);"none"==b.userDrag&&(a.ondragstart=d)}},toCamelCase:function(a){return a.replace(/[_-]([a-z])/g,function(a){return a[1].toUpperCase()})}},x=e.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(a,b,c,d){b=b.split(" ");w.each(b,function(b){w.on(a,b,c);d&&d(b)})},off:function(a,b,c,d){b=b.split(" ");w.each(b,function(b){w.off(a,b,c);d&&d(b)})},
onTouch:function(a,b,c){var d=this,h=function(f){var h=f.type.toLowerCase(),g=e.HAS_POINTEREVENTS,h=w.inStr(h,"mouse"),k;h&&d.preventMouseEvents||(h&&b==v&&0===f.button?(d.preventMouseEvents=!1,d.shouldDetect=!0):g&&b==v?d.shouldDetect=1===f.buttons||A.matchType(r,f):h||b!=v||(d.preventMouseEvents=!0,d.shouldDetect=!0),g&&b!=y&&A.updatePointer(b,f),d.shouldDetect&&(k=d.doDetect.call(d,f,b,a,c)),k==y&&(d.preventMouseEvents=!1,d.shouldDetect=!1,A.reset()),g&&b==y&&A.updatePointer(b,f))};this.on(a,f[b],
h);return h},doDetect:function(a,b,c,d){var e=this.getTouchList(a,b),f=b,h=e.trigger,g=e.length;b==v?h=D:b==y&&(h=z,g=e.length-(a.changedTouches?a.changedTouches.length:1));0<g&&this.started&&(f=B);this.started=!0;a=this.collectEventData(c,f,e,a);b!=y&&d.call(E,a);h&&(a.changedLength=g,a.eventType=h,d.call(E,a),a.eventType=f,delete a.changedLength);f==y&&(d.call(E,a),this.started=!1);return f},determineEventTypes:function(){var a;a=e.HAS_POINTEREVENTS?d.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:
["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:e.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"];f[v]=a[0];f[B]=a[1];f[y]=a[2];return f},getTouchList:function(a,b){if(e.HAS_POINTEREVENTS)return A.getTouchList();if(a.touches){if(b==B)return a.touches;var c=[],d=[].concat(w.toArray(a.touches),w.toArray(a.changedTouches)),f=[];w.each(d,function(a){!1===w.inArray(c,a.identifier)&&
f.push(a);c.push(a.identifier)});return f}a.identifier=1;return[a]},collectEventData:function(a,b,c,d){a=r;w.inStr(d.type,"mouse")||A.matchType(p,d)?a=p:A.matchType(u,d)&&(a=u);return{center:w.getCenter(c),timeStamp:Date.now(),target:d.target,touches:c,eventType:b,pointerType:a,srcEvent:d,preventDefault:function(){var a=this.srcEvent;a.preventManipulation&&a.preventManipulation();a.preventDefault&&a.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return E.stopDetect()}}}},
A=e.PointerEvent={pointers:{},getTouchList:function(){var a=[];w.each(this.pointers,function(b){a.push(b)});return a},updatePointer:function(a,b){a==y||a!=y&&1!==b.buttons?delete this.pointers[b.pointerId]:(b.identifier=b.pointerId,this.pointers[b.pointerId]=b)},matchType:function(a,b){if(!b.pointerType)return!1;var c=b.pointerType,d={};d[p]=c===(b.MSPOINTER_TYPE_MOUSE||p);d[r]=c===(b.MSPOINTER_TYPE_TOUCH||r);d[u]=c===(b.MSPOINTER_TYPE_PEN||u);return d[a]},reset:function(){this.pointers={}}},E=e.detection=
{gestures:[],current:null,previous:null,stopped:!1,startDetect:function(a,b){this.current||(this.stopped=!1,this.current={inst:a,startEvent:w.extend({},b),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(b))},detect:function(a){if(this.current&&!this.stopped){a=this.extendEventData(a);var b=this.current.inst,c=b.options;w.each(this.gestures,function(d){!this.stopped&&b.enabled&&c[d.name]&&d.handler.call(d,a,b)},this);this.current&&(this.current.lastEvent=a);a.eventType==
y&&this.stopDetect();return a}},stopDetect:function(){this.previous=w.extend({},this.current);this.current=null;this.stopped=!0},getCalculatedData:function(a,b,c,d,f){var h=this.current,g=!1,k=h.lastCalcEvent,l=h.lastCalcData;k&&a.timeStamp-k.timeStamp>e.CALCULATE_INTERVAL&&(b=k.center,c=a.timeStamp-k.timeStamp,d=a.center.clientX-k.center.clientX,f=a.center.clientY-k.center.clientY,g=!0);if(a.eventType==D||a.eventType==z)h.futureCalcEvent=a;if(!h.lastCalcEvent||g)l.velocity=w.getVelocity(c,d,f),l.angle=
w.getAngle(b,a.center),l.direction=w.getDirection(b,a.center),h.lastCalcEvent=h.futureCalcEvent||a,h.futureCalcEvent=a;a.velocityX=l.velocity.x;a.velocityY=l.velocity.y;a.interimAngle=l.angle;a.interimDirection=l.direction},extendEventData:function(a){var b=this.current,c=b.startEvent,b=b.lastEvent||c;if(a.eventType==D||a.eventType==z)c.touches=[],w.each(a.touches,function(a){c.touches.push({clientX:a.clientX,clientY:a.clientY})});var d=a.timeStamp-c.timeStamp,e=a.center.clientX-c.center.clientX,
f=a.center.clientY-c.center.clientY;this.getCalculatedData(a,b.center,d,e,f);w.extend(a,{startEvent:c,deltaTime:d,deltaX:e,deltaY:f,distance:w.getDistance(c.center,a.center),angle:w.getAngle(c.center,a.center),direction:w.getDirection(c.center,a.center),scale:w.getScale(c.touches,a.touches),rotation:w.getRotation(c.touches,a.touches)});return a},register:function(a){var b=a.defaults||{};b[a.name]===c&&(b[a.name]=!0);w.extend(e.defaults,b,!0);a.index=a.index||1E3;this.gestures.push(a);this.gestures.sort(function(a,
b){return a.index<b.index?-1:a.index>b.index?1:0});return this.gestures}};e.Instance=function(a,c){var d=this;b();this.element=a;this.enabled=!0;w.each(c,function(a,b){delete c[b];c[w.toCamelCase(b)]=a});this.options=w.extend(w.extend({},e.defaults),c||{});this.options.behavior&&w.toggleBehavior(this.element,this.options.behavior,!0);this.eventStartHandler=x.onTouch(a,v,function(a){d.enabled&&a.eventType==v?E.startDetect(d,a):a.eventType==D&&E.detect(a)});this.eventHandlers=[]};e.Instance.prototype=
{on:function(a,b){var c=this;x.on(c.element,a,b,function(a){c.eventHandlers.push({gesture:a,handler:b})});return c},off:function(a,b){var c=this;x.off(c.element,a,b,function(a){a=w.inArray({gesture:a,handler:b});!1!==a&&c.eventHandlers.splice(a,1)});return c},trigger:function(a,b){b||(b={});var c=e.DOCUMENT.createEvent("Event");c.initEvent(a,!0,!0);c.gesture=b;var d=this.element;w.hasParent(b.target,d)&&(d=b.target);d.dispatchEvent(c);return this},enable:function(a){this.enabled=a;return this},dispose:function(){var a,
b;w.toggleBehavior(this.element,this.options.behavior,!1);for(a=-1;b=this.eventHandlers[++a];)w.off(this.element,b.gesture,b.handler);this.eventHandlers=[];x.off(this.element,f[v],this.eventStartHandler);return null}};(function(a){var b=!1;e.gestures.Drag={name:a,index:50,handler:function(c,d){var e=E.current;if(!(0<d.options.dragMaxTouches&&c.touches.length>d.options.dragMaxTouches))switch(c.eventType){case v:b=!1;break;case B:if(c.distance<d.options.dragMinDistance&&e.name!=a)break;var f=e.startEvent.center;
if(e.name!=a&&(e.name=a,d.options.dragDistanceCorrection&&0<c.distance)){var g=Math.abs(d.options.dragMinDistance/c.distance);f.pageX+=c.deltaX*g;f.pageY+=c.deltaY*g;f.clientX+=c.deltaX*g;f.clientY+=c.deltaY*g;c=E.extendEventData(c)}if(e.lastEvent.dragLockToAxis||d.options.dragLockToAxis&&d.options.dragLockMinDistance<=c.distance)c.dragLockToAxis=!0;e=e.lastEvent.direction;c.dragLockToAxis&&e!==c.direction&&(w.isVertical(e)?c.direction=0>c.deltaY?h:l:c.direction=0>c.deltaX?k:n);b||(d.trigger(a+"start",
c),b=!0);d.trigger(a,c);d.trigger(a+c.direction,c);e=w.isVertical(c.direction);(d.options.dragBlockVertical&&e||d.options.dragBlockHorizontal&&!e)&&c.preventDefault();break;case z:b&&c.changedLength<=d.options.dragMaxTouches&&(d.trigger(a+"end",c),b=!1);break;case y:b=!1}},defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}})("drag");e.gestures.Gesture={name:"gesture",index:1337,handler:function(a,
b){b.trigger(this.name,a)}};(function(a){var b;e.gestures.Hold={name:a,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:function(c,d){var e=d.options,f=E.current;switch(c.eventType){case v:clearTimeout(b);f.name=a;b=setTimeout(function(){f&&f.name==a&&d.trigger(a,c)},e.holdTimeout);break;case B:c.distance>e.holdThreshold&&clearTimeout(b);break;case z:clearTimeout(b)}}}})("hold");e.gestures.Release={name:"release",index:Infinity,handler:function(a,b){a.eventType==z&&b.trigger(this.name,
a)}};e.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(a,b){if(a.eventType==z){var c=a.touches.length,d=b.options;c<d.swipeMinTouches||c>d.swipeMaxTouches||!(a.velocityX>d.swipeVelocityX||a.velocityY>d.swipeVelocityY)||(b.trigger(this.name,a),b.trigger(this.name+a.direction,a))}}};(function(a){var b=!1;e.gestures.Tap={name:a,index:100,handler:function(c,d){var e=d.options,f=E.current,h=E.previous,g,k;switch(c.eventType){case v:b=
!1;break;case B:b=b||c.distance>e.tapMaxDistance;break;case y:!w.inStr(c.srcEvent.type,"cancel")&&c.deltaTime<e.tapMaxTime&&!b&&(g=h&&h.lastEvent&&c.timeStamp-h.lastEvent.timeStamp,k=!1,h&&h.name==a&&g&&g<e.doubleTapInterval&&c.distance<e.doubleTapDistance&&(d.trigger("doubletap",c),k=!0),!k||e.tapAlways)&&(f.name=a,d.trigger(f.name,c))}},defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}})("tap");e.gestures.Touch={name:"touch",index:-Infinity,defaults:{preventDefault:!1,
preventMouse:!1},handler:function(a,b){b.options.preventMouse&&a.pointerType==p?a.stopDetect():(b.options.preventDefault&&a.preventDefault(),a.eventType==D&&b.trigger("touch",a))}};(function(a){var b=!1;e.gestures.Transform={name:a,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:function(c,d){switch(c.eventType){case v:b=!1;break;case B:if(2>c.touches.length)break;var e=Math.abs(1-c.scale),f=Math.abs(c.rotation);if(e<d.options.transformMinScale&&f<d.options.transformMinRotation)break;
E.current.name=a;b||(d.trigger(a+"start",c),b=!0);d.trigger(a,c);f>d.options.transformMinRotation&&d.trigger("rotate",c);e>d.options.transformMinScale&&(d.trigger("pinch",c),d.trigger("pinch"+(1>c.scale?"in":"out"),c));break;case z:b&&2>c.changedLength&&(d.trigger(a+"end",c),b=!1)}}}})("transform");!(a=function(){return e}.call(g,m,g,q),a!==c&&(q.exports=a))})(window)},function(q,g,m){g.startWithClustering=function(){this.clusterToFit(this.constants.clustering.initialMaxNodes,!0);this.updateLabels();
this.stabilize&&this._stabilize();this.start()};g.clusterToFit=function(a,d){for(var c=this.nodeIndices.length,b=0;c>a&&50>b;)0==b%3?(this.forceAggregateHubs(!0),this.normalizeClusterLevels()):this.increaseClusterLevel(),c=this.nodeIndices.length,b+=1;0<b&&1==d&&this.repositionNodes();this._updateCalculationNodes()};g.openCluster=function(a){var d=this.moving;if(a.clusterSize>this.constants.clustering.sectorThreshold&&this._nodeInActiveArea(a)&&("default"!=this._sector()||1!=this.nodeIndices.length))for(this._addSector(a),
a=0;this.nodeIndices.length<this.constants.clustering.initialMaxNodes&&10>a;)this.decreaseClusterLevel(),a+=1;else this._expandClusterNode(a,!1,!0),this._updateNodeIndexList(),this._updateDynamicEdges(),this._updateCalculationNodes(),this.updateLabels();this.moving!=d&&this.start()};g.updateClustersDefault=function(){1==this.constants.clustering.enabled&&this.updateClusters(0,!1,!1)};g.increaseClusterLevel=function(){this.updateClusters(-1,!1,!0)};g.decreaseClusterLevel=function(){this.updateClusters(1,
!1,!0)};g.updateClusters=function(a,d,c,b){var e=this.moving,f=this.nodeIndices.length;this.previousScale>this.scale&&0==a&&this._collapseSector();if(this.previousScale>this.scale||-1==a)this._formClusters(c);else if(this.previousScale<this.scale||1==a)1==c?this._openClusters(d,c):this._openClustersBySize();this._updateNodeIndexList();this.nodeIndices.length==f&&(this.previousScale>this.scale||-1==a)&&(this._aggregateHubs(c),this._updateNodeIndexList());if(this.previousScale>this.scale||-1==a)this.handleChains(),
this._updateNodeIndexList();this.previousScale=this.scale;this._updateDynamicEdges();this.updateLabels();this.nodeIndices.length<f&&(this.clusterSession+=1,this.normalizeClusterLevels());0!=b&&void 0!==b||this.moving==e||this.start();this._updateCalculationNodes()};g.handleChains=function(){var a=this._getChainFraction();a>this.constants.clustering.chainThreshold&&this._reduceAmountOfChains(1-this.constants.clustering.chainThreshold/a)};g._aggregateHubs=function(a){this._getHubSize();this._formClustersByHub(a,
!1)};g.forceAggregateHubs=function(a){var d=this.moving,c=this.nodeIndices.length;this._aggregateHubs(!0);this._updateNodeIndexList();this._updateDynamicEdges();this.updateLabels();this.nodeIndices.length!=c&&(this.clusterSession+=1);0!=a&&void 0!==a||this.moving==d||this.start()};g._openClustersBySize=function(){for(var a in this.nodes)if(this.nodes.hasOwnProperty(a)){var d=this.nodes[a];1==d.inView()&&(d.width*this.scale>this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientWidth||
d.height*this.scale>this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientHeight)&&this.openCluster(d)}};g._openClusters=function(a,d){for(var c=0;c<this.nodeIndices.length;c++)this._expandClusterNode(this.nodes[this.nodeIndices[c]],a,d),this._updateCalculationNodes()};g._expandClusterNode=function(a,d,c,b){if(1<a.clusterSize&&(a.clusterSize<this.constants.clustering.sectorThreshold&&(b=!0),d=b?!0:d,a.formationScale<this.scale||1==c))for(var e in a.containedNodes)if(a.containedNodes.hasOwnProperty(e)){var f=
a.containedNodes[e];1==c?(f.clusterSession==a.clusterSessions[a.clusterSessions.length-1]||b)&&this._expelChildFromParent(a,e,d,c,b):this._nodeInActiveArea(a)&&this._expelChildFromParent(a,e,d,c,b)}};g._expelChildFromParent=function(a,d,c,b,e){var f=a.containedNodes[d];if(f.formationScale<this.scale||1==b){this._unselectAll();this.nodes[d]=f;this._releaseContainedEdges(a,f);this._connectEdgeBackToChild(a,f);this._validateEdges(a);a.options.mass-=f.options.mass;a.clusterSize-=f.clusterSize;a.options.fontSize=
Math.min(this.constants.clustering.maxFontSize,this.constants.nodes.fontSize+this.constants.clustering.fontSizeMultiplier*(a.clusterSize-1));a.dynamicEdgesLength=a.dynamicEdges.length;f.x=a.x+a.growthIndicator*(.5-Math.random());f.y=a.y+a.growthIndicator*(.5-Math.random());delete a.containedNodes[d];d=!1;for(var g in a.containedNodes)if(a.containedNodes.hasOwnProperty(g)&&a.containedNodes[g].clusterSession==f.clusterSession){d=!0;break}0==d&&a.clusterSessions.pop();this._repositionBezierNodes(f);
f.clusterSession=0;a.clearSizeCache();this.moving=!0}1==c&&this._expandClusterNode(f,c,b,e)};g._repositionBezierNodes=function(a){for(var d=0;d<a.dynamicEdges.length;d++)a.dynamicEdges[d].positionBezierNode()};g._formClusters=function(a){0==a?this._formClustersByZoom():this._forceClustersByZoom()};g._formClustersByZoom=function(){var a,d,c=this.constants.clustering.clusterEdgeThreshold/this.scale,b;for(b in this.edges)if(this.edges.hasOwnProperty(b)){var e=this.edges[b];e.connected&&e.toId!=e.fromId&&
(a=e.to.x-e.from.x,d=e.to.y-e.from.y,a=Math.sqrt(a*a+d*d),a<c&&(a=e.from,d=e.to,e.to.options.mass>e.from.options.mass&&(a=e.to,d=e.from),1==d.dynamicEdgesLength?this._addToCluster(a,d,!1):1==a.dynamicEdgesLength&&this._addToCluster(d,a,!1)))}};g._forceClustersByZoom=function(){for(var a in this.nodes)if(this.nodes.hasOwnProperty(a)){var d=this.nodes[a];if(1==d.dynamicEdgesLength&&0!=d.dynamicEdges.length){var c=d.dynamicEdges[0],c=c.toId==d.id?this.nodes[c.fromId]:this.nodes[c.toId];d.id!=c.id&&(c.options.mass>
d.options.mass?this._addToCluster(c,d,!0):this._addToCluster(d,c,!0))}}};g._clusterToSmallestNeighbour=function(a){for(var d=-1,c=0;c<a.dynamicEdges.length;c++)if(void 0!==a.dynamicEdges[c]){var b=null;a.dynamicEdges[c].fromId!=a.id?b=a.dynamicEdges[c].from:a.dynamicEdges[c].toId!=a.id&&(b=a.dynamicEdges[c].to);null!=b&&d>b.clusterSessions.length&&(d=b.clusterSessions.length)}null!=b&&void 0!==this.nodes[b.id]&&this._addToCluster(b,a,!0)};g._formClustersByHub=function(a,d){for(var c in this.nodes)this.nodes.hasOwnProperty(c)&&
this._formClusterFromHub(this.nodes[c],a,d)};g._formClusterFromHub=function(a,d,c,b){void 0===b&&(b=0);if(a.dynamicEdgesLength>=this.hubThreshold&&0==c||a.dynamicEdgesLength==this.hubThreshold&&1==c){var e,f,g=this.constants.clustering.clusterEdgeThreshold/this.scale,k=!1;c=[];for(var h=a.dynamicEdges.length,n=0;n<h;n++)c.push(a.dynamicEdges[n].id);if(0==d)for(k=!1,n=0;n<h;n++)if(f=this.edges[c[n]],void 0!==f&&f.connected&&f.toId!=f.fromId&&(e=f.to.x-f.from.x,f=f.to.y-f.from.y,e=Math.sqrt(e*e+f*f),
e<g)){k=!0;break}if(!d&&k||d)for(n=0;n<h;n++)f=this.edges[c[n]],void 0!==f&&(g=this.nodes[f.fromId==a.id?f.toId:f.fromId],g.dynamicEdges.length<=this.hubThreshold+b&&g.id!=a.id&&this._addToCluster(a,g,d))}};g._addToCluster=function(a,d,c){a.containedNodes[d.id]=d;for(var b=0;b<d.dynamicEdges.length;b++){var e=d.dynamicEdges[b];e.toId==a.id||e.fromId==a.id?this._addToContainedEdges(a,d,e):this._connectEdgeToCluster(a,d,e)}d.dynamicEdges=[];this._containCircularEdgesFromNode(a,d);delete this.nodes[d.id];
b=a.options.mass;d.clusterSession=this.clusterSession;a.options.mass+=d.options.mass;a.clusterSize+=d.clusterSize;a.options.fontSize=Math.min(this.constants.clustering.maxFontSize,this.constants.nodes.fontSize+this.constants.clustering.fontSizeMultiplier*a.clusterSize);a.clusterSessions[a.clusterSessions.length-1]!=this.clusterSession&&a.clusterSessions.push(this.clusterSession);a.formationScale=1==c?0:this.scale;a.clearSizeCache();a.containedNodes[d.id].formationScale=a.formationScale;d.clearVelocity();
a.updateVelocity(b);this.moving=!0};g._updateDynamicEdges=function(){for(var a=0;a<this.nodeIndices.length;a++){var d=this.nodes[this.nodeIndices[a]];d.dynamicEdgesLength=d.dynamicEdges.length;var c=0;if(1<d.dynamicEdgesLength)for(var b=0;b<d.dynamicEdgesLength-1;b++)for(var e=d.dynamicEdges[b].toId,f=d.dynamicEdges[b].fromId,g=b+1;g<d.dynamicEdgesLength;g++)if(d.dynamicEdges[g].toId==e&&d.dynamicEdges[g].fromId==f||d.dynamicEdges[g].fromId==e&&d.dynamicEdges[g].toId==f)c+=1;d.dynamicEdgesLength-=
c}};g._addToContainedEdges=function(a,d,c){a.containedEdges.hasOwnProperty(d.id)||(a.containedEdges[d.id]=[]);a.containedEdges[d.id].push(c);delete this.edges[c.id];for(d=0;d<a.dynamicEdges.length;d++)if(a.dynamicEdges[d].id==c.id){a.dynamicEdges.splice(d,1);break}};g._connectEdgeToCluster=function(a,d,c){c.toId==c.fromId?this._addToContainedEdges(a,d,c):(c.toId==d.id?(c.originalToId.push(d.id),c.to=a,c.toId=a.id):(c.originalFromId.push(d.id),c.from=a,c.fromId=a.id),this._addToReroutedEdges(a,d,c))};
g._containCircularEdgesFromNode=function(a,d){for(var c=0;c<a.dynamicEdges.length;c++){var b=a.dynamicEdges[c];b.toId==b.fromId&&this._addToContainedEdges(a,d,b)}};g._addToReroutedEdges=function(a,d,c){a.reroutedEdges.hasOwnProperty(d.id)||(a.reroutedEdges[d.id]=[]);a.reroutedEdges[d.id].push(c);a.dynamicEdges.push(c)};g._connectEdgeBackToChild=function(a,d){if(a.reroutedEdges.hasOwnProperty(d.id)){for(var c=0;c<a.reroutedEdges[d.id].length;c++){var b=a.reroutedEdges[d.id][c];b.originalFromId[b.originalFromId.length-
1]==d.id?(b.originalFromId.pop(),b.fromId=d.id,b.from=d):(b.originalToId.pop(),b.toId=d.id,b.to=d);d.dynamicEdges.push(b);for(var e=0;e<a.dynamicEdges.length;e++)if(a.dynamicEdges[e].id==b.id){a.dynamicEdges.splice(e,1);break}}delete a.reroutedEdges[d.id]}};g._validateEdges=function(a){for(var d=0;d<a.dynamicEdges.length;d++){var c=a.dynamicEdges[d];a.id!=c.toId&&a.id!=c.fromId&&a.dynamicEdges.splice(d,1)}};g._releaseContainedEdges=function(a,d){for(var c=0;c<a.containedEdges[d.id].length;c++){var b=
a.containedEdges[d.id][c];this.edges[b.id]=b;d.dynamicEdges.push(b);a.dynamicEdges.push(b)}delete a.containedEdges[d.id]};g.updateLabels=function(){for(var a in this.nodes)if(this.nodes.hasOwnProperty(a)){var d=this.nodes[a];1<d.clusterSize&&(d.label="[".concat(String(d.clusterSize),"]"))}for(a in this.nodes)this.nodes.hasOwnProperty(a)&&(d=this.nodes[a],1==d.clusterSize&&(d.label=void 0!==d.originalLabel?d.originalLabel:String(d.id)))};g.normalizeClusterLevels=function(){var a=0,d=1E9,c=0,b;for(b in this.nodes)this.nodes.hasOwnProperty(b)&&
(c=this.nodes[b].clusterSessions.length,a<c&&(a=c),d>c&&(d=c));if(a-d>this.constants.clustering.clusterLevelDifference){d=this.nodeIndices.length;a-=this.constants.clustering.clusterLevelDifference;for(b in this.nodes)this.nodes.hasOwnProperty(b)&&this.nodes[b].clusterSessions.length<a&&this._clusterToSmallestNeighbour(this.nodes[b]);this._updateNodeIndexList();this._updateDynamicEdges();this.nodeIndices.length!=d&&(this.clusterSession+=1)}};g._nodeInActiveArea=function(a){return Math.abs(a.x-this.areaCenter.x)<=
this.constants.clustering.activeAreaBoxSize/this.scale&&Math.abs(a.y-this.areaCenter.y)<=this.constants.clustering.activeAreaBoxSize/this.scale};g.repositionNodes=function(){for(var a=0;a<this.nodeIndices.length;a++){var d=this.nodes[this.nodeIndices[a]];if(0==d.xFixed||0==d.yFixed){var c=1*this.nodeIndices.length*Math.min(100,d.options.mass),b=2*Math.PI*Math.random();0==d.xFixed&&(d.x=c*Math.cos(b));0==d.yFixed&&(d.y=c*Math.sin(b));this._repositionBezierNodes(d)}}};g._getHubSize=function(){for(var a=
0,d=0,c=0,b=0,e=0;e<this.nodeIndices.length;e++){var f=this.nodes[this.nodeIndices[e]];f.dynamicEdgesLength>b&&(b=f.dynamicEdgesLength);a+=f.dynamicEdgesLength;d+=Math.pow(f.dynamicEdgesLength,2);c+=1}a/=c;d=d/c-Math.pow(a,2);d=Math.sqrt(d);this.hubThreshold=Math.floor(a+2*d);this.hubThreshold>b&&(this.hubThreshold=b)};g._reduceAmountOfChains=function(a){this.hubThreshold=2;a=Math.floor(this.nodeIndices.length*a);for(var d in this.nodes)this.nodes.hasOwnProperty(d)&&2==this.nodes[d].dynamicEdgesLength&&
2<=this.nodes[d].dynamicEdges.length&&0<a&&(this._formClusterFromHub(this.nodes[d],!0,!0,1),--a)};g._getChainFraction=function(){var a=0,d=0,c;for(c in this.nodes)this.nodes.hasOwnProperty(c)&&(2==this.nodes[c].dynamicEdgesLength&&2<=this.nodes[c].dynamicEdges.length&&(a+=1),d+=1);return a/d}},function(q,g,m){var a=m(1),d=m(40);g._putDataInSector=function(){this.sectors.active[this._sector()].nodes=this.nodes;this.sectors.active[this._sector()].edges=this.edges;this.sectors.active[this._sector()].nodeIndices=
this.nodeIndices};g._switchToSector=function(a,b){void 0===b||"active"==b?this._switchToActiveSector(a):this._switchToFrozenSector(a)};g._switchToActiveSector=function(a){this.nodeIndices=this.sectors.active[a].nodeIndices;this.nodes=this.sectors.active[a].nodes;this.edges=this.sectors.active[a].edges};g._switchToSupportSector=function(){this.nodeIndices=this.sectors.support.nodeIndices;this.nodes=this.sectors.support.nodes;this.edges=this.sectors.support.edges};g._switchToFrozenSector=function(a){this.nodeIndices=
this.sectors.frozen[a].nodeIndices;this.nodes=this.sectors.frozen[a].nodes;this.edges=this.sectors.frozen[a].edges};g._loadLatestSector=function(){this._switchToSector(this._sector())};g._sector=function(){return this.activeSector[this.activeSector.length-1]};g._previousSector=function(){if(1<this.activeSector.length)return this.activeSector[this.activeSector.length-2];throw new TypeError("there are not enough sectors in the this.activeSector array.");};g._setActiveSector=function(a){this.activeSector.push(a)};
g._forgetLastSector=function(){this.activeSector.pop()};g._createNewSector=function(a){this.sectors.active[a]={nodes:{},edges:{},nodeIndices:[],formationScale:this.scale,drawingNode:void 0};this.sectors.active[a].drawingNode=new d({id:a,color:{background:"#eaefef",border:"495c5e"}},{},{},this.constants);this.sectors.active[a].drawingNode.clusterSize=2};g._deleteActiveSector=function(a){delete this.sectors.active[a]};g._deleteFrozenSector=function(a){delete this.sectors.frozen[a]};g._freezeSector=
function(a){this.sectors.frozen[a]=this.sectors.active[a];this._deleteActiveSector(a)};g._activateSector=function(a){this.sectors.active[a]=this.sectors.frozen[a];this._deleteFrozenSector(a)};g._mergeThisWithFrozen=function(a){for(var b in this.nodes)this.nodes.hasOwnProperty(b)&&(this.sectors.frozen[a].nodes[b]=this.nodes[b]);for(var d in this.edges)this.edges.hasOwnProperty(d)&&(this.sectors.frozen[a].edges[d]=this.edges[d]);for(b=0;b<this.nodeIndices.length;b++)this.sectors.frozen[a].nodeIndices.push(this.nodeIndices[b])};
g._collapseThisToSingleCluster=function(){this.clusterToFit(1,!1)};g._addSector=function(c){var b=this._sector();delete this.nodes[c.id];var d=a.randomUUID();this._freezeSector(b);this._createNewSector(d);this._setActiveSector(d);this._switchToSector(this._sector());this.nodes[c.id]=c};g._collapseSector=function(){var a=this._sector();if("default"!=a&&(1==this.nodeIndices.length||this.sectors.active[a].drawingNode.width*this.scale<this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientWidth||
this.sectors.active[a].drawingNode.height*this.scale<this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientHeight)){var b=this._previousSector();this._collapseThisToSingleCluster();this._mergeThisWithFrozen(b);this._deleteActiveSector(a);this._activateSector(b);this._switchToSector(b);this._forgetLastSector();this._updateNodeIndexList();this._updateCalculationNodes()}};g._doInAllActiveSectors=function(a,b){var d=[];if(void 0===b)for(var f in this.sectors.active)this.sectors.active.hasOwnProperty(f)&&
(this._switchToActiveSector(f),d.push(this[a]()));else for(f in this.sectors.active)if(this.sectors.active.hasOwnProperty(f)){this._switchToActiveSector(f);var g=Array.prototype.splice.call(arguments,1);1<g.length?d.push(this[a](g[0],g[1])):d.push(this[a](b))}this._loadLatestSector();return d};g._doInSupportSector=function(a,b){var d=!1;void 0===b?(this._switchToSupportSector(),d=this[a]()):(this._switchToSupportSector(),d=Array.prototype.splice.call(arguments,1),d=1<d.length?this[a](d[0],d[1]):this[a](b));
this._loadLatestSector();return d};g._doInAllFrozenSectors=function(a,b){if(void 0===b)for(var d in this.sectors.frozen)this.sectors.frozen.hasOwnProperty(d)&&(this._switchToFrozenSector(d),this[a]());else for(d in this.sectors.frozen)if(this.sectors.frozen.hasOwnProperty(d)){this._switchToFrozenSector(d);var f=Array.prototype.splice.call(arguments,1);if(1<f.length)this[a](f[0],f[1]);else this[a](b)}this._loadLatestSector()};g._doInAllSectors=function(a,b){var d=Array.prototype.splice.call(arguments,
1);void 0===b?(this._doInAllActiveSectors(a),this._doInAllFrozenSectors(a)):1<d.length?(this._doInAllActiveSectors(a,d[0],d[1]),this._doInAllFrozenSectors(a,d[0],d[1])):(this._doInAllActiveSectors(a,b),this._doInAllFrozenSectors(a,b))};g._clearNodeIndexList=function(){var a=this._sector();this.sectors.active[a].nodeIndices=[];this.nodeIndices=this.sectors.active[a].nodeIndices};g._drawSectorNodes=function(a,b){var d=1E9,f=-1E9,g=1E9,k=-1E9,h,n;for(n in this.sectors[b])if(this.sectors[b].hasOwnProperty(n)&&
void 0!==this.sectors[b][n].drawingNode){this._switchToSector(n,b);var d=1E9,f=-1E9,g=1E9,k=-1E9,p;for(p in this.nodes)this.nodes.hasOwnProperty(p)&&(h=this.nodes[p],h.resize(a),g>h.x-.5*h.width&&(g=h.x-.5*h.width),k<h.x+.5*h.width&&(k=h.x+.5*h.width),d>h.y-.5*h.height&&(d=h.y-.5*h.height),f<h.y+.5*h.height&&(f=h.y+.5*h.height));h=this.sectors[b][n].drawingNode;h.x=.5*(k+g);h.y=.5*(f+d);h.width=2*(h.x-g);h.height=2*(h.y-d);h.options.radius=Math.sqrt(Math.pow(.5*h.width,2)+Math.pow(.5*h.height,2));
h.setScale(this.scale);h._drawCircle(a)}};g._drawAllSectorNodes=function(a){this._drawSectorNodes(a,"frozen");this._drawSectorNodes(a,"active");this._loadLatestSector()}},function(q,g,m){var a=m(40);g._getNodesOverlappingWith=function(a,c){var b=this.nodes,e;for(e in b)b.hasOwnProperty(e)&&b[e].isOverlappingWith(a)&&c.push(e)};g._getAllNodesOverlappingWith=function(a){var c=[];this._doInAllActiveSectors("_getNodesOverlappingWith",a,c);return c};g._pointerToPositionObject=function(a){var c=this._XconvertDOMtoCanvas(a.x);
a=this._YconvertDOMtoCanvas(a.y);return{left:c,top:a,right:c,bottom:a}};g._getNodeAt=function(a){a=this._pointerToPositionObject(a);a=this._getAllNodesOverlappingWith(a);return 0<a.length?this.nodes[a[a.length-1]]:null};g._getEdgesOverlappingWith=function(a,c){var b=this.edges,e;for(e in b)b.hasOwnProperty(e)&&b[e].isOverlappingWith(a)&&c.push(e)};g._getAllEdgesOverlappingWith=function(a){var c=[];this._doInAllActiveSectors("_getEdgesOverlappingWith",a,c);return c};g._getEdgeAt=function(a){a=this._pointerToPositionObject(a);
a=this._getAllEdgesOverlappingWith(a);return 0<a.length?this.edges[a[a.length-1]]:null};g._addToSelection=function(d){d instanceof a?this.selectionObj.nodes[d.id]=d:this.selectionObj.edges[d.id]=d};g._addToHover=function(d){d instanceof a?this.hoverObj.nodes[d.id]=d:this.hoverObj.edges[d.id]=d};g._removeFromSelection=function(d){d instanceof a?delete this.selectionObj.nodes[d.id]:delete this.selectionObj.edges[d.id]};g._unselectAll=function(a){void 0===a&&(a=!1);for(var c in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(c)&&
this.selectionObj.nodes[c].unselect();for(var b in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(b)&&this.selectionObj.edges[b].unselect();this.selectionObj={nodes:{},edges:{}};0==a&&this.emit("select",this.getSelection())};g._unselectClusters=function(a){void 0===a&&(a=!1);for(var c in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(c)&&1<this.selectionObj.nodes[c].clusterSize&&(this.selectionObj.nodes[c].unselect(),this._removeFromSelection(this.selectionObj.nodes[c]));
0==a&&this.emit("select",this.getSelection())};g._getSelectedNodeCount=function(){var a=0,c;for(c in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(c)&&(a+=1);return a};g._getSelectedNode=function(){for(var a in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(a))return this.selectionObj.nodes[a];return null};g._getSelectedEdge=function(){for(var a in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(a))return this.selectionObj.edges[a];return null};
g._getSelectedEdgeCount=function(){var a=0,c;for(c in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(c)&&(a+=1);return a};g._getSelectedObjectCount=function(){var a=0,c;for(c in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(c)&&(a+=1);for(var b in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(b)&&(a+=1);return a};g._selectionIsEmpty=function(){for(var a in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(a))return!1;for(var c in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(c))return!1;
return!0};g._clusterInSelection=function(){for(var a in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(a)&&1<this.selectionObj.nodes[a].clusterSize)return!0;return!1};g._selectConnectedEdges=function(a){for(var c=0;c<a.dynamicEdges.length;c++){var b=a.dynamicEdges[c];b.select();this._addToSelection(b)}};g._hoverConnectedEdges=function(a){for(var c=0;c<a.dynamicEdges.length;c++){var b=a.dynamicEdges[c];b.hover=!0;this._addToHover(b)}};g._unselectConnectedEdges=function(a){for(var c=
0;c<a.dynamicEdges.length;c++){var b=a.dynamicEdges[c];b.unselect();this._removeFromSelection(b)}};g._selectObject=function(d,c,b,e,f){void 0===b&&(b=!1);void 0===e&&(e=!0);0==this._selectionIsEmpty()&&0==c&&0==this.forceAppendSelection&&this._unselectAll(!0);0!=d.selected||1!=this.constants.selectable&&!f?0==d.selected?(this._addToSelection(d),b=!0):(d.unselect(),this._removeFromSelection(d)):(d.select(),this._addToSelection(d),d instanceof a&&0==this.blockConnectingEdgeSelection&&1==e&&this._selectConnectedEdges(d));
0==b&&this.emit("select",this.getSelection())};g._blurObject=function(a){1==a.hover&&(a.hover=!1,this.emit("blurNode",{node:a.id}))};g._hoverObject=function(d){0==d.hover&&(d.hover=!0,this._addToHover(d),d instanceof a&&this.emit("hoverNode",{node:d.id}));d instanceof a&&this._hoverConnectedEdges(d)};g._handleTouch=function(a){};g._handleTap=function(a){var c=this._getNodeAt(a);null!=c?this._selectObject(c,!1):(c=this._getEdgeAt(a),null!=c?this._selectObject(c,!1):this._unselectAll());c=this.getSelection();
c.pointer={DOM:{x:a.x,y:a.y},canvas:{x:this._XconvertDOMtoCanvas(a.x),y:this._YconvertDOMtoCanvas(a.y)}};this.emit("click",c);this._redraw()};g._handleDoubleTap=function(a){var c=this._getNodeAt(a);null!=c&&void 0!==c&&(this.areaCenter={x:this._XconvertDOMtoCanvas(a.x),y:this._YconvertDOMtoCanvas(a.y)},this.openCluster(c));c=this.getSelection();c.pointer={DOM:{x:a.x,y:a.y},canvas:{x:this._XconvertDOMtoCanvas(a.x),y:this._YconvertDOMtoCanvas(a.y)}};this.emit("doubleClick",c)};g._handleOnHold=function(a){var c=
this._getNodeAt(a);null!=c?this._selectObject(c,!0):(a=this._getEdgeAt(a),null!=a&&this._selectObject(a,!0));this._redraw()};g._handleOnRelease=function(a){this._manipulationReleaseOverload(a);this._navigationReleaseOverload(a)};g._manipulationReleaseOverload=function(a){};g._navigationReleaseOverload=function(a){};g.getSelection=function(){var a=this.getSelectedNodes(),c=this.getSelectedEdges();return{nodes:a,edges:c}};g.getSelectedNodes=function(){var a=[];if(1==this.constants.selectable)for(var c in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(c)&&
a.push(c);return a};g.getSelectedEdges=function(){var a=[];if(1==this.constants.selectable)for(var c in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(c)&&a.push(c);return a};g.setSelection=function(){console.log("setSelection is deprecated. Please use selectNodes instead.")};g.selectNodes=function(a,c){var b,e,f;if(!a||void 0==a.length)throw"Selection must be an array with ids";this._unselectAll(!0);b=0;for(e=a.length;b<e;b++){f=a[b];var g=this.nodes[f];if(!g)throw new RangeError('Node with id "'+
f+'" not found');this._selectObject(g,!0,!0,c,!0)}this.redraw()};g.selectEdges=function(a){var c,b,e;if(!a||void 0==a.length)throw"Selection must be an array with ids";this._unselectAll(!0);c=0;for(b=a.length;c<b;c++){e=a[c];var f=this.edges[e];if(!f)throw new RangeError('Edge with id "'+e+'" not found');this._selectObject(f,!0,!0,!1,!0)}this.redraw()};g._updateSelection=function(){for(var a in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(a)&&(this.nodes.hasOwnProperty(a)||delete this.selectionObj.nodes[a]);
for(var c in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(c)&&(this.edges.hasOwnProperty(c)||delete this.selectionObj.edges[c])}},function(q,g,m){var a=m(1),d=m(40),c=m(37);g._clearManipulatorBar=function(){for(;this.manipulationDiv.hasChildNodes();)this.manipulationDiv.removeChild(this.manipulationDiv.firstChild);this.manipulationDOM={};this._manipulationReleaseOverload=function(){};delete this.sectors.support.nodes.targetNode;delete this.sectors.support.nodes.targetViaNode;this.controlNodesActive=
!1};g._restoreOverloadedFunctions=function(){for(var a in this.cachedFunctions)this.cachedFunctions.hasOwnProperty(a)&&(this[a]=this.cachedFunctions[a])};g._toggleEditMode=function(){this.editMode=!this.editMode;var a=this.manipulationDiv,c=this.closeDiv,d=this.editModeDiv;1==this.editMode?(a.style.display="block",c.style.display="block",d.style.display="none",c.onclick=this._toggleEditMode.bind(this)):(a.style.display="none",c.style.display="none",d.style.display="block",c.onclick=null);this._createManipulatorBar()};
g._createManipulatorBar=function(){this.boundFunction&&this.off("select",this.boundFunction);var a=this.constants.locales[this.constants.locale];void 0!==this.edgeBeingEdited&&(this.edgeBeingEdited._disableControlNodes(),this.edgeBeingEdited=void 0,this.selectedControlNode=null,this.controlNodesActive=!1,this._redraw());this._restoreOverloadedFunctions();this.forceAppendSelection=this.blockConnectingEdgeSelection=this.freezeSimulation=!1;this.manipulationDOM={};if(1==this.editMode){for(;this.manipulationDiv.hasChildNodes();)this.manipulationDiv.removeChild(this.manipulationDiv.firstChild);
this.manipulationDOM.addNodeSpan=document.createElement("span");this.manipulationDOM.addNodeSpan.className="network-manipulationUI add";this.manipulationDOM.addNodeLabelSpan=document.createElement("span");this.manipulationDOM.addNodeLabelSpan.className="network-manipulationLabel";this.manipulationDOM.addNodeLabelSpan.innerHTML=a.addNode;this.manipulationDOM.addNodeSpan.appendChild(this.manipulationDOM.addNodeLabelSpan);this.manipulationDOM.seperatorLineDiv1=document.createElement("div");this.manipulationDOM.seperatorLineDiv1.className=
"network-seperatorLine";this.manipulationDOM.addEdgeSpan=document.createElement("span");this.manipulationDOM.addEdgeSpan.className="network-manipulationUI connect";this.manipulationDOM.addEdgeLabelSpan=document.createElement("span");this.manipulationDOM.addEdgeLabelSpan.className="network-manipulationLabel";this.manipulationDOM.addEdgeLabelSpan.innerHTML=a.addEdge;this.manipulationDOM.addEdgeSpan.appendChild(this.manipulationDOM.addEdgeLabelSpan);this.manipulationDiv.appendChild(this.manipulationDOM.addNodeSpan);
this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv1);this.manipulationDiv.appendChild(this.manipulationDOM.addEdgeSpan);1==this._getSelectedNodeCount()&&this.triggerFunctions.edit?(this.manipulationDOM.seperatorLineDiv2=document.createElement("div"),this.manipulationDOM.seperatorLineDiv2.className="network-seperatorLine",this.manipulationDOM.editNodeSpan=document.createElement("span"),this.manipulationDOM.editNodeSpan.className="network-manipulationUI edit",this.manipulationDOM.editNodeLabelSpan=
document.createElement("span"),this.manipulationDOM.editNodeLabelSpan.className="network-manipulationLabel",this.manipulationDOM.editNodeLabelSpan.innerHTML=a.editNode,this.manipulationDOM.editNodeSpan.appendChild(this.manipulationDOM.editNodeLabelSpan),this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv2),this.manipulationDiv.appendChild(this.manipulationDOM.editNodeSpan)):1==this._getSelectedEdgeCount()&&0==this._getSelectedNodeCount()&&(this.manipulationDOM.seperatorLineDiv3=
document.createElement("div"),this.manipulationDOM.seperatorLineDiv3.className="network-seperatorLine",this.manipulationDOM.editEdgeSpan=document.createElement("span"),this.manipulationDOM.editEdgeSpan.className="network-manipulationUI edit",this.manipulationDOM.editEdgeLabelSpan=document.createElement("span"),this.manipulationDOM.editEdgeLabelSpan.className="network-manipulationLabel",this.manipulationDOM.editEdgeLabelSpan.innerHTML=a.editEdge,this.manipulationDOM.editEdgeSpan.appendChild(this.manipulationDOM.editEdgeLabelSpan),
this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv3),this.manipulationDiv.appendChild(this.manipulationDOM.editEdgeSpan));0==this._selectionIsEmpty()&&(this.manipulationDOM.seperatorLineDiv4=document.createElement("div"),this.manipulationDOM.seperatorLineDiv4.className="network-seperatorLine",this.manipulationDOM.deleteSpan=document.createElement("span"),this.manipulationDOM.deleteSpan.className="network-manipulationUI delete",this.manipulationDOM.deleteLabelSpan=document.createElement("span"),
this.manipulationDOM.deleteLabelSpan.className="network-manipulationLabel",this.manipulationDOM.deleteLabelSpan.innerHTML=a.del,this.manipulationDOM.deleteSpan.appendChild(this.manipulationDOM.deleteLabelSpan),this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv4),this.manipulationDiv.appendChild(this.manipulationDOM.deleteSpan));this.manipulationDOM.addNodeSpan.onclick=this._createAddNodeToolbar.bind(this);this.manipulationDOM.addEdgeSpan.onclick=this._createAddEdgeToolbar.bind(this);
1==this._getSelectedNodeCount()&&this.triggerFunctions.edit?this.manipulationDOM.editNodeSpan.onclick=this._editNode.bind(this):1==this._getSelectedEdgeCount()&&0==this._getSelectedNodeCount()&&(this.manipulationDOM.editEdgeSpan.onclick=this._createEditEdgeToolbar.bind(this));0==this._selectionIsEmpty()&&(this.manipulationDOM.deleteSpan.onclick=this._deleteSelected.bind(this));this.closeDiv.onclick=this._toggleEditMode.bind(this);this.boundFunction=this._createManipulatorBar.bind(this);this.on("select",
this.boundFunction)}else{for(;this.editModeDiv.hasChildNodes();)this.editModeDiv.removeChild(this.editModeDiv.firstChild);this.manipulationDOM.editModeSpan=document.createElement("span");this.manipulationDOM.editModeSpan.className="network-manipulationUI edit editmode";this.manipulationDOM.editModeLabelSpan=document.createElement("span");this.manipulationDOM.editModeLabelSpan.className="network-manipulationLabel";this.manipulationDOM.editModeLabelSpan.innerHTML=a.edit;this.manipulationDOM.editModeSpan.appendChild(this.manipulationDOM.editModeLabelSpan);
this.editModeDiv.appendChild(this.manipulationDOM.editModeSpan);this.manipulationDOM.editModeSpan.onclick=this._toggleEditMode.bind(this)}};g._createAddNodeToolbar=function(){this._clearManipulatorBar();this.boundFunction&&this.off("select",this.boundFunction);var a=this.constants.locales[this.constants.locale];this.manipulationDOM={};this.manipulationDOM.backSpan=document.createElement("span");this.manipulationDOM.backSpan.className="network-manipulationUI back";this.manipulationDOM.backLabelSpan=
document.createElement("span");this.manipulationDOM.backLabelSpan.className="network-manipulationLabel";this.manipulationDOM.backLabelSpan.innerHTML=a.back;this.manipulationDOM.backSpan.appendChild(this.manipulationDOM.backLabelSpan);this.manipulationDOM.seperatorLineDiv1=document.createElement("div");this.manipulationDOM.seperatorLineDiv1.className="network-seperatorLine";this.manipulationDOM.descriptionSpan=document.createElement("span");this.manipulationDOM.descriptionSpan.className="network-manipulationUI none";
this.manipulationDOM.descriptionLabelSpan=document.createElement("span");this.manipulationDOM.descriptionLabelSpan.className="network-manipulationLabel";this.manipulationDOM.descriptionLabelSpan.innerHTML=a.addDescription;this.manipulationDOM.descriptionSpan.appendChild(this.manipulationDOM.descriptionLabelSpan);this.manipulationDiv.appendChild(this.manipulationDOM.backSpan);this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv1);this.manipulationDiv.appendChild(this.manipulationDOM.descriptionSpan);
this.manipulationDOM.backSpan.onclick=this._createManipulatorBar.bind(this);this.boundFunction=this._addNode.bind(this);this.on("select",this.boundFunction)};g._createAddEdgeToolbar=function(){this._clearManipulatorBar();this._unselectAll(!0);this.freezeSimulation=!0;var a=this.constants.locales[this.constants.locale];this.boundFunction&&this.off("select",this.boundFunction);this._unselectAll();this.forceAppendSelection=!1;this.blockConnectingEdgeSelection=!0;this.manipulationDOM={};this.manipulationDOM.backSpan=
document.createElement("span");this.manipulationDOM.backSpan.className="network-manipulationUI back";this.manipulationDOM.backLabelSpan=document.createElement("span");this.manipulationDOM.backLabelSpan.className="network-manipulationLabel";this.manipulationDOM.backLabelSpan.innerHTML=a.back;this.manipulationDOM.backSpan.appendChild(this.manipulationDOM.backLabelSpan);this.manipulationDOM.seperatorLineDiv1=document.createElement("div");this.manipulationDOM.seperatorLineDiv1.className="network-seperatorLine";
this.manipulationDOM.descriptionSpan=document.createElement("span");this.manipulationDOM.descriptionSpan.className="network-manipulationUI none";this.manipulationDOM.descriptionLabelSpan=document.createElement("span");this.manipulationDOM.descriptionLabelSpan.className="network-manipulationLabel";this.manipulationDOM.descriptionLabelSpan.innerHTML=a.edgeDescription;this.manipulationDOM.descriptionSpan.appendChild(this.manipulationDOM.descriptionLabelSpan);this.manipulationDiv.appendChild(this.manipulationDOM.backSpan);
this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv1);this.manipulationDiv.appendChild(this.manipulationDOM.descriptionSpan);this.manipulationDOM.backSpan.onclick=this._createManipulatorBar.bind(this);this.boundFunction=this._handleConnect.bind(this);this.on("select",this.boundFunction);this.cachedFunctions._handleTouch=this._handleTouch;this.cachedFunctions._manipulationReleaseOverload=this._manipulationReleaseOverload;this.cachedFunctions._handleDragStart=this._handleDragStart;
this.cachedFunctions._handleDragEnd=this._handleDragEnd;this._handleTouch=this._handleConnect;this._manipulationReleaseOverload=function(){};this._handleDragStart=function(){};this._handleDragEnd=this._finishConnect;this._redraw()};g._createEditEdgeToolbar=function(){this._clearManipulatorBar();this.controlNodesActive=!0;this.boundFunction&&this.off("select",this.boundFunction);this.edgeBeingEdited=this._getSelectedEdge();this.edgeBeingEdited._enableControlNodes();var a=this.constants.locales[this.constants.locale];
this.manipulationDOM={};this.manipulationDOM.backSpan=document.createElement("span");this.manipulationDOM.backSpan.className="network-manipulationUI back";this.manipulationDOM.backLabelSpan=document.createElement("span");this.manipulationDOM.backLabelSpan.className="network-manipulationLabel";this.manipulationDOM.backLabelSpan.innerHTML=a.back;this.manipulationDOM.backSpan.appendChild(this.manipulationDOM.backLabelSpan);this.manipulationDOM.seperatorLineDiv1=document.createElement("div");this.manipulationDOM.seperatorLineDiv1.className=
"network-seperatorLine";this.manipulationDOM.descriptionSpan=document.createElement("span");this.manipulationDOM.descriptionSpan.className="network-manipulationUI none";this.manipulationDOM.descriptionLabelSpan=document.createElement("span");this.manipulationDOM.descriptionLabelSpan.className="network-manipulationLabel";this.manipulationDOM.descriptionLabelSpan.innerHTML=a.editEdgeDescription;this.manipulationDOM.descriptionSpan.appendChild(this.manipulationDOM.descriptionLabelSpan);this.manipulationDiv.appendChild(this.manipulationDOM.backSpan);
this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv1);this.manipulationDiv.appendChild(this.manipulationDOM.descriptionSpan);this.manipulationDOM.backSpan.onclick=this._createManipulatorBar.bind(this);this.cachedFunctions._handleTouch=this._handleTouch;this.cachedFunctions._manipulationReleaseOverload=this._manipulationReleaseOverload;this.cachedFunctions._handleTap=this._handleTap;this.cachedFunctions._handleDragStart=this._handleDragStart;this.cachedFunctions._handleOnDrag=this._handleOnDrag;
this._handleTouch=this._selectControlNode;this._handleTap=function(){};this._handleOnDrag=this._controlNodeDrag;this._handleDragStart=function(){};this._manipulationReleaseOverload=this._releaseControlNode;this._redraw()};g._selectControlNode=function(a){this.edgeBeingEdited.controlNodes.from.unselect();this.edgeBeingEdited.controlNodes.to.unselect();this.selectedControlNode=this.edgeBeingEdited._getSelectedControlNode(this._XconvertDOMtoCanvas(a.x),this._YconvertDOMtoCanvas(a.y));null!==this.selectedControlNode&&
(this.selectedControlNode.select(),this.freezeSimulation=!0);this._redraw()};g._controlNodeDrag=function(a){a=this._getPointer(a.gesture.center);null!==this.selectedControlNode&&void 0!==this.selectedControlNode&&(this.selectedControlNode.x=this._XconvertDOMtoCanvas(a.x),this.selectedControlNode.y=this._YconvertDOMtoCanvas(a.y));this._redraw()};g._releaseControlNode=function(a){a=this._getNodeAt(a);null!==a?(1==this.edgeBeingEdited.controlNodes.from.selected&&(this._editEdge(a.id,this.edgeBeingEdited.to.id),
this.edgeBeingEdited.controlNodes.from.unselect()),1==this.edgeBeingEdited.controlNodes.to.selected&&(this._editEdge(this.edgeBeingEdited.from.id,a.id),this.edgeBeingEdited.controlNodes.to.unselect())):this.edgeBeingEdited._restoreControlNodes();this.freezeSimulation=!1;this._redraw()};g._handleConnect=function(a){if(0==this._getSelectedNodeCount()&&(a=this._getNodeAt(a),null!=a))if(1<a.clusterSize)alert(this.constants.locales[this.constants.locale].createEdgeError);else{this._selectObject(a,!1);
var e=this.sectors.support.nodes;e.targetNode=new d({id:"targetNode"},{},{},this.constants);e=e.targetNode;e.x=a.x;e.y=a.y;this.edges.connectionEdge=new c({id:"connectionEdge",from:a.id,to:e.id},this,this.constants);var f=this.edges.connectionEdge;f.from=a;f.connected=!0;f.options.smoothCurves={enabled:!0,dynamic:!1,type:"continuous",roundness:.5};f.selected=!0;f.to=e;this.cachedFunctions._handleOnDrag=this._handleOnDrag;this._handleOnDrag=function(a){a=this._getPointer(a.gesture.center);var b=this.edges.connectionEdge;
b.to.x=this._XconvertDOMtoCanvas(a.x);b.to.y=this._YconvertDOMtoCanvas(a.y)};this.moving=!0;this.start()}};g._finishConnect=function(a){if(1==this._getSelectedNodeCount()){var c=this._getPointer(a.gesture.center);this._handleOnDrag=this.cachedFunctions._handleOnDrag;delete this.cachedFunctions._handleOnDrag;a=this.edges.connectionEdge.fromId;delete this.edges.connectionEdge;delete this.sectors.support.nodes.targetNode;delete this.sectors.support.nodes.targetViaNode;c=this._getNodeAt(c);null!=c&&(1<
c.clusterSize?alert(this.constants.locales[this.constants.locale].createEdgeError):(this._createEdge(a,c.id),this._createManipulatorBar()));this._unselectAll()}};g._addNode=function(){if(this._selectionIsEmpty()&&1==this.editMode){var b=this._pointerToPositionObject(this.pointerPosition),b={id:a.randomUUID(),x:b.left,y:b.top,label:"new",allowedToMoveX:!0,allowedToMoveY:!0};if(this.triggerFunctions.add)if(2==this.triggerFunctions.add.length){var c=this;this.triggerFunctions.add(b,function(a){c.nodesData.add(a);
c._createManipulatorBar();c.moving=!0;c.start()})}else throw Error("The function for add does not support two arguments (data,callback)");else this.nodesData.add(b),this._createManipulatorBar(),this.moving=!0,this.start()}};g._createEdge=function(a,c){if(1==this.editMode){var d={from:a,to:c};if(this.triggerFunctions.connect)if(2==this.triggerFunctions.connect.length){var g=this;this.triggerFunctions.connect(d,function(a){g.edgesData.add(a);g.moving=!0;g.start()})}else throw Error("The function for connect does not support two arguments (data,callback)");
else this.edgesData.add(d),this.moving=!0,this.start()}};g._editEdge=function(a,c){if(1==this.editMode){var d={id:this.edgeBeingEdited.id,from:a,to:c};if(this.triggerFunctions.editEdge)if(2==this.triggerFunctions.editEdge.length){var g=this;this.triggerFunctions.editEdge(d,function(a){g.edgesData.update(a);g.moving=!0;g.start()})}else throw Error("The function for edit does not support two arguments (data, callback)");else this.edgesData.update(d),this.moving=!0,this.start()}};g._editNode=function(){if(this.triggerFunctions.edit&&
1==this.editMode){var a=this._getSelectedNode(),a={id:a.id,label:a.label,group:a.options.group,shape:a.options.shape,color:{background:a.options.color.background,border:a.options.color.border,highlight:{background:a.options.color.highlight.background,border:a.options.color.highlight.border}}};if(2==this.triggerFunctions.edit.length){var c=this;this.triggerFunctions.edit(a,function(a){c.nodesData.update(a);c._createManipulatorBar();c.moving=!0;c.start()})}else throw Error("The function for edit does not support two arguments (data, callback)");
}else throw Error("No edit function has been bound to this button");};g._deleteSelected=function(){if(!this._selectionIsEmpty()&&1==this.editMode)if(this._clusterInSelection())alert(this.constants.locales[this.constants.locale].deleteClusterError);else{var a=this.getSelectedNodes(),c=this.getSelectedEdges();if(this.triggerFunctions.del){var d=this,a={nodes:a,edges:c};if(2==this.triggerFunctions.del.length)this.triggerFunctions.del(a,function(a){d.edgesData.remove(a.edges);d.nodesData.remove(a.nodes);
d._unselectAll();d.moving=!0;d.start()});else throw Error("The function for delete does not support two arguments (data, callback)");}else this.edgesData.remove(c),this.nodesData.remove(a),this._unselectAll(),this.moving=!0,this.start()}}},function(q,g,m){m(1);var a=m(45);g._cleanNavigation=function(){if(0!=this.navigationHammers.existing.length){for(var a=0;a<this.navigationHammers.existing.length;a++)this.navigationHammers.existing[a].dispose();this.navigationHammers.existing=[]}this._navigationReleaseOverload=
function(){};this.navigationDivs&&this.navigationDivs.wrapper&&this.navigationDivs.wrapper.parentNode&&this.navigationDivs.wrapper.parentNode.removeChild(this.navigationDivs.wrapper)};g._loadNavigationElements=function(){this._cleanNavigation();this.navigationDivs={};var d="up down left right zoomIn zoomOut zoomExtends".split(" "),c="_moveUp _moveDown _moveLeft _moveRight _zoomIn _zoomOut _zoomExtent".split(" ");this.navigationDivs.wrapper=document.createElement("div");this.frame.appendChild(this.navigationDivs.wrapper);
for(var b=0;b<d.length;b++){this.navigationDivs[d[b]]=document.createElement("div");this.navigationDivs[d[b]].className="network-navigation "+d[b];this.navigationDivs.wrapper.appendChild(this.navigationDivs[d[b]]);var e=a(this.navigationDivs[d[b]],{prevent_default:!0});e.on("touch",this[c[b]].bind(this));this.navigationHammers._new.push(e)}this._navigationReleaseOverload=this._stopMovement;this.navigationHammers.existing=this.navigationHammers._new};g._zoomExtent=function(a){this.zoomExtent({duration:700});
a.stopPropagation()};g._stopMovement=function(){this._xStopMoving();this._yStopMoving();this._stopZoom()};g._moveUp=function(a){this.yIncrement=this.constants.keyboard.speed.y;this.start();a.preventDefault()};g._moveDown=function(a){this.yIncrement=-this.constants.keyboard.speed.y;this.start();a.preventDefault()};g._moveLeft=function(a){this.xIncrement=this.constants.keyboard.speed.x;this.start();a.preventDefault()};g._moveRight=function(a){this.xIncrement=-this.constants.keyboard.speed.y;this.start();
a.preventDefault()};g._zoomIn=function(a){this.zoomIncrement=this.constants.keyboard.speed.zoom;this.start();a.preventDefault()};g._zoomOut=function(a){this.zoomIncrement=-this.constants.keyboard.speed.zoom;this.start();a.preventDefault()};g._stopZoom=function(a){this.zoomIncrement=0;a&&a.preventDefault()};g._yStopMoving=function(a){this.yIncrement=0;a&&a.preventDefault()};g._xStopMoving=function(a){this.xIncrement=0;a&&a.preventDefault()}},function(q,g,m){g._resetLevels=function(){for(var a in this.nodes)if(this.nodes.hasOwnProperty(a)){var d=
this.nodes[a];0==d.preassignedLevel&&(d.level=-1,d.hierarchyEnumerated=!1)}};g._setupHierarchicalLayout=function(){if(1==this.constants.hierarchicalLayout.enabled&&0<this.nodeIndices.length){this.constants.hierarchicalLayout.levelSeparation="RL"==this.constants.hierarchicalLayout.direction||"DU"==this.constants.hierarchicalLayout.direction?0>this.constants.hierarchicalLayout.levelSeparation?this.constants.hierarchicalLayout.levelSeparation:-1*this.constants.hierarchicalLayout.levelSeparation:Math.abs(this.constants.hierarchicalLayout.levelSeparation);
"RL"==this.constants.hierarchicalLayout.direction||"LR"==this.constants.hierarchicalLayout.direction?1==this.constants.smoothCurves.enabled&&(this.constants.smoothCurves.type="vertical"):1==this.constants.smoothCurves.enabled&&(this.constants.smoothCurves.type="horizontal");var a=0,d,c,b=!1,e=!1;for(c in this.nodes)this.nodes.hasOwnProperty(c)&&(d=this.nodes[c],-1!=d.level?b=!0:e=!0,a<d.edges.length&&(a=d.edges.length));if(1==e&&1==b)throw Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");
this._changeConstants();1==e&&("hubsize"==this.constants.hierarchicalLayout.layout?this._determineLevels(a):this._determineLevelsDirected());a=this._getDistribution();this._placeNodesByHierarchy(a);this.start()}};g._placeNodesByHierarchy=function(a){var d,c,b;for(b in a)if(a.hasOwnProperty(b))for(d in a[b].nodes)a[b].nodes.hasOwnProperty(d)&&(c=a[b].nodes[d],"UD"==this.constants.hierarchicalLayout.direction||"DU"==this.constants.hierarchicalLayout.direction?c.xFixed&&(c.x=a[b].minPos,c.xFixed=!1,
a[b].minPos+=a[b].nodeSpacing):c.yFixed&&(c.y=a[b].minPos,c.yFixed=!1,a[b].minPos+=a[b].nodeSpacing),this._placeBranchNodes(c.edges,c.id,a,c.level));this._stabilize()};g._getDistribution=function(){var a={},d,c,b;for(d in this.nodes)this.nodes.hasOwnProperty(d)&&(c=this.nodes[d],c.xFixed=!0,c.yFixed=!0,"UD"==this.constants.hierarchicalLayout.direction||"DU"==this.constants.hierarchicalLayout.direction?c.y=this.constants.hierarchicalLayout.levelSeparation*c.level:c.x=this.constants.hierarchicalLayout.levelSeparation*
c.level,void 0===a[c.level]&&(a[c.level]={amount:0,nodes:{},minPos:0,nodeSpacing:0}),a[c.level].amount+=1,a[c.level].nodes[d]=c);d=0;for(b in a)a.hasOwnProperty(b)&&d<a[b].amount&&(d=a[b].amount);for(b in a)a.hasOwnProperty(b)&&(a[b].nodeSpacing=(d+1)*this.constants.hierarchicalLayout.nodeSpacing,a[b].nodeSpacing/=a[b].amount+1,a[b].minPos=a[b].nodeSpacing-.5*(a[b].amount+1)*a[b].nodeSpacing);return a};g._determineLevels=function(a){var d,c;for(d in this.nodes)this.nodes.hasOwnProperty(d)&&(c=this.nodes[d],
c.edges.length==a&&(c.level=0));for(d in this.nodes)this.nodes.hasOwnProperty(d)&&(c=this.nodes[d],0==c.level&&this._setLevel(1,c.edges,c.id))};g._determineLevelsDirected=function(){var a,d;for(a in this.nodes)if(this.nodes.hasOwnProperty(a)){this.nodes[a].level=1E4;break}for(a in this.nodes)this.nodes.hasOwnProperty(a)&&(d=this.nodes[a],1E4==d.level&&this._setLevelDirected(1E4,d.edges,d.id));var c=1E4;for(a in this.nodes)this.nodes.hasOwnProperty(a)&&(d=this.nodes[a],c=d.level<c?d.level:c);for(a in this.nodes)this.nodes.hasOwnProperty(a)&&
(d=this.nodes[a],d.level-=c)};g._changeConstants=function(){this.constants.clustering.enabled=!1;this.constants.physics.barnesHut.enabled=!1;this.constants.physics.hierarchicalRepulsion.enabled=!0;this._loadSelectedForceSolver();1==this.constants.smoothCurves.enabled&&(this.constants.smoothCurves.dynamic=!1);this._configureSmoothCurves()};g._placeBranchNodes=function(a,d,c,b){for(var e=0;e<a.length;e++){var f=null,f=a[e].toId==d?a[e].from:a[e].to,g=!1;"UD"==this.constants.hierarchicalLayout.direction||
"DU"==this.constants.hierarchicalLayout.direction?f.xFixed&&f.level>b&&(f.xFixed=!1,f.x=c[f.level].minPos,g=!0):f.yFixed&&f.level>b&&(f.yFixed=!1,f.y=c[f.level].minPos,g=!0);1==g&&(c[f.level].minPos+=c[f.level].nodeSpacing,1<f.edges.length&&this._placeBranchNodes(f.edges,f.id,c,f.level))}};g._setLevel=function(a,d,c){for(var b=0;b<d.length;b++){var e=null,e=d[b].toId==c?d[b].from:d[b].to;if(-1==e.level||e.level>a)e.level=a,1<e.edges.length&&this._setLevel(a+1,e.edges,e.id)}};g._setLevelDirected=function(a,
d,c){this.nodes[c].hierarchyEnumerated=!0;for(var b=0;b<d.length;b++){var e=null,f=1;d[b].toId==c?(e=d[b].from,f=-1):e=d[b].to;-1==e.level&&(e.level=a+f)}for(b=0;b<d.length;b++)e=d[b].toId==c?d[b].from:d[b].to,1<e.edges.length&&!1===e.hierarchyEnumerated&&this._setLevelDirected(e.level,e.edges,e.id)};g._restoreNodes=function(){for(var a in this.nodes)this.nodes.hasOwnProperty(a)&&(this.nodes[a].xFixed=!1,this.nodes[a].yFixed=!1)}},function(q,g,m){function a(){this.constants.smoothCurves.enabled=!this.constants.smoothCurves.enabled;
document.getElementById("graph_toggleSmooth").style.background=1==this.constants.smoothCurves.enabled?"#A4FF56":"#FF8532";this._configureSmoothCurves(!1)}function d(){for(var a in this.calculationNodes)this.calculationNodes.hasOwnProperty(a)&&(this.calculationNodes[a].vx=0,this.calculationNodes[a].vy=0,this.calculationNodes[a].fx=0,this.calculationNodes[a].fy=0);1==this.constants.hierarchicalLayout.enabled?(this._setupHierarchicalLayout(),e.call(this,"graph_H_nd",1,"physics_hierarchicalRepulsion_nodeDistance"),
e.call(this,"graph_H_cg",1,"physics_centralGravity"),e.call(this,"graph_H_sc",1,"physics_springConstant"),e.call(this,"graph_H_sl",1,"physics_springLength"),e.call(this,"graph_H_damp",1,"physics_damping")):this.repositionNodes();this.moving=!0;this.start()}function c(){var a="No options are required, default values used.",b=[],c=document.getElementById("graph_physicsMethod1"),d=document.getElementById("graph_physicsMethod2");if(1==c.checked){this.constants.physics.barnesHut.gravitationalConstant!=
this.backupConstants.physics.barnesHut.gravitationalConstant&&b.push("gravitationalConstant: "+this.constants.physics.barnesHut.gravitationalConstant);this.constants.physics.centralGravity!=this.backupConstants.physics.barnesHut.centralGravity&&b.push("centralGravity: "+this.constants.physics.centralGravity);this.constants.physics.springLength!=this.backupConstants.physics.barnesHut.springLength&&b.push("springLength: "+this.constants.physics.springLength);this.constants.physics.springConstant!=this.backupConstants.physics.barnesHut.springConstant&&
b.push("springConstant: "+this.constants.physics.springConstant);this.constants.physics.damping!=this.backupConstants.physics.barnesHut.damping&&b.push("damping: "+this.constants.physics.damping);if(0!=b.length){a="var options = {physics: {barnesHut: {";for(c=0;c<b.length;c++)a+=b[c],c<b.length-1&&(a+=", ");a+="}}"}this.constants.smoothCurves.enabled!=this.backupConstants.smoothCurves.enabled&&(a=0==b.length?"var options = {":a+", ",a+="smoothCurves: "+this.constants.smoothCurves.enabled);"No options are required, default values used."!=
a&&(a+="};")}else{if(1==d.checked){a="var options = {physics: {barnesHut: {enabled: false}";this.constants.physics.repulsion.nodeDistance!=this.backupConstants.physics.repulsion.nodeDistance&&b.push("nodeDistance: "+this.constants.physics.repulsion.nodeDistance);this.constants.physics.centralGravity!=this.backupConstants.physics.repulsion.centralGravity&&b.push("centralGravity: "+this.constants.physics.centralGravity);this.constants.physics.springLength!=this.backupConstants.physics.repulsion.springLength&&
b.push("springLength: "+this.constants.physics.springLength);this.constants.physics.springConstant!=this.backupConstants.physics.repulsion.springConstant&&b.push("springConstant: "+this.constants.physics.springConstant);this.constants.physics.damping!=this.backupConstants.physics.repulsion.damping&&b.push("damping: "+this.constants.physics.damping);if(0!=b.length){a+=", repulsion: {";for(c=0;c<b.length;c++)a+=b[c],c<b.length-1&&(a+=", ");a+="}}"}0==b.length&&(a+="}");this.constants.smoothCurves!=
this.backupConstants.smoothCurves&&(a+=", smoothCurves: "+this.constants.smoothCurves)}else{a="var options = {";this.constants.physics.hierarchicalRepulsion.nodeDistance!=this.backupConstants.physics.hierarchicalRepulsion.nodeDistance&&b.push("nodeDistance: "+this.constants.physics.hierarchicalRepulsion.nodeDistance);this.constants.physics.centralGravity!=this.backupConstants.physics.hierarchicalRepulsion.centralGravity&&b.push("centralGravity: "+this.constants.physics.centralGravity);this.constants.physics.springLength!=
this.backupConstants.physics.hierarchicalRepulsion.springLength&&b.push("springLength: "+this.constants.physics.springLength);this.constants.physics.springConstant!=this.backupConstants.physics.hierarchicalRepulsion.springConstant&&b.push("springConstant: "+this.constants.physics.springConstant);this.constants.physics.damping!=this.backupConstants.physics.hierarchicalRepulsion.damping&&b.push("damping: "+this.constants.physics.damping);if(0!=b.length){a+="physics: {hierarchicalRepulsion: {";for(c=
0;c<b.length;c++)a+=b[c],c<b.length-1&&(a+=", ");a+="}},"}a+="hierarchicalLayout: {";b=[];this.constants.hierarchicalLayout.direction!=this.backupConstants.hierarchicalLayout.direction&&b.push("direction: "+this.constants.hierarchicalLayout.direction);Math.abs(this.constants.hierarchicalLayout.levelSeparation)!=this.backupConstants.hierarchicalLayout.levelSeparation&&b.push("levelSeparation: "+this.constants.hierarchicalLayout.levelSeparation);this.constants.hierarchicalLayout.nodeSpacing!=this.backupConstants.hierarchicalLayout.nodeSpacing&&
b.push("nodeSpacing: "+this.constants.hierarchicalLayout.nodeSpacing);if(0!=b.length){for(c=0;c<b.length;c++)a+=b[c],c<b.length-1&&(a+=", ");a+="}"}else a+="enabled:true}"}a+="};"}this.optionsDiv.innerHTML=a}function b(){var a=["graph_BH_table","graph_R_table","graph_H_table"],b=document.querySelector('input[name="graph_physicsMethod"]:checked').value,c="graph_"+b+"_table",d=document.getElementById(c);d.style.display="block";for(var e=0;e<a.length;e++)a[e]!=c&&(d=document.getElementById(a[e]),d.style.display=
"none");this._restoreNodes();"R"==b?(this.constants.hierarchicalLayout.enabled=!1,this.constants.physics.hierarchicalRepulsion.enabled=!1,this.constants.physics.barnesHut.enabled=!1):"H"==b?0==this.constants.hierarchicalLayout.enabled&&(this.constants.hierarchicalLayout.enabled=!0,this.constants.physics.hierarchicalRepulsion.enabled=!0,this.constants.physics.barnesHut.enabled=!1,this.constants.smoothCurves.enabled=!1,this._setupHierarchicalLayout()):(this.constants.hierarchicalLayout.enabled=!1,this.constants.physics.hierarchicalRepulsion.enabled=
!1,this.constants.physics.barnesHut.enabled=!0);this._loadSelectedForceSolver();document.getElementById("graph_toggleSmooth").style.background=1==this.constants.smoothCurves.enabled?"#A4FF56":"#FF8532";this.moving=!0;this.start()}function e(a,b,c){var d=a+"_value";a=document.getElementById(a).value;Array.isArray(b)?(document.getElementById(d).value=b[parseInt(a)],this._overWriteGraphConstants(c,b[parseInt(a)])):(document.getElementById(d).value=parseInt(b)*parseFloat(a),this._overWriteGraphConstants(c,
parseInt(b)*parseFloat(a)));"hierarchicalLayout_direction"!=c&&"hierarchicalLayout_levelSeparation"!=c&&"hierarchicalLayout_nodeSpacing"!=c||this._setupHierarchicalLayout();this.moving=!0;this.start()}var f=m(1),l=m(68),k=m(69),h=m(70);g._toggleBarnesHut=function(){this.constants.physics.barnesHut.enabled=!this.constants.physics.barnesHut.enabled;this._loadSelectedForceSolver();this.moving=!0;this.start()};g._loadSelectedForceSolver=function(){1==this.constants.physics.barnesHut.enabled?(this._clearMixin(l),
this._clearMixin(k),this.constants.physics.centralGravity=this.constants.physics.barnesHut.centralGravity,this.constants.physics.springLength=this.constants.physics.barnesHut.springLength,this.constants.physics.springConstant=this.constants.physics.barnesHut.springConstant,this.constants.physics.damping=this.constants.physics.barnesHut.damping,this._loadMixin(h)):1==this.constants.physics.hierarchicalRepulsion.enabled?(this._clearMixin(h),this._clearMixin(l),this.constants.physics.centralGravity=
this.constants.physics.hierarchicalRepulsion.centralGravity,this.constants.physics.springLength=this.constants.physics.hierarchicalRepulsion.springLength,this.constants.physics.springConstant=this.constants.physics.hierarchicalRepulsion.springConstant,this.constants.physics.damping=this.constants.physics.hierarchicalRepulsion.damping,this._loadMixin(k)):(this._clearMixin(h),this._clearMixin(k),this.barnesHutTree=void 0,this.constants.physics.centralGravity=this.constants.physics.repulsion.centralGravity,
this.constants.physics.springLength=this.constants.physics.repulsion.springLength,this.constants.physics.springConstant=this.constants.physics.repulsion.springConstant,this.constants.physics.damping=this.constants.physics.repulsion.damping,this._loadMixin(l))};g._initializeForceCalculation=function(){1==this.nodeIndices.length?this.nodes[this.nodeIndices[0]]._setForce(0,0):(this.nodeIndices.length>this.constants.clustering.clusterThreshold&&1==this.constants.clustering.enabled&&this.clusterToFit(this.constants.clustering.reduceToNodes,
!1),this._calculateForces())};g._calculateForces=function(){this._calculateGravitationalForces();this._calculateNodeForces();0<this.constants.physics.springConstant&&(1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic?this._calculateSpringForcesWithSupport():1==this.constants.physics.hierarchicalRepulsion.enabled?this._calculateHierarchicalSpringForces():this._calculateSpringForces())};g._updateCalculationNodes=function(){if(1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic){this.calculationNodes=
{};this.calculationNodeIndices=[];for(var a in this.nodes)this.nodes.hasOwnProperty(a)&&(this.calculationNodes[a]=this.nodes[a]);a=this.sectors.support.nodes;for(var b in a)a.hasOwnProperty(b)&&(this.edges.hasOwnProperty(a[b].parentEdgeId)?this.calculationNodes[b]=a[b]:a[b]._setForce(0,0));for(var c in this.calculationNodes)this.calculationNodes.hasOwnProperty(c)&&this.calculationNodeIndices.push(c)}else this.calculationNodes=this.nodes,this.calculationNodeIndices=this.nodeIndices};g._calculateGravitationalForces=
function(){var a,b,c,d,e,f=this.calculationNodes,h=this.constants.physics.centralGravity;for(e=c=0;e<this.calculationNodeIndices.length;e++)d=f[this.calculationNodeIndices[e]],d.damping=this.constants.physics.damping,"default"==this._sector()&&0!=h?(a=-d.x,b=-d.y,c=Math.sqrt(a*a+b*b),c=0==c?0:h/c,d.fx=a*c,d.fy=b*c):(d.fx=0,d.fy=0)};g._calculateSpringForces=function(){var a,b,c,d,e,f,h=this.edges;for(c in h)h.hasOwnProperty(c)&&(b=h[c],b.connected&&this.nodes.hasOwnProperty(b.toId)&&this.nodes.hasOwnProperty(b.fromId)&&
(a=b.physics.springLength,a+=(b.to.clusterSize+b.from.clusterSize-2)*this.constants.clustering.edgeGrowth,d=b.from.x-b.to.x,e=b.from.y-b.to.y,f=Math.sqrt(d*d+e*e),0==f&&(f=.01),a=this.constants.physics.springConstant*(a-f)/f,d*=a,e*=a,b.from.fx+=d,b.from.fy+=e,b.to.fx-=d,b.to.fy-=e))};g._calculateSpringForcesWithSupport=function(){var a,b,c,d=this.edges;for(b in d)if(d.hasOwnProperty(b)&&(a=d[b],a.connected&&this.nodes.hasOwnProperty(a.toId)&&this.nodes.hasOwnProperty(a.fromId)&&null!=a.via)){var e=
a.to,f=a.via,h=a.from;a=a.physics.springLength;c=e.clusterSize+h.clusterSize-2;a+=c*this.constants.clustering.edgeGrowth;this._calculateSpringForce(e,f,.5*a);this._calculateSpringForce(f,h,.5*a)}};g._calculateSpringForce=function(a,b,c){var d,e,f;d=a.x-b.x;e=a.y-b.y;f=Math.sqrt(d*d+e*e);0==f&&(f=.01);c=this.constants.physics.springConstant*(c-f)/f;d*=c;e*=c;a.fx+=d;a.fy+=e;b.fx-=d;b.fy-=e};g._cleanupPhysicsConfiguration=function(){if(void 0!==this.physicsConfiguration){for(;this.physicsConfiguration.hasChildNodes();)this.physicsConfiguration.removeChild(this.physicsConfiguration.firstChild);
this.physicsConfiguration.parentNode.removeChild(this.physicsConfiguration);this.physicsConfiguration=void 0}};g._loadPhysicsConfiguration=function(){if(void 0===this.physicsConfiguration){this.backupConstants={};f.deepExtend(this.backupConstants,this.constants);var h=["LR","RL","UD","DU"];this.physicsConfiguration=document.createElement("div");this.physicsConfiguration.className="PhysicsConfiguration";this.physicsConfiguration.innerHTML='<table><tr><td><b>Simulation Mode:</b></td></tr><tr><td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod1" value="BH" checked="checked">Barnes Hut</td><td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod2" value="R">Repulsion</td><td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod3" value="H">Hierarchical</td></tr></table><table id="graph_BH_table" style="display:none"><tr><td><b>Barnes Hut</b></td></tr><tr><td width="150px">gravitationalConstant</td><td>0</td><td><input type="range" min="0" max="20000" value="'+
-1*this.constants.physics.barnesHut.gravitationalConstant+'" step="25" style="width:300px" id="graph_BH_gc"></td><td  width="50px">-20000</td><td><input value="'+-1*this.constants.physics.barnesHut.gravitationalConstant+'" id="graph_BH_gc_value" style="width:60px"></td></tr><tr><td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="3"  value="'+this.constants.physics.barnesHut.centralGravity+'" step="0.05"  style="width:300px" id="graph_BH_cg"></td><td>3</td><td><input value="'+
this.constants.physics.barnesHut.centralGravity+'" id="graph_BH_cg_value" style="width:60px"></td></tr><tr><td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="'+this.constants.physics.barnesHut.springLength+'" step="1" style="width:300px" id="graph_BH_sl"></td><td>500</td><td><input value="'+this.constants.physics.barnesHut.springLength+'" id="graph_BH_sl_value" style="width:60px"></td></tr><tr><td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="0.5" value="'+
this.constants.physics.barnesHut.springConstant+'" step="0.001" style="width:300px" id="graph_BH_sc"></td><td>0.5</td><td><input value="'+this.constants.physics.barnesHut.springConstant+'" id="graph_BH_sc_value" style="width:60px"></td></tr><tr><td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="'+this.constants.physics.barnesHut.damping+'" step="0.005" style="width:300px" id="graph_BH_damp"></td><td>0.3</td><td><input value="'+this.constants.physics.barnesHut.damping+
'" id="graph_BH_damp_value" style="width:60px"></td></tr></table><table id="graph_R_table" style="display:none"><tr><td><b>Repulsion</b></td></tr><tr><td width="150px">nodeDistance</td><td>0</td><td><input type="range" min="0" max="300" value="'+this.constants.physics.repulsion.nodeDistance+'" step="1" style="width:300px" id="graph_R_nd"></td><td width="50px">300</td><td><input value="'+this.constants.physics.repulsion.nodeDistance+'" id="graph_R_nd_value" style="width:60px"></td></tr><tr><td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="3"  value="'+
this.constants.physics.repulsion.centralGravity+'" step="0.05"  style="width:300px" id="graph_R_cg"></td><td>3</td><td><input value="'+this.constants.physics.repulsion.centralGravity+'" id="graph_R_cg_value" style="width:60px"></td></tr><tr><td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="'+this.constants.physics.repulsion.springLength+'" step="1" style="width:300px" id="graph_R_sl"></td><td>500</td><td><input value="'+this.constants.physics.repulsion.springLength+
'" id="graph_R_sl_value" style="width:60px"></td></tr><tr><td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="0.5" value="'+this.constants.physics.repulsion.springConstant+'" step="0.001" style="width:300px" id="graph_R_sc"></td><td>0.5</td><td><input value="'+this.constants.physics.repulsion.springConstant+'" id="graph_R_sc_value" style="width:60px"></td></tr><tr><td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="'+this.constants.physics.repulsion.damping+
'" step="0.005" style="width:300px" id="graph_R_damp"></td><td>0.3</td><td><input value="'+this.constants.physics.repulsion.damping+'" id="graph_R_damp_value" style="width:60px"></td></tr></table><table id="graph_H_table" style="display:none"><tr><td width="150"><b>Hierarchical</b></td></tr><tr><td width="150px">nodeDistance</td><td>0</td><td><input type="range" min="0" max="300" value="'+this.constants.physics.hierarchicalRepulsion.nodeDistance+'" step="1" style="width:300px" id="graph_H_nd"></td><td width="50px">300</td><td><input value="'+
this.constants.physics.hierarchicalRepulsion.nodeDistance+'" id="graph_H_nd_value" style="width:60px"></td></tr><tr><td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="3"  value="'+this.constants.physics.hierarchicalRepulsion.centralGravity+'" step="0.05"  style="width:300px" id="graph_H_cg"></td><td>3</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.centralGravity+'" id="graph_H_cg_value" style="width:60px"></td></tr><tr><td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="'+
this.constants.physics.hierarchicalRepulsion.springLength+'" step="1" style="width:300px" id="graph_H_sl"></td><td>500</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.springLength+'" id="graph_H_sl_value" style="width:60px"></td></tr><tr><td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="0.5" value="'+this.constants.physics.hierarchicalRepulsion.springConstant+'" step="0.001" style="width:300px" id="graph_H_sc"></td><td>0.5</td><td><input value="'+
this.constants.physics.hierarchicalRepulsion.springConstant+'" id="graph_H_sc_value" style="width:60px"></td></tr><tr><td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="'+this.constants.physics.hierarchicalRepulsion.damping+'" step="0.005" style="width:300px" id="graph_H_damp"></td><td>0.3</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.damping+'" id="graph_H_damp_value" style="width:60px"></td></tr><tr><td width="150px">direction</td><td>1</td><td><input type="range" min="0" max="3" value="'+
h.indexOf(this.constants.hierarchicalLayout.direction)+'" step="1" style="width:300px" id="graph_H_direction"></td><td>4</td><td><input value="'+this.constants.hierarchicalLayout.direction+'" id="graph_H_direction_value" style="width:60px"></td></tr><tr><td width="150px">levelSeparation</td><td>1</td><td><input type="range" min="0" max="500" value="'+this.constants.hierarchicalLayout.levelSeparation+'" step="1" style="width:300px" id="graph_H_levsep"></td><td>500</td><td><input value="'+this.constants.hierarchicalLayout.levelSeparation+
'" id="graph_H_levsep_value" style="width:60px"></td></tr><tr><td width="150px">nodeSpacing</td><td>1</td><td><input type="range" min="0" max="500" value="'+this.constants.hierarchicalLayout.nodeSpacing+'" step="1" style="width:300px" id="graph_H_nspac"></td><td>500</td><td><input value="'+this.constants.hierarchicalLayout.nodeSpacing+'" id="graph_H_nspac_value" style="width:60px"></td></tr></table><table><tr><td><b>Options:</b></td></tr><tr><td width="180px"><input type="button" id="graph_toggleSmooth" value="Toggle smoothCurves" style="width:150px"></td><td width="180px"><input type="button" id="graph_repositionNodes" value="Reinitialize" style="width:150px"></td><td width="180px"><input type="button" id="graph_generateOptions" value="Generate Options" style="width:150px"></td></tr></table>';
this.containerElement.parentElement.insertBefore(this.physicsConfiguration,this.containerElement);this.optionsDiv=document.createElement("div");this.optionsDiv.style.fontSize="14px";this.optionsDiv.style.fontFamily="verdana";this.containerElement.parentElement.insertBefore(this.optionsDiv,this.containerElement);var g;g=document.getElementById("graph_BH_gc");g.onchange=e.bind(this,"graph_BH_gc",-1,"physics_barnesHut_gravitationalConstant");g=document.getElementById("graph_BH_cg");g.onchange=e.bind(this,
"graph_BH_cg",1,"physics_centralGravity");g=document.getElementById("graph_BH_sc");g.onchange=e.bind(this,"graph_BH_sc",1,"physics_springConstant");g=document.getElementById("graph_BH_sl");g.onchange=e.bind(this,"graph_BH_sl",1,"physics_springLength");g=document.getElementById("graph_BH_damp");g.onchange=e.bind(this,"graph_BH_damp",1,"physics_damping");g=document.getElementById("graph_R_nd");g.onchange=e.bind(this,"graph_R_nd",1,"physics_repulsion_nodeDistance");g=document.getElementById("graph_R_cg");
g.onchange=e.bind(this,"graph_R_cg",1,"physics_centralGravity");g=document.getElementById("graph_R_sc");g.onchange=e.bind(this,"graph_R_sc",1,"physics_springConstant");g=document.getElementById("graph_R_sl");g.onchange=e.bind(this,"graph_R_sl",1,"physics_springLength");g=document.getElementById("graph_R_damp");g.onchange=e.bind(this,"graph_R_damp",1,"physics_damping");g=document.getElementById("graph_H_nd");g.onchange=e.bind(this,"graph_H_nd",1,"physics_hierarchicalRepulsion_nodeDistance");g=document.getElementById("graph_H_cg");
g.onchange=e.bind(this,"graph_H_cg",1,"physics_centralGravity");g=document.getElementById("graph_H_sc");g.onchange=e.bind(this,"graph_H_sc",1,"physics_springConstant");g=document.getElementById("graph_H_sl");g.onchange=e.bind(this,"graph_H_sl",1,"physics_springLength");g=document.getElementById("graph_H_damp");g.onchange=e.bind(this,"graph_H_damp",1,"physics_damping");g=document.getElementById("graph_H_direction");g.onchange=e.bind(this,"graph_H_direction",h,"hierarchicalLayout_direction");g=document.getElementById("graph_H_levsep");
g.onchange=e.bind(this,"graph_H_levsep",1,"hierarchicalLayout_levelSeparation");g=document.getElementById("graph_H_nspac");g.onchange=e.bind(this,"graph_H_nspac",1,"hierarchicalLayout_nodeSpacing");h=document.getElementById("graph_physicsMethod1");g=document.getElementById("graph_physicsMethod2");var k=document.getElementById("graph_physicsMethod3");g.checked=!0;this.constants.physics.barnesHut.enabled&&(h.checked=!0);this.constants.hierarchicalLayout.enabled&&(k.checked=!0);var l=document.getElementById("graph_toggleSmooth"),
m=document.getElementById("graph_repositionNodes"),q=document.getElementById("graph_generateOptions");l.onclick=a.bind(this);m.onclick=d.bind(this);q.onclick=c.bind(this);l.style.background=1==this.constants.smoothCurves&&0==this.constants.dynamicSmoothCurves?"#A4FF56":"#FF8532";b.apply(this);h.onchange=b.bind(this);g.onchange=b.bind(this);k.onchange=b.bind(this)}};g._overWriteGraphConstants=function(a,b){var c=a.split("_");1==c.length?this.constants[c[0]]=b:2==c.length?this.constants[c[0]][c[1]]=
b:3==c.length&&(this.constants[c[0]][c[1]][c[2]]=b)}},function(q,g,m){function a(a){throw Error("Cannot find module '"+a+"'.");}a.keys=function(){return[]};a.resolve=a;q.exports=a;a.id=67},function(q,g,m){g._calculateNodeForces=function(){var a,d,c,b,e,f,g,k,h,m=this.calculationNodes,p=this.calculationNodeIndices,q=-2/3,u=4/3,v=this.constants.physics.repulsion.nodeDistance,B=v;for(k=0;k<p.length-1;k++)for(f=m[p[k]],h=k+1;h<p.length;h++)g=m[p[h]],b=f.clusterSize+g.clusterSize-2,a=g.x-f.x,d=g.y-f.y,
c=Math.sqrt(a*a+d*d),B=0==b?v:v*(1+b*this.constants.clustering.distanceAmplification),e=q/B,c<2*B&&(e=c<.5*B?1:e*c+u,e*=0==b?1:1+b*this.constants.clustering.forceAmplification,e/=Math.max(c,.01*B),a*=e,d*=e,f.fx-=a,f.fy-=d,g.fx+=a,g.fy+=d)}},function(q,g,m){g._calculateNodeForces=function(){var a,d,c,b,e,f,g,k,h=this.calculationNodes,m=this.calculationNodeIndices,p=this.constants.physics.hierarchicalRepulsion.nodeDistance;for(g=0;g<m.length-1;g++)for(e=h[m[g]],k=g+1;k<m.length;k++)f=h[m[k]],e.level==
f.level&&(a=f.x-e.x,d=f.y-e.y,c=Math.sqrt(a*a+d*d),b=c<p?-Math.pow(.05*c,2)+Math.pow(.05*p,2):0,0!=c&&(b/=c),a*=b,d*=b,e.fx-=a,e.fy-=d,f.fx+=a,f.fy+=d)};g._calculateHierarchicalSpringForces=function(){var a,d,c,b,e,f,g=this.edges,k=this.calculationNodes,h=this.calculationNodeIndices;for(d=0;d<h.length;d++)a=k[h[d]],a.springFx=0,a.springFy=0;for(c in g)g.hasOwnProperty(c)&&(d=g[c],d.connected&&this.nodes.hasOwnProperty(d.toId)&&this.nodes.hasOwnProperty(d.fromId)&&(a=d.physics.springLength,a+=(d.to.clusterSize+
d.from.clusterSize-2)*this.constants.clustering.edgeGrowth,b=d.from.x-d.to.x,e=d.from.y-d.to.y,f=Math.sqrt(b*b+e*e),0==f&&(f=.01),a=this.constants.physics.springConstant*(a-f)/f,b*=a,a*=e,d.to.level!=d.from.level?(d.to.springFx-=b,d.to.springFy-=a,d.from.springFx+=b,d.from.springFy+=a):(d.to.fx-=.5*b,d.to.fy-=.5*a,d.from.fx+=.5*b,d.from.fy+=.5*a)));a=1;for(d=0;d<h.length;d++)c=k[h[d]],g=Math.min(a,Math.max(-a,c.springFx)),e=Math.min(a,Math.max(-a,c.springFy)),c.fx+=g,c.fy+=e;for(d=g=a=0;d<h.length;d++)c=
k[h[d]],a+=c.fx,g+=c.fy;a/=h.length;g/=h.length;for(d=0;d<h.length;d++)c=k[h[d]],c.fx-=a,c.fy-=g}},function(q,g,m){g._calculateNodeForces=function(){if(0!=this.constants.physics.barnesHut.gravitationalConstant){var a,d=this.calculationNodes,c=this.calculationNodeIndices,b=c.length;this._formBarnesHutTree(d,c);for(var e=this.barnesHutTree,f=0;f<b;f++)a=d[c[f]],0<a.options.mass&&(this._getForceContribution(e.root.children.NW,a),this._getForceContribution(e.root.children.NE,a),this._getForceContribution(e.root.children.SW,
a),this._getForceContribution(e.root.children.SE,a))}};g._getForceContribution=function(a,d){if(0<a.childrenCount){var c,b,e;c=a.centerOfMass.x-d.x;b=a.centerOfMass.y-d.y;e=Math.sqrt(c*c+b*b);e*a.calcSize>this.constants.physics.barnesHut.thetaInverted?(0==e&&(c=e=.1*Math.random()),e=this.constants.physics.barnesHut.gravitationalConstant*a.mass*d.options.mass/(e*e*e),d.fx+=c*e,d.fy+=b*e):4==a.childrenCount?(this._getForceContribution(a.children.NW,d),this._getForceContribution(a.children.NE,d),this._getForceContribution(a.children.SW,
d),this._getForceContribution(a.children.SE,d)):a.children.data.id!=d.id&&(0==e&&(c=e=.5*Math.random()),e=this.constants.physics.barnesHut.gravitationalConstant*a.mass*d.options.mass/(e*e*e),d.fx+=c*e,d.fy+=b*e)}};g._formBarnesHutTree=function(a,d){var c,b=d.length,e=Number.MAX_VALUE;c=Number.MAX_VALUE;for(var f=-Number.MAX_VALUE,g=-Number.MAX_VALUE,k=0;k<b;k++){var h=a[d[k]].x,m=a[d[k]].y;0<a[d[k]].options.mass&&(h<e&&(e=h),h>f&&(f=h),m<c&&(c=m),m>g&&(g=m))}k=Math.abs(f-e)-Math.abs(g-c);0<k?(c-=
.5*k,g+=.5*k):(e+=.5*k,f-=.5*k);k=Math.max(1E-5,Math.abs(f-e));h=.5*k;e=.5*(e+f);c=.5*(c+g);g={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:e-h,maxX:e+h,minY:c-h,maxY:c+h},size:k,calcSize:1/k,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(g.root);for(k=0;k<b;k++)c=a[d[k]],0<c.options.mass&&this._placeInTree(g.root,c);this.barnesHutTree=g};g._updateBranchMass=function(a,d){var c=a.mass+d.options.mass,b=1/c;a.centerOfMass.x=a.centerOfMass.x*a.mass+d.x*d.options.mass;
a.centerOfMass.x*=b;a.centerOfMass.y=a.centerOfMass.y*a.mass+d.y*d.options.mass;a.centerOfMass.y*=b;a.mass=c;c=Math.max(Math.max(d.height,d.radius),d.width);a.maxWidth=a.maxWidth<c?c:a.maxWidth};g._placeInTree=function(a,d,c){1==c&&void 0!==c||this._updateBranchMass(a,d);a.children.NW.range.maxX>d.x?a.children.NW.range.maxY>d.y?this._placeInRegion(a,d,"NW"):this._placeInRegion(a,d,"SW"):a.children.NW.range.maxY>d.y?this._placeInRegion(a,d,"NE"):this._placeInRegion(a,d,"SE")};g._placeInRegion=function(a,
d,c){switch(a.children[c].childrenCount){case 0:a.children[c].children.data=d;a.children[c].childrenCount=1;this._updateBranchMass(a.children[c],d);break;case 1:a.children[c].children.data.x==d.x&&a.children[c].children.data.y==d.y?(d.x+=Math.random(),d.y+=Math.random()):(this._splitBranch(a.children[c]),this._placeInTree(a.children[c],d));break;case 4:this._placeInTree(a.children[c],d)}};g._splitBranch=function(a){var d=null;1==a.childrenCount&&(d=a.children.data,a.mass=0,a.centerOfMass.x=0,a.centerOfMass.y=
0);a.childrenCount=4;a.children.data=null;this._insertRegion(a,"NW");this._insertRegion(a,"NE");this._insertRegion(a,"SW");this._insertRegion(a,"SE");null!=d&&this._placeInTree(a,d)};g._insertRegion=function(a,d){var c,b,e,f,g=.5*a.size;switch(d){case "NW":c=a.range.minX;b=a.range.minX+g;e=a.range.minY;f=a.range.minY+g;break;case "NE":c=a.range.minX+g;b=a.range.maxX;e=a.range.minY;f=a.range.minY+g;break;case "SW":c=a.range.minX;b=a.range.minX+g;e=a.range.minY+g;f=a.range.maxY;break;case "SE":c=a.range.minX+
g,b=a.range.maxX,e=a.range.minY+g,f=a.range.maxY}a.children[d]={centerOfMass:{x:0,y:0},mass:0,range:{minX:c,maxX:b,minY:e,maxY:f},size:.5*a.size,calcSize:2*a.calcSize,children:{data:null},maxWidth:0,level:a.level+1,childrenCount:0}};g._drawTree=function(a,d){void 0!==this.barnesHutTree&&(a.lineWidth=1,this._drawBranch(this.barnesHutTree.root,a,d))};g._drawBranch=function(a,d,c){void 0===c&&(c="#FF0000");4==a.childrenCount&&(this._drawBranch(a.children.NW,d),this._drawBranch(a.children.NE,d),this._drawBranch(a.children.SE,
d),this._drawBranch(a.children.SW,d));d.strokeStyle=c;d.beginPath();d.moveTo(a.range.minX,a.range.minY);d.lineTo(a.range.maxX,a.range.minY);d.stroke();d.beginPath();d.moveTo(a.range.maxX,a.range.minY);d.lineTo(a.range.maxX,a.range.maxY);d.stroke();d.beginPath();d.moveTo(a.range.maxX,a.range.maxY);d.lineTo(a.range.minX,a.range.maxY);d.stroke();d.beginPath();d.moveTo(a.range.minX,a.range.maxY);d.lineTo(a.range.minX,a.range.minY);d.stroke()}},function(q,g,m){q.exports=function(a){a.webpackPolyfill||
(a.deprecate=function(){},a.paths=[],a.children=[],a.webpackPolyfill=1);return a}}])});